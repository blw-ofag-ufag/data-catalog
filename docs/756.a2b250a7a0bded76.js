"use strict";(self.webpackChunkDigiAgriFoodDB=self.webpackChunkDigiAgriFoodDB||[]).push([[756],{71:(Ce,Q,g)=>{Q.Qi=Q.XO=void 0;const P=g(5001),B=g(4228),k=g(8745);var L,E;(E=L||(Q.XO=L={})).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:k.Event.None}),E.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k.Event.None}),E.is=function T(x){const p=x;return p&&(p===E.None||p===E.Cancelled||B.boolean(p.isCancellationRequested)&&!!p.onCancellationRequested)};const b=Object.freeze(function(E,T){const x=(0,P.default)().timer.setTimeout(E.bind(T),0);return{dispose(){x.dispose()}}});class W{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?b:(this._emitter||(this._emitter=new k.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}Q.Qi=class K{get token(){return this._token||(this._token=new W),this._token}cancel(){this._token?this._token.cancel():this._token=L.Cancelled}dispose(){this._token?this._token instanceof W&&this._token.dispose():this._token=L.None}}},550:(Ce,Q,g)=>{function y(S){return S.charCodeAt(0)}function P(S,m){Array.isArray(S)?S.forEach(function(N){m.push(N)}):m.push(S)}function B(S,m){if(!0===S[m])throw"duplicate flag "+m;S[m]=!0}function k(S){if(void 0===S)throw Error("Internal Error - Should never get here!");return!0}function L(){throw Error("Internal Error - Should never get here!")}function b(S){return"Character"===S.type}g.d(Q,{z:()=>A,H:()=>R});const W=[];for(let S=y("0");S<=y("9");S++)W.push(S);const K=[y("_")].concat(W);for(let S=y("a");S<=y("z");S++)K.push(S);for(let S=y("A");S<=y("Z");S++)K.push(S);const E=[y(" "),y("\f"),y("\n"),y("\r"),y("\t"),y("\v"),y("\t"),y("\xa0"),y("\u1680"),y("\u2000"),y("\u2001"),y("\u2002"),y("\u2003"),y("\u2004"),y("\u2005"),y("\u2006"),y("\u2007"),y("\u2008"),y("\u2009"),y("\u200a"),y("\u2028"),y("\u2029"),y("\u202f"),y("\u205f"),y("\u3000"),y("\ufeff")],T=/[0-9a-fA-F]/,x=/[0-9]/,p=/[1-9]/;class R{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(m){this.idx=m.idx,this.input=m.input,this.groupIdx=m.groupIdx}pattern(m){this.idx=0,this.input=m,this.groupIdx=0,this.consumeChar("/");const N=this.disjunction();this.consumeChar("/");const w={type:"Flags",loc:{begin:this.idx,end:m.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":B(w,"global");break;case"i":B(w,"ignoreCase");break;case"m":B(w,"multiLine");break;case"u":B(w,"unicode");break;case"y":B(w,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:w,value:N,loc:this.loc(0)}}disjunction(){const m=[],N=this.idx;for(m.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),m.push(this.alternative());return{type:"Disjunction",value:m,loc:this.loc(N)}}alternative(){const m=[],N=this.idx;for(;this.isTerm();)m.push(this.term());return{type:"Alternative",value:m,loc:this.loc(N)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const m=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(m)};case"$":return{type:"EndAnchor",loc:this.loc(m)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(m)};case"B":return{type:"NonWordBoundary",loc:this.loc(m)}}throw Error("Invalid Assertion Escape");case"(":let N;switch(this.consumeChar("?"),this.popChar()){case"=":N="Lookahead";break;case"!":N="NegativeLookahead"}k(N);const w=this.disjunction();return this.consumeChar(")"),{type:N,value:w,loc:this.loc(m)}}return L()}quantifier(m=!1){let N;const w=this.idx;switch(this.popChar()){case"*":N={atLeast:0,atMost:1/0};break;case"+":N={atLeast:1,atMost:1/0};break;case"?":N={atLeast:0,atMost:1};break;case"{":const F=this.integerIncludingZero();switch(this.popChar()){case"}":N={atLeast:F,atMost:F};break;case",":let D;this.isDigit()?(D=this.integerIncludingZero(),N={atLeast:F,atMost:D}):N={atLeast:F,atMost:1/0},this.consumeChar("}")}if(!0===m&&void 0===N)return;k(N)}if((!0!==m||void 0!==N)&&k(N))return"?"===this.peekChar(0)?(this.consumeChar("?"),N.greedy=!1):N.greedy=!0,N.type="Quantifier",N.loc=this.loc(w),N}atom(){let m;const N=this.idx;switch(this.peekChar()){case".":m=this.dotAll();break;case"\\":m=this.atomEscape();break;case"[":m=this.characterClass();break;case"(":m=this.group()}return void 0===m&&this.isPatternCharacter()&&(m=this.patternCharacter()),k(m)?(m.loc=this.loc(N),this.isQuantifier()&&(m.quantifier=this.quantifier()),m):L()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[y("\n"),y("\r"),y("\u2028"),y("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let m,N=!1;switch(this.popChar()){case"d":m=W;break;case"D":m=W,N=!0;break;case"s":m=E;break;case"S":m=E,N=!0;break;case"w":m=K;break;case"W":m=K,N=!0}return k(m)?{type:"Set",value:m,complement:N}:L()}controlEscapeAtom(){let m;switch(this.popChar()){case"f":m=y("\f");break;case"n":m=y("\n");break;case"r":m=y("\r");break;case"t":m=y("\t");break;case"v":m=y("\v")}return k(m)?{type:"Character",value:m}:L()}controlLetterEscapeAtom(){this.consumeChar("c");const m=this.popChar();if(!1===/[a-zA-Z]/.test(m))throw Error("Invalid ");return{type:"Character",value:m.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:y("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:y(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:y(this.popChar())}}}characterClass(){const m=[];let N=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),N=!0);this.isClassAtom();){const w=this.classAtom();if(b(w)&&this.isRangeDash()){this.consumeChar("-");const D=this.classAtom();if(b(D)){if(D.value<w.value)throw Error("Range out of order in character class");m.push({from:w.value,to:D.value})}else P(w.value,m),m.push(y("-")),P(D.value,m)}else P(w.value,m)}return this.consumeChar("]"),{type:"Set",complement:N,value:m}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:y("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let m=!0;"?"===(this.consumeChar("("),this.peekChar(0))?(this.consumeChar("?"),this.consumeChar(":"),m=!1):this.groupIdx++;const N=this.disjunction();this.consumeChar(")");const w={type:"Group",capturing:m,value:N};return m&&(w.idx=this.groupIdx),w}positiveInteger(){let m=this.popChar();if(!1===p.test(m))throw Error("Expecting a positive integer");for(;x.test(this.peekChar(0));)m+=this.popChar();return parseInt(m,10)}integerIncludingZero(){let m=this.popChar();if(!1===x.test(m))throw Error("Expecting an integer");for(;x.test(this.peekChar(0));)m+=this.popChar();return parseInt(m,10)}patternCharacter(){const m=this.popChar();switch(m){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:y(m)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return x.test(this.peekChar(0))}isClassAtom(m=0){switch(this.peekChar(m)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){const m=this.saveState();try{return void 0!==this.quantifier(!0)}catch{return!1}finally{this.restoreState(m)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(m){let N="";for(let F=0;F<m;F++){const D=this.popChar();if(!1===T.test(D))throw Error("Expecting a HexDecimal digits");N+=D}return{type:"Character",value:parseInt(N,16)}}peekChar(m=0){return this.input[this.idx+m]}popChar(){const m=this.peekChar(0);return this.consumeChar(void 0),m}consumeChar(m){if(void 0!==m&&this.input[this.idx]!==m)throw Error("Expected: '"+m+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(m){return{begin:m,end:this.idx}}}class A{visitChildren(m){for(const N in m){const w=m[N];m.hasOwnProperty(N)&&(void 0!==w.type?this.visit(w):Array.isArray(w)&&w.forEach(F=>{this.visit(F)},this))}}visit(m){switch(m.type){case"Pattern":this.visitPattern(m);break;case"Flags":this.visitFlags(m);break;case"Disjunction":this.visitDisjunction(m);break;case"Alternative":this.visitAlternative(m);break;case"StartAnchor":this.visitStartAnchor(m);break;case"EndAnchor":this.visitEndAnchor(m);break;case"WordBoundary":this.visitWordBoundary(m);break;case"NonWordBoundary":this.visitNonWordBoundary(m);break;case"Lookahead":this.visitLookahead(m);break;case"NegativeLookahead":this.visitNegativeLookahead(m);break;case"Character":this.visitCharacter(m);break;case"Set":this.visitSet(m);break;case"Group":this.visitGroup(m);break;case"GroupBackReference":this.visitGroupBackReference(m);break;case"Quantifier":this.visitQuantifier(m)}this.visitChildren(m)}visitPattern(m){}visitFlags(m){}visitDisjunction(m){}visitAlternative(m){}visitStartAnchor(m){}visitEndAnchor(m){}visitWordBoundary(m){}visitNonWordBoundary(m){}visitLookahead(m){}visitNegativeLookahead(m){}visitCharacter(m){}visitSet(m){}visitGroup(m){}visitGroupBackReference(m){}visitQuantifier(m){}}},936:(Ce,Q,g)=>{g.d(Q,{A:()=>b});var y=g(5281),P=g(3744),B=g(2661);const b=function L(W){return"string"==typeof W||!(0,P.A)(W)&&(0,B.A)(W)&&"[object String]"==(0,y.A)(W)}},1021:(Ce,Q,g)=>{g.d(Q,{Ao:()=>x,Nt:()=>T,PC:()=>p,TH:()=>P,Yv:()=>E,lU:()=>W});var y=g(550);const P=/\r?\n/gm,B=new y.H,L=new class k extends y.z{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(S){this.multiline=!1,this.regex=S,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(S){S.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(S){const m=String.fromCharCode(S.value);if(!this.multiline&&"\n"===m&&(this.multiline=!0),S.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const N=T(m);this.endRegexpStack.push(N),this.isStarting&&(this.startRegexp+=N)}}visitSet(S){if(!this.multiline){const m=this.regex.substring(S.loc.begin,S.loc.end),N=new RegExp(m);this.multiline=!!"\n".match(N)}if(S.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const m=this.regex.substring(S.loc.begin,S.loc.end);this.endRegexpStack.push(m),this.isStarting&&(this.startRegexp+=m)}}visitChildren(S){"Group"===S.type&&S.quantifier||super.visitChildren(S)}};function W(A){try{return"string"==typeof A&&(A=new RegExp(A)),A=A.toString(),L.reset(A),L.visit(B.pattern(A)),L.multiline}catch{return!1}}const K="\f\n\r\t\v \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\ufeff".split("");function E(A){const S="string"==typeof A?new RegExp(A):A;return K.some(m=>S.test(m))}function T(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(A){return Array.prototype.map.call(A,S=>/\w/.test(S)?`[${S.toLowerCase()}${S.toUpperCase()}]`:T(S)).join("")}function p(A,S){const m=function R(A){"string"==typeof A&&(A=new RegExp(A));const S=A,m=A.source;let N=0;return new RegExp(function w(){let D,F="";function J(de){F+=m.substr(N,de),N+=de}function le(de){F+="(?:"+m.substr(N,de)+"|$)",N+=de}for(;N<m.length;)switch(m[N]){case"\\":switch(m[N+1]){case"c":le(3);break;case"x":le(4);break;case"u":le(S.unicode?"{"===m[N+2]?m.indexOf("}",N)-N+1:6:2);break;case"p":case"P":le(S.unicode?m.indexOf("}",N)-N+1:2);break;case"k":le(m.indexOf(">",N)-N+1);break;default:le(2)}break;case"[":D=/\[(?:\\.|.)*?\]/g,D.lastIndex=N,D=D.exec(m)||[],le(D[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":J(1);break;case"{":D=/\{\d+,?\d*\}/g,D.lastIndex=N,D=D.exec(m),D?J(D[0].length):le(1);break;case"(":if("?"===m[N+1])switch(m[N+2]){case":":F+="(?:",N+=3,F+=w()+"|$)";break;case"=":F+="(?=",N+=3,F+=w()+")";break;case"!":D=N,N+=3,w(),F+=m.substr(D,N-D);break;case"<":switch(m[N+3]){case"=":case"!":D=N,N+=4,w(),F+=m.substr(D,N-D);break;default:J(m.indexOf(">",N)-N+1),F+=w()+"|$)"}}else J(1),F+=w()+"|$)";break;case")":return++N,F;default:le(1)}return F}(),A.flags)}(A),N=S.match(m);return!!N&&N[0].length>0}},1037:(Ce,Q,g)=>{g.d(Q,{Q:()=>W});var y=g(7288),P=g(9990),B=g(9186),k=g(9843),L=g(1021),b=g(8816);class W{constructor(){this.diagnostics=[]}buildTokens(E,T){const x=(0,b.Td)((0,k.YV)(E,!1)),p=this.buildTerminalTokens(x),R=this.buildKeywordTokens(x,p,T);return p.forEach(A=>{const S=A.PATTERN;"object"==typeof S&&S&&"test"in S&&(0,L.Yv)(S)?R.unshift(A):R.push(A)}),R}flushLexingReport(E){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const E=[...this.diagnostics];return this.diagnostics=[],E}buildTerminalTokens(E){return E.filter(P.rE).filter(T=>!T.fragment).map(T=>this.buildTerminalToken(T)).toArray()}buildTerminalToken(E){const T=(0,k.S)(E),x=this.requiresCustomPattern(T)?this.regexPatternFunction(T):T,p={name:E.name,PATTERN:x};return"function"==typeof x&&(p.LINE_BREAKS=!0),E.hidden&&(p.GROUP=(0,L.Yv)(T)?y.JG.SKIPPED:"hidden"),p}requiresCustomPattern(E){return!!(E.flags.includes("u")||E.flags.includes("s")||E.source.includes("?<=")||E.source.includes("?<!"))}regexPatternFunction(E){const T=new RegExp(E,E.flags+"y");return(x,p)=>(T.lastIndex=p,T.exec(x))}buildKeywordTokens(E,T,x){return E.filter(P.s7).flatMap(p=>(0,B.Uo)(p).filter(P.wb)).distinct(p=>p.value).toArray().sort((p,R)=>R.value.length-p.value.length).map(p=>this.buildKeywordToken(p,T,!!x?.caseInsensitive))}buildKeywordToken(E,T,x){const p=this.buildKeywordPattern(E,x),R={name:E.value,PATTERN:p,LONGER_ALT:this.findLongerAlt(E,T)};return"function"==typeof p&&(R.LINE_BREAKS=!0),R}buildKeywordPattern(E,T){return T?new RegExp((0,L.Ao)(E.value)):E.value}findLongerAlt(E,T){return T.reduce((x,p)=>{const R=p?.PATTERN;return R?.source&&(0,L.PC)("^"+R.source+"$",E.value)&&x.push(p),x},[])}}},1511:(Ce,Q,g)=>{g.d(Q,{A:()=>p});var y=g(2040),P=g(1287),B=g(4429);var b=g(8556),W=g(2184),K=Math.max;const p=function k(R){return function(A,S,m){var N=Object(A);if(!(0,P.A)(A)){var w=(0,y.A)(S,3);A=(0,B.A)(A),S=function(D){return w(N[D],D,N)}}var F=R(A,S,m);return F>-1?N[w?A[F]:F]:void 0}}(function E(R,A,S){var m=null==R?0:R.length;if(!m)return-1;var N=null==S?0:(0,W.A)(S);return N<0&&(N=K(m+N,0)),(0,b.A)(R,(0,y.A)(A,3),N)})},1512:(Ce,Q,g)=>{g.d(Q,{El:()=>x,NS:()=>B,SX:()=>W,pO:()=>L,r4:()=>T,v:()=>R,wf:()=>b});var y=g(4910),P=g(8816);function B(V){return new P.Vj(V,ne=>(0,y.mD)(ne)?ne.content:[],{includeRoot:!0})}function L(V,ne){for(;V.container;)if((V=V.container)===ne)return!0;return!1}function b(V){return{start:{character:V.startColumn-1,line:V.startLine-1},end:{character:V.endColumn,line:V.endLine-1}}}function W(V){if(!V)return;const{offset:ne,end:fe,range:Ae}=V;return{range:Ae,offset:ne,end:fe,length:fe-ne}}var K=function(V){return V[V.Before=0]="Before",V[V.After=1]="After",V[V.OverlapFront=2]="OverlapFront",V[V.OverlapBack=3]="OverlapBack",V[V.Inside=4]="Inside",V[V.Outside=5]="Outside",V}(K||{});function T(V,ne){return function E(V,ne){if(V.end.line<ne.start.line||V.end.line===ne.start.line&&V.end.character<=ne.start.character)return K.Before;if(V.start.line>ne.end.line||V.start.line===ne.end.line&&V.start.character>=ne.end.character)return K.After;const fe=V.start.line>ne.start.line||V.start.line===ne.start.line&&V.start.character>=ne.start.character,Ae=V.end.line<ne.end.line||V.end.line===ne.end.line&&V.end.character<=ne.end.character;return fe&&Ae?K.Inside:fe?K.OverlapBack:Ae?K.OverlapFront:K.Outside}(V,ne)>K.After}const x=/^[\w\p{L}]$/u;function R(V,ne){if(V){const fe=function w(V,ne=!0){for(;V.container;){const fe=V.container;let Ae=fe.content.indexOf(V);for(;Ae>0;){Ae--;const ke=fe.content[Ae];if(ne||!ke.hidden)return ke}V=fe}}(V,!0);if(fe&&A(fe,ne))return fe;if((0,y.br)(V)){const Ae=V.content.findIndex(ke=>!ke.hidden);for(let ke=Ae-1;ke>=0;ke--){const ve=V.content[ke];if(A(ve,ne))return ve}}}}function A(V,ne){return(0,y.FC)(V)&&ne.includes(V.tokenType.name)}},1981:(Ce,Q,g)=>{g.d(Q,{A:()=>W});var P=Object.prototype.hasOwnProperty;const k=function B(K,E){return null!=K&&P.call(K,E)};var L=g(4549);const W=function b(K,E){return null!=K&&(0,L.A)(K,E,k)}},2009:(Ce,Q,g)=>{g.d(Q,{A:()=>P});const P=function y(B,k){return B<k}},2074:(Ce,Q,g)=>{g.d(Q,{A:()=>B});var y=g(4077);const B=function P(k,L,b){for(var W=-1,K=k.length;++W<K;){var E=k[W],T=L(E);if(null!=T&&(void 0===x?T==T&&!(0,y.A)(T):b(T,x)))var x=T,p=E}return p}},2184:(Ce,Q,g)=>{g.d(Q,{A:()=>B});var y=g(5809);const B=function P(k){var L=(0,y.A)(k),b=L%1;return L==L?b?L-b:L:0}},2280:(Ce,Q,g)=>{g.d(Q,{A:()=>k});var y=g(5267);const k=function B(L){return(0,y.A)(L,4)}},2383:(Ce,Q,g)=>{g.d(Q,{A:()=>B});var y=g(4367);const B=function P(k){return null!=k&&k.length?(0,y.A)(k,1):[]}},2565:(Ce,Q,g)=>{g.d(Q,{f:()=>W,l:()=>b});var y=g(7668),P=g(7050),B=g(8143),k=g(6024),L=class extends y.mR{static{(0,y.K2)(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},b={parser:{TokenBuilder:(0,y.K2)(()=>new L,"TokenBuilder"),ValueConverter:(0,y.K2)(()=>new y.Tm,"ValueConverter")}};function W(K=P.D){const E=(0,B.WQ)((0,k.u)(K),y.sr),T=(0,B.WQ)((0,k.t)({shared:E}),y.YP,b);return E.ServiceRegistry.register(T),{shared:E,Radar:T}}(0,y.K2)(W,"createRadarServices")},2671:(Ce,Q,g)=>{g.d(Q,{W:()=>y,d:()=>P});class y extends Error{constructor(k,L){super(k?`${L} at ${k.range.start.line}:${k.range.start.character}`:L)}}function P(B){throw new Error("Error! The input value was not handled.")}},4228:(Ce,Q)=>{function y(W){return"string"==typeof W||W instanceof String}function L(W){return Array.isArray(W)}Object.defineProperty(Q,"__esModule",{value:!0}),Q.stringArray=Q.array=Q.func=Q.error=Q.number=Q.string=Q.boolean=void 0,Q.boolean=function g(W){return!0===W||!1===W},Q.string=y,Q.number=function P(W){return"number"==typeof W||W instanceof Number},Q.error=function B(W){return W instanceof Error},Q.func=function k(W){return"function"==typeof W},Q.array=L,Q.stringArray=function b(W){return L(W)&&W.every(K=>y(K))}},4756:(Ce,Q,g)=>{g.d(Q,{qg:()=>x});var y=g(467),K=(g(7167),g(8573),g(5582),g(7246),g(4909),g(2565),g(7668)),E={},T={info:(0,K.K2)((0,y.A)(function*(){const{createInfoServices:A}=yield g.e(753).then(g.bind(g,7753)),S=A().Info.parser.LangiumParser;E.info=S}),"info"),packet:(0,K.K2)((0,y.A)(function*(){const{createPacketServices:A}=yield g.e(347).then(g.bind(g,3347)),S=A().Packet.parser.LangiumParser;E.packet=S}),"packet"),pie:(0,K.K2)((0,y.A)(function*(){const{createPieServices:A}=yield g.e(389).then(g.bind(g,3389)),S=A().Pie.parser.LangiumParser;E.pie=S}),"pie"),architecture:(0,K.K2)((0,y.A)(function*(){const{createArchitectureServices:A}=yield g.e(621).then(g.bind(g,2621)),S=A().Architecture.parser.LangiumParser;E.architecture=S}),"architecture"),gitGraph:(0,K.K2)((0,y.A)(function*(){const{createGitGraphServices:A}=yield g.e(327).then(g.bind(g,4327)),S=A().GitGraph.parser.LangiumParser;E.gitGraph=S}),"gitGraph"),radar:(0,K.K2)((0,y.A)(function*(){const{createRadarServices:A}=yield g.e(479).then(g.bind(g,3479)),S=A().Radar.parser.LangiumParser;E.radar=S}),"radar")};function x(A,S){return p.apply(this,arguments)}function p(){return(p=(0,y.A)(function*(A,S){const m=T[A];if(!m)throw new Error(`Unknown diagram type: ${A}`);E[A]||(yield m());const w=E[A].parse(S);if(w.lexerErrors.length>0||w.parserErrors.length>0)throw new R(w);return w.value})).apply(this,arguments)}(0,K.K2)(x,"parse");var R=class extends Error{constructor(A){super(`Parsing failed: ${A.lexerErrors.map(N=>N.message).join("\n")} ${A.parserErrors.map(N=>N.message).join("\n")}`),this.result=A}static{(0,K.K2)(this,"MermaidParseError")}}},4909:(Ce,Q,g)=>{g.d(Q,{S:()=>K,i:()=>W});var y=g(7668),P=g(7050),B=g(8143),k=g(6024),L=class extends y.mR{static{(0,y.K2)(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},b=class extends y.dg{static{(0,y.K2)(this,"ArchitectureValueConverter")}runCustomConverter(E,T,x){return"ARCH_ICON"===E.name?T.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===E.name?T.replace(/["()]/g,""):"ARCH_TITLE"===E.name?T.replace(/[[\]]/g,"").trim():void 0}},W={parser:{TokenBuilder:(0,y.K2)(()=>new L,"TokenBuilder"),ValueConverter:(0,y.K2)(()=>new b,"ValueConverter")}};function K(E=P.D){const T=(0,B.WQ)((0,k.u)(E),y.sr),x=(0,B.WQ)((0,k.t)({shared:T}),y.jE,W);return T.ServiceRegistry.register(x),{shared:T,Architecture:x}}(0,y.K2)(K,"createArchitectureServices")},4910:(Ce,Q,g)=>{function y(E){return"object"==typeof E&&null!==E&&"string"==typeof E.$type}function P(E){return"object"==typeof E&&null!==E&&"string"==typeof E.$refText}function B(E){return"object"==typeof E&&null!==E&&"string"==typeof E.name&&"string"==typeof E.type&&"string"==typeof E.path}function k(E){return"object"==typeof E&&null!==E&&y(E.container)&&P(E.reference)&&"string"==typeof E.message}g.d(Q,{A_:()=>P,FC:()=>W,Nr:()=>B,Zl:()=>k,br:()=>K,kD:()=>L,mD:()=>b,ng:()=>y});class L{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(T,x){return y(T)&&this.isSubtype(T.$type,x)}isSubtype(T,x){if(T===x)return!0;let p=this.subtypes[T];p||(p=this.subtypes[T]={});const R=p[x];if(void 0!==R)return R;{const A=this.computeIsSubtype(T,x);return p[x]=A,A}}getAllSubTypes(T){const x=this.allSubtypes[T];if(x)return x;{const p=this.getAllTypes(),R=[];for(const A of p)this.isSubtype(A,T)&&R.push(A);return this.allSubtypes[T]=R,R}}}function b(E){return"object"==typeof E&&null!==E&&Array.isArray(E.content)}function W(E){return"object"==typeof E&&null!==E&&"object"==typeof E.tokenType}function K(E){return b(E)&&"string"==typeof E.fullText}},5001:(Ce,Q)=>{let g;function y(){if(void 0===g)throw new Error("No runtime abstraction layer installed");return g}Object.defineProperty(Q,"__esModule",{value:!0}),(y||(y={})).install=function B(k){if(void 0===k)throw new Error("No runtime abstraction layer provided");g=k},Q.default=y},5221:(Ce,Q,g)=>{g.d(Q,{A:()=>L});var y=g(2074),P=g(2009),B=g(7003);const L=function k(b){return b&&b.length?(0,y.A)(b,B.A,P.A):void 0}},5582:(Ce,Q,g)=>{g.d(Q,{$:()=>W,T:()=>b});var y=g(7668),P=g(7050),B=g(8143),k=g(6024),L=class extends y.mR{static{(0,y.K2)(this,"PacketTokenBuilder")}constructor(){super(["packet-beta"])}},b={parser:{TokenBuilder:(0,y.K2)(()=>new L,"TokenBuilder"),ValueConverter:(0,y.K2)(()=>new y.Tm,"ValueConverter")}};function W(K=P.D){const E=(0,B.WQ)((0,k.u)(K),y.sr),T=(0,B.WQ)((0,k.t)({shared:E}),y.AM,b);return E.ServiceRegistry.register(T),{shared:E,Packet:T}}(0,y.K2)(W,"createPacketServices")},5809:(Ce,Q,g)=>{g.d(Q,{A:()=>F});var y=/\s/;var k=/^\s+/;const b=function L(D){return D&&D.slice(0,function P(D){for(var J=D.length;J--&&y.test(D.charAt(J)););return J}(D)+1).replace(k,"")};var W=g(554),K=g(4077),T=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,p=/^0o[0-7]+$/i,R=parseInt;var m=1/0;const F=function w(D){return D?(D=function A(D){if("number"==typeof D)return D;if((0,K.A)(D))return NaN;if((0,W.A)(D)){var J="function"==typeof D.valueOf?D.valueOf():D;D=(0,W.A)(J)?J+"":J}if("string"!=typeof D)return 0===D?D:+D;D=b(D);var le=x.test(D);return le||p.test(D)?R(D.slice(2),le?2:8):T.test(D)?NaN:+D}(D))===m||D===-m?17976931348623157e292*(D<0?-1:1):D==D?D:0:0===D?D:0}},6024:(Ce,Q,g)=>{g.d(Q,{t:()=>gi,u:()=>yi});var y=g(1512),P=g(9843),B=g(1021),k=g(9990),b=g(7288),W=g(6327),K=g(1207);function E(i,e,n){return`${i.name}_${e}_${n}`}class le{constructor(e){this.target=e}isEpsilon(){return!1}}class de extends le{constructor(e,n){super(e),this.tokenType=n}}class V extends le{constructor(e){super(e)}isEpsilon(){return!0}}class ne extends le{constructor(e,n,r){super(e),this.rule=n,this.followState=r}isEpsilon(){return!0}}function ke(i,e,n){return n instanceof b.BK?De(i,e,n.terminalType,n):n instanceof b.wL?function Qe(i,e,n){const r=n.referencedRule,s=i.ruleToStartState.get(r),l=z(i,e,n,{type:1}),c=z(i,e,n,{type:1});return me(l,new ne(s,r,c)),{left:l,right:c}}(i,e,n):n instanceof b.ak?function ue(i,e,n){const r=z(i,e,n,{type:1});_e(i,r);const s=(0,W.A)(n.definition,c=>ke(i,e,c));return be(i,e,r,n,...s)}(i,e,n):n instanceof b.c$?function ae(i,e,n){const r=z(i,e,n,{type:1});_e(i,r);return function st(i,e,n,r){const s=r.left;return G(s,r.right),i.decisionMap[E(e,"Option",n.idx)]=s,r}(i,e,n,be(i,e,r,n,Ee(i,e,n)))}(i,e,n):n instanceof b.Y2?function ve(i,e,n){const r=z(i,e,n,{type:5});_e(i,r);return he(i,e,n,be(i,e,r,n,Ee(i,e,n)))}(i,e,n):n instanceof b.Pp?function Ve(i,e,n){const r=z(i,e,n,{type:5});_e(i,r);return he(i,e,n,be(i,e,r,n,Ee(i,e,n)),De(i,e,n.separator,n))}(i,e,n):n instanceof b.$P?function q(i,e,n){const r=z(i,e,n,{type:4});_e(i,r);return Te(i,e,n,be(i,e,r,n,Ee(i,e,n)))}(i,e,n):n instanceof b.Cy?function Y(i,e,n){const r=z(i,e,n,{type:4});_e(i,r);return Te(i,e,n,be(i,e,r,n,Ee(i,e,n)),De(i,e,n.separator,n))}(i,e,n):Ee(i,e,n)}function Ee(i,e,n){const r=(0,K.A)((0,W.A)(n.definition,s=>ke(i,e,s)),s=>void 0!==s);return 1===r.length?r[0]:0===r.length?void 0:function ft(i,e){const n=e.length;for(let l=0;l<n-1;l++){const c=e[l];let h;1===c.left.transitions.length&&(h=c.left.transitions[0]);const _=h instanceof ne,j=e[l+1].left;1===c.left.type&&1===c.right.type&&void 0!==h&&(_&&h.followState===c.right||h.target===c.right)?(_?h.followState=j:h.target=j,oe(i,c.right)):G(c.right,j)}return{left:e[0].left,right:e[n-1].right}}(i,r)}function Te(i,e,n,r,s){const l=r.left,c=r.right,h=z(i,e,n,{type:11});_e(i,h);const _=z(i,e,n,{type:12});return l.loopback=h,_.loopback=h,i.decisionMap[E(e,s?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=h,G(c,h),void 0===s?(G(h,l),G(h,_)):(G(h,_),G(h,s.left),G(s.right,l)),{left:l,right:_}}function he(i,e,n,r,s){const l=r.left,c=r.right,h=z(i,e,n,{type:10});_e(i,h);const _=z(i,e,n,{type:12}),O=z(i,e,n,{type:9});return h.loopback=O,_.loopback=O,G(h,l),G(h,_),G(c,O),void 0!==s?(G(O,_),G(O,s.left),G(s.right,l)):G(O,h),i.decisionMap[E(e,s?"RepetitionWithSeparator":"Repetition",n.idx)]=h,{left:h,right:_}}function _e(i,e){return i.decisionStates.push(e),e.decision=i.decisionStates.length-1,e.decision}function be(i,e,n,r,...s){const l=z(i,e,r,{type:8,start:n});n.end=l;for(const h of s)void 0!==h?(G(n,h.left),G(h.right,l)):G(n,l);const c={left:n,right:l};return i.decisionMap[E(e,function qe(i){if(i instanceof b.ak)return"Alternation";if(i instanceof b.c$)return"Option";if(i instanceof b.Y2)return"Repetition";if(i instanceof b.Pp)return"RepetitionWithSeparator";if(i instanceof b.$P)return"RepetitionMandatory";if(i instanceof b.Cy)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(r),r.idx)]=n,c}function De(i,e,n,r){const s=z(i,e,r,{type:1}),l=z(i,e,r,{type:1});return me(s,new de(l,n)),{left:s,right:l}}function I(i,e,n){const r=i.ruleToStartState.get(e);G(r,n.left);const s=i.ruleToStopState.get(e);return G(n.right,s),{left:r,right:s}}function G(i,e){me(i,new V(e))}function z(i,e,n,r){const s=Object.assign({atn:i,production:n,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:i.states.length},r);return i.states.push(s),s}function me(i,e){0===i.transitions.length&&(i.epsilonOnlyTransitions=e.isEpsilon()),i.transitions.push(e)}function oe(i,e){i.states.splice(i.states.indexOf(e),1)}const Re={};class Se{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const n=Oe(e);n in this.map||(this.map[n]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return(0,W.A)(this.configs,e=>e.alt)}get key(){let e="";for(const n in this.map)e+=n+":";return e}}function Oe(i,e=!0){return`${e?`a${i.alt}`:""}s${i.state.stateNumber}:${i.stack.map(n=>n.stateNumber.toString()).join("_")}`}var $t=g(5221),jt=g(9150),ht=g(2040),hn=g(6485);const pn=function _t(i,e){return i&&i.length?(0,hn.A)(i,(0,ht.A)(e,2)):[]};var Vt=g(2383),Xe=g(9671),Ot=g(2036),Nn=g(8209);function Lt(i,e){const n={};return r=>{const s=r.toString();let l=n[s];return void 0!==l||(l={atnStartState:i,decision:e,states:{}},n[s]=l),l}}class Zt{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,n){this.predicates[e]=n}toString(){let e="";const n=this.predicates.length;for(let r=0;r<n;r++)e+=!0===this.predicates[r]?"1":"0";return e}}const Pt=new Zt;class $n extends b.T6{constructor(e){var n;super(),this.logging=null!==(n=e?.logging)&&void 0!==n?n:r=>console.log(r)}initialize(e){this.atn=function fe(i){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function Ae(i,e){const n=e.length;for(let r=0;r<n;r++){const s=e[r],l=z(i,s,void 0,{type:2}),c=z(i,s,void 0,{type:7});l.stop=c,i.ruleToStartState.set(s,l),i.ruleToStopState.set(s,c)}}(e,i);const n=i.length;for(let r=0;r<n;r++){const s=i[r],l=Ee(e,s,s);void 0!==l&&I(e,s,l)}return e}(e.rules),this.dfas=function On(i){const e=i.decisionStates.length,n=Array(e);for(let r=0;r<e;r++)n[r]=Lt(i.decisionStates[r],r);return n}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:n,rule:r,hasPredicates:s,dynamicTokensEnabled:l}=e,c=this.dfas,h=this.logging,_=E(r,"Alternation",n),j=this.atn.decisionMap[_].decision,te=(0,W.A)((0,b.jk)({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:r}),se=>(0,W.A)(se,Z=>Z[0]));if(We(te,!1)&&!l){const se=(0,Nn.A)(te,(Z,Me,Be)=>((0,Xe.A)(Me,Ze=>{Ze&&(Z[Ze.tokenTypeIdx]=Be,(0,Xe.A)(Ze.categoryMatches,mt=>{Z[mt]=Be}))}),Z),{});return s?function(Z){var Me;const Be=this.LA(1),Ze=se[Be.tokenTypeIdx];if(void 0!==Z&&void 0!==Ze){const mt=null===(Me=Z[Ze])||void 0===Me?void 0:Me.GATE;if(void 0!==mt&&!1===mt.call(this))return}return Ze}:function(){const Z=this.LA(1);return se[Z.tokenTypeIdx]}}return s?function(se){const Z=new Zt,Me=void 0===se?0:se.length;for(let Ze=0;Ze<Me;Ze++){const mt=se?.[Ze].GATE;Z.set(Ze,void 0===mt||mt.call(this))}const Be=It.call(this,c,j,Z,h);return"number"==typeof Be?Be:void 0}:function(){const se=It.call(this,c,j,Pt,h);return"number"==typeof se?se:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:n,rule:r,prodType:s,dynamicTokensEnabled:l}=e,c=this.dfas,h=this.logging,_=E(r,s,n),j=this.atn.decisionMap[_].decision,te=(0,W.A)((0,b.jk)({maxLookahead:1,occurrence:n,prodType:s,rule:r}),se=>(0,W.A)(se,Z=>Z[0]));if(We(te)&&te[0][0]&&!l){const Z=(0,Vt.A)(te[0]);if(1===Z.length&&(0,Ot.A)(Z[0].categoryMatches)){const Be=Z[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===Be}}{const Me=(0,Nn.A)(Z,(Be,Ze)=>(void 0!==Ze&&(Be[Ze.tokenTypeIdx]=!0,(0,Xe.A)(Ze.categoryMatches,mt=>{Be[mt]=!0})),Be),{});return function(){const Be=this.LA(1);return!0===Me[Be.tokenTypeIdx]}}}return function(){const se=It.call(this,c,j,Pt,h);return"object"!=typeof se&&0===se}}}function We(i,e=!0){const n=new Set;for(const r of i){const s=new Set;for(const l of r){if(void 0===l){if(e)break;return!1}const c=[l.tokenTypeIdx].concat(l.categoryMatches);for(const h of c)if(n.has(h)){if(!s.has(h))return!1}else n.add(h),s.add(h)}}return!0}function It(i,e,n,r){const s=i[e](n);let l=s.start;if(void 0===l){const h=function ce(i){const e=new Se,n=i.transitions.length;for(let r=0;r<n;r++)Le({state:i.transitions[r].target,alt:r,stack:[]},e);return e}(s.atnStartState);l=qt(s,mn(h)),s.start=l}return Ln.apply(this,[s,l,n,r])}function Ln(i,e,n,r){let s=e,l=1;const c=[];let h=this.LA(l++);for(;;){let _=Mn(s,h);if(void 0===_&&(_=Gt.apply(this,[i,s,h,l,n,r])),_===Re)return Tt(c,s,h);if(!0===_.isAcceptState)return _.prediction;s=_,c.push(h),h=this.LA(l++)}}function Gt(i,e,n,r,s,l){const c=function it(i,e,n){const r=new Se,s=[];for(const c of i.elements){if(!1===n.is(c.alt))continue;if(7===c.state.type){s.push(c);continue}const h=c.state.transitions.length;for(let _=0;_<h;_++){const j=Ht(c.state.transitions[_],e);void 0!==j&&r.add({state:j,alt:c.alt,stack:c.stack})}}let l;if(0===s.length&&1===r.size&&(l=r),void 0===l){l=new Se;for(const c of r.elements)Le(c,l)}if(s.length>0&&!function ot(i){for(const e of i.elements)if(7===e.state.type)return!0;return!1}(l))for(const c of s)l.add(c);return l}(e.configs,n,s);if(0===c.size)return Ct(i,e,n,Re),Re;let h=mn(c);const _=function xt(i,e){let n;for(const r of i.elements)if(!0===e.is(r.alt))if(void 0===n)n=r.alt;else if(n!==r.alt)return;return n}(c,s);if(void 0!==_)h.isAcceptState=!0,h.prediction=_,h.configs.uniqueAlt=_;else if(function Qn(i){if(function lt(i){for(const e of i.elements)if(7!==e.state.type)return!1;return!0}(i))return!0;const e=function en(i){const e=new Map;for(const n of i){const r=Oe(n,!1);let s=e.get(r);void 0===s&&(s={},e.set(r,s)),s[n.alt]=!0}return e}(i.elements);return function kr(i){for(const e of Array.from(i.values()))if(Object.keys(e).length>1)return!0;return!1}(e)&&!function tn(i){for(const e of Array.from(i.values()))if(1===Object.keys(e).length)return!0;return!1}(e)}(c)){const O=(0,$t.A)(c.alts);h.isAcceptState=!0,h.prediction=O,h.configs.uniqueAlt=O,Pn.apply(this,[i,r,c.alts,l])}return h=Ct(i,e,n,h),h}function Pn(i,e,n,r){const s=[];for(let O=1;O<=e;O++)s.push(this.LA(O).tokenType);const l=i.atnStartState,_=function et(i){const e=(0,W.A)(i.prefixPath,s=>(0,b.Sk)(s)).join(", "),n=0===i.production.idx?"":i.production.idx;let r=`Ambiguous Alternatives Detected: <${i.ambiguityIndices.join(", ")}> in <${function wn(i){if(i instanceof b.wL)return"SUBRULE";if(i instanceof b.c$)return"OPTION";if(i instanceof b.ak)return"OR";if(i instanceof b.$P)return"AT_LEAST_ONE";if(i instanceof b.Cy)return"AT_LEAST_ONE_SEP";if(i instanceof b.Pp)return"MANY_SEP";if(i instanceof b.Y2)return"MANY";if(i instanceof b.BK)return"CONSUME";throw Error("non exhaustive match")}(i.production)}${n}> inside <${i.topLevelRule.name}> Rule,\n<${e}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r}({topLevelRule:l.rule,ambiguityIndices:n,production:l.production,prefixPath:s});r(_)}function Tt(i,e,n){const r=(0,jt.A)(e.configs.elements,l=>l.state.transitions);return{actualToken:n,possibleTokenTypes:pn(r.filter(l=>l instanceof de).map(l=>l.tokenType),l=>l.tokenTypeIdx),tokenPath:i}}function Mn(i,e){return i.edges[e.tokenTypeIdx]}function Ht(i,e){if(i instanceof de&&(0,b.G)(e,i.tokenType))return i.target}function mn(i){return{configs:i,edges:{},isAcceptState:!1,prediction:-1}}function Ct(i,e,n,r){return r=qt(i,r),e.edges[n.tokenTypeIdx]=r,r}function qt(i,e){if(e===Re)return e;const n=e.configs.key,r=i.states[n];return void 0!==r?r:(e.configs.finalize(),i.states[n]=e,e)}function Le(i,e){const n=i.state;if(7===n.type){if(i.stack.length>0){const s=[...i.stack];Le({state:s.pop(),alt:i.alt,stack:s},e)}else e.add(i);return}n.epsilonOnlyTransitions||e.add(i);const r=n.transitions.length;for(let s=0;s<r;s++){const c=at(i,n.transitions[s]);void 0!==c&&Le(c,e)}}function at(i,e){if(e instanceof V)return{state:e.target,alt:i.alt,stack:i.stack};if(e instanceof ne){const n=[...i.stack,e.followState];return{state:e.target,alt:i.alt,stack:n}}}var ct,zt,wt,gn,we,re,H,Mt,ut,bn,Xt,cs,Jn,ds,Zn,yn,Bt,An,dt,Yt,qn,Dn,Tn,Un,vn,Et,nn,Rn,Sr,_n,Fn,Gn,nr,Bn,hs,Wn,rr,ps,sr,In,ki,Si,ms,Ke=g(9186);(ct||(ct={})).is=function e(n){return"string"==typeof n},(zt||(zt={})).is=function e(n){return"string"==typeof n},function(i){i.MIN_VALUE=-2147483648,i.MAX_VALUE=2147483647,i.is=function e(n){return"number"==typeof n&&i.MIN_VALUE<=n&&n<=i.MAX_VALUE}}(wt||(wt={})),function(i){i.MIN_VALUE=0,i.MAX_VALUE=2147483647,i.is=function e(n){return"number"==typeof n&&i.MIN_VALUE<=n&&n<=i.MAX_VALUE}}(gn||(gn={})),function(i){i.create=function e(r,s){return r===Number.MAX_VALUE&&(r=gn.MAX_VALUE),s===Number.MAX_VALUE&&(s=gn.MAX_VALUE),{line:r,character:s}},i.is=function n(r){let s=r;return M.objectLiteral(s)&&M.uinteger(s.line)&&M.uinteger(s.character)}}(we||(we={})),function(i){i.create=function e(r,s,l,c){if(M.uinteger(r)&&M.uinteger(s)&&M.uinteger(l)&&M.uinteger(c))return{start:we.create(r,s),end:we.create(l,c)};if(we.is(r)&&we.is(s))return{start:r,end:s};throw new Error(`Range#create called with invalid arguments[${r}, ${s}, ${l}, ${c}]`)},i.is=function n(r){let s=r;return M.objectLiteral(s)&&we.is(s.start)&&we.is(s.end)}}(re||(re={})),function(i){i.create=function e(r,s){return{uri:r,range:s}},i.is=function n(r){let s=r;return M.objectLiteral(s)&&re.is(s.range)&&(M.string(s.uri)||M.undefined(s.uri))}}(H||(H={})),function(i){i.create=function e(r,s,l,c){return{targetUri:r,targetRange:s,targetSelectionRange:l,originSelectionRange:c}},i.is=function n(r){let s=r;return M.objectLiteral(s)&&re.is(s.targetRange)&&M.string(s.targetUri)&&re.is(s.targetSelectionRange)&&(re.is(s.originSelectionRange)||M.undefined(s.originSelectionRange))}}(Mt||(Mt={})),function(i){i.create=function e(r,s,l,c){return{red:r,green:s,blue:l,alpha:c}},i.is=function n(r){const s=r;return M.objectLiteral(s)&&M.numberRange(s.red,0,1)&&M.numberRange(s.green,0,1)&&M.numberRange(s.blue,0,1)&&M.numberRange(s.alpha,0,1)}}(ut||(ut={})),function(i){i.create=function e(r,s){return{range:r,color:s}},i.is=function n(r){const s=r;return M.objectLiteral(s)&&re.is(s.range)&&ut.is(s.color)}}(bn||(bn={})),function(i){i.create=function e(r,s,l){return{label:r,textEdit:s,additionalTextEdits:l}},i.is=function n(r){const s=r;return M.objectLiteral(s)&&M.string(s.label)&&(M.undefined(s.textEdit)||Bt.is(s))&&(M.undefined(s.additionalTextEdits)||M.typedArray(s.additionalTextEdits,Bt.is))}}(Xt||(Xt={})),function(i){i.create=function e(r,s,l,c,h,_){const O={startLine:r,endLine:s};return M.defined(l)&&(O.startCharacter=l),M.defined(c)&&(O.endCharacter=c),M.defined(h)&&(O.kind=h),M.defined(_)&&(O.collapsedText=_),O},i.is=function n(r){const s=r;return M.objectLiteral(s)&&M.uinteger(s.startLine)&&M.uinteger(s.startLine)&&(M.undefined(s.startCharacter)||M.uinteger(s.startCharacter))&&(M.undefined(s.endCharacter)||M.uinteger(s.endCharacter))&&(M.undefined(s.kind)||M.string(s.kind))}}(cs||(cs={})),function(i){i.create=function e(r,s){return{location:r,message:s}},i.is=function n(r){let s=r;return M.defined(s)&&H.is(s.location)&&M.string(s.message)}}(Jn||(Jn={})),function(i){i.is=function e(n){const r=n;return M.objectLiteral(r)&&M.string(r.href)}}(ds||(ds={})),function(i){i.create=function e(r,s,l,c,h,_){let O={range:r,message:s};return M.defined(l)&&(O.severity=l),M.defined(c)&&(O.code=c),M.defined(h)&&(O.source=h),M.defined(_)&&(O.relatedInformation=_),O},i.is=function n(r){var s;let l=r;return M.defined(l)&&re.is(l.range)&&M.string(l.message)&&(M.number(l.severity)||M.undefined(l.severity))&&(M.integer(l.code)||M.string(l.code)||M.undefined(l.code))&&(M.undefined(l.codeDescription)||M.string(null===(s=l.codeDescription)||void 0===s?void 0:s.href))&&(M.string(l.source)||M.undefined(l.source))&&(M.undefined(l.relatedInformation)||M.typedArray(l.relatedInformation,Jn.is))}}(Zn||(Zn={})),function(i){i.create=function e(r,s,...l){let c={title:r,command:s};return M.defined(l)&&l.length>0&&(c.arguments=l),c},i.is=function n(r){let s=r;return M.defined(s)&&M.string(s.title)&&M.string(s.command)}}(yn||(yn={})),function(i){i.replace=function e(l,c){return{range:l,newText:c}},i.insert=function n(l,c){return{range:{start:l,end:l},newText:c}},i.del=function r(l){return{range:l,newText:""}},i.is=function s(l){const c=l;return M.objectLiteral(c)&&M.string(c.newText)&&re.is(c.range)}}(Bt||(Bt={})),function(i){i.create=function e(r,s,l){const c={label:r};return void 0!==s&&(c.needsConfirmation=s),void 0!==l&&(c.description=l),c},i.is=function n(r){const s=r;return M.objectLiteral(s)&&M.string(s.label)&&(M.boolean(s.needsConfirmation)||void 0===s.needsConfirmation)&&(M.string(s.description)||void 0===s.description)}}(An||(An={})),function(i){i.is=function e(n){return M.string(n)}}(dt||(dt={})),function(i){i.replace=function e(l,c,h){return{range:l,newText:c,annotationId:h}},i.insert=function n(l,c,h){return{range:{start:l,end:l},newText:c,annotationId:h}},i.del=function r(l,c){return{range:l,newText:"",annotationId:c}},i.is=function s(l){const c=l;return Bt.is(c)&&(An.is(c.annotationId)||dt.is(c.annotationId))}}(Yt||(Yt={})),function(i){i.create=function e(r,s){return{textDocument:r,edits:s}},i.is=function n(r){let s=r;return M.defined(s)&&Rn.is(s.textDocument)&&Array.isArray(s.edits)}}(qn||(qn={})),function(i){i.create=function e(r,s,l){let c={kind:"create",uri:r};return void 0!==s&&(void 0!==s.overwrite||void 0!==s.ignoreIfExists)&&(c.options=s),void 0!==l&&(c.annotationId=l),c},i.is=function n(r){let s=r;return s&&"create"===s.kind&&M.string(s.uri)&&(void 0===s.options||(void 0===s.options.overwrite||M.boolean(s.options.overwrite))&&(void 0===s.options.ignoreIfExists||M.boolean(s.options.ignoreIfExists)))&&(void 0===s.annotationId||dt.is(s.annotationId))}}(Dn||(Dn={})),function(i){i.create=function e(r,s,l,c){let h={kind:"rename",oldUri:r,newUri:s};return void 0!==l&&(void 0!==l.overwrite||void 0!==l.ignoreIfExists)&&(h.options=l),void 0!==c&&(h.annotationId=c),h},i.is=function n(r){let s=r;return s&&"rename"===s.kind&&M.string(s.oldUri)&&M.string(s.newUri)&&(void 0===s.options||(void 0===s.options.overwrite||M.boolean(s.options.overwrite))&&(void 0===s.options.ignoreIfExists||M.boolean(s.options.ignoreIfExists)))&&(void 0===s.annotationId||dt.is(s.annotationId))}}(Tn||(Tn={})),function(i){i.create=function e(r,s,l){let c={kind:"delete",uri:r};return void 0!==s&&(void 0!==s.recursive||void 0!==s.ignoreIfNotExists)&&(c.options=s),void 0!==l&&(c.annotationId=l),c},i.is=function n(r){let s=r;return s&&"delete"===s.kind&&M.string(s.uri)&&(void 0===s.options||(void 0===s.options.recursive||M.boolean(s.options.recursive))&&(void 0===s.options.ignoreIfNotExists||M.boolean(s.options.ignoreIfNotExists)))&&(void 0===s.annotationId||dt.is(s.annotationId))}}(Un||(Un={})),function(i){i.is=function e(n){return n&&(void 0!==n.changes||void 0!==n.documentChanges)&&(void 0===n.documentChanges||n.documentChanges.every(s=>M.string(s.kind)?Dn.is(s)||Tn.is(s)||Un.is(s):qn.is(s)))}}(vn||(vn={})),function(i){i.create=function e(r){return{uri:r}},i.is=function n(r){let s=r;return M.defined(s)&&M.string(s.uri)}}(Et||(Et={})),function(i){i.create=function e(r,s){return{uri:r,version:s}},i.is=function n(r){let s=r;return M.defined(s)&&M.string(s.uri)&&M.integer(s.version)}}(nn||(nn={})),function(i){i.create=function e(r,s){return{uri:r,version:s}},i.is=function n(r){let s=r;return M.defined(s)&&M.string(s.uri)&&(null===s.version||M.integer(s.version))}}(Rn||(Rn={})),function(i){i.create=function e(r,s,l,c){return{uri:r,languageId:s,version:l,text:c}},i.is=function n(r){let s=r;return M.defined(s)&&M.string(s.uri)&&M.string(s.languageId)&&M.integer(s.version)&&M.string(s.text)}}(Sr||(Sr={})),function(i){i.PlainText="plaintext",i.Markdown="markdown",i.is=function e(n){return n===i.PlainText||n===i.Markdown}}(_n||(_n={})),function(i){i.is=function e(n){const r=n;return M.objectLiteral(n)&&_n.is(r.kind)&&M.string(r.value)}}(Fn||(Fn={})),function(i){i.create=function e(r,s,l){return{newText:r,insert:s,replace:l}},i.is=function n(r){const s=r;return s&&M.string(s.newText)&&re.is(s.insert)&&re.is(s.replace)}}(Gn||(Gn={})),function(i){i.is=function e(n){const r=n;return r&&(M.string(r.detail)||void 0===r.detail)&&(M.string(r.description)||void 0===r.description)}}(nr||(nr={})),function(i){i.create=function e(n){return{label:n}}}(Bn||(Bn={})),function(i){i.create=function e(n,r){return{items:n||[],isIncomplete:!!r}}}(hs||(hs={})),function(i){i.fromPlainText=function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},i.is=function n(r){const s=r;return M.string(s)||M.objectLiteral(s)&&M.string(s.language)&&M.string(s.value)}}(Wn||(Wn={})),function(i){i.is=function e(n){let r=n;return!!r&&M.objectLiteral(r)&&(Fn.is(r.contents)||Wn.is(r.contents)||M.typedArray(r.contents,Wn.is))&&(void 0===n.range||re.is(n.range))}}(rr||(rr={})),function(i){i.create=function e(n,r){return r?{label:n,documentation:r}:{label:n}}}(ps||(ps={})),function(i){i.create=function e(n,r,...s){let l={label:n};return M.defined(r)&&(l.documentation=r),l.parameters=M.defined(s)?s:[],l}}(sr||(sr={})),function(i){i.create=function e(n,r){let s={range:n};return M.number(r)&&(s.kind=r),s}}(In||(In={})),function(i){i.create=function e(n,r,s,l,c){let h={name:n,kind:r,location:{uri:l,range:s}};return c&&(h.containerName=c),h}}(ki||(ki={})),function(i){i.create=function e(n,r,s,l){return void 0!==l?{name:n,kind:r,location:{uri:s,range:l}}:{name:n,kind:r,location:{uri:s}}}}(Si||(Si={})),function(i){i.create=function e(r,s,l,c,h,_){let O={name:r,detail:s,kind:l,range:c,selectionRange:h};return void 0!==_&&(O.children=_),O},i.is=function n(r){let s=r;return s&&M.string(s.name)&&M.number(s.kind)&&re.is(s.range)&&re.is(s.selectionRange)&&(void 0===s.detail||M.string(s.detail))&&(void 0===s.deprecated||M.boolean(s.deprecated))&&(void 0===s.children||Array.isArray(s.children))&&(void 0===s.tags||Array.isArray(s.tags))}}(ms||(ms={}));var gs,ys,As,Ts,vs,Es,Rs,_s,Is,xs,Cs,$r,or,Or,ks,Ss,Ns,Os,Ls,Lr,Pr,M,Nr=function(i){return i.Invoked=1,i.Automatic=2,i}(Nr||{});!function(i){i.create=function e(r,s,l){let c={diagnostics:r};return null!=s&&(c.only=s),null!=l&&(c.triggerKind=l),c},i.is=function n(r){let s=r;return M.defined(s)&&M.typedArray(s.diagnostics,Zn.is)&&(void 0===s.only||M.typedArray(s.only,M.string))&&(void 0===s.triggerKind||s.triggerKind===Nr.Invoked||s.triggerKind===Nr.Automatic)}}(gs||(gs={})),function(i){i.create=function e(r,s,l){let c={title:r},h=!0;return"string"==typeof s?(h=!1,c.kind=s):yn.is(s)?c.command=s:c.edit=s,h&&void 0!==l&&(c.kind=l),c},i.is=function n(r){let s=r;return s&&M.string(s.title)&&(void 0===s.diagnostics||M.typedArray(s.diagnostics,Zn.is))&&(void 0===s.kind||M.string(s.kind))&&(void 0!==s.edit||void 0!==s.command)&&(void 0===s.command||yn.is(s.command))&&(void 0===s.isPreferred||M.boolean(s.isPreferred))&&(void 0===s.edit||vn.is(s.edit))}}(ys||(ys={})),function(i){i.create=function e(r,s){let l={range:r};return M.defined(s)&&(l.data=s),l},i.is=function n(r){let s=r;return M.defined(s)&&re.is(s.range)&&(M.undefined(s.command)||yn.is(s.command))}}(As||(As={})),function(i){i.create=function e(r,s){return{tabSize:r,insertSpaces:s}},i.is=function n(r){let s=r;return M.defined(s)&&M.uinteger(s.tabSize)&&M.boolean(s.insertSpaces)}}(Ts||(Ts={})),function(i){i.create=function e(r,s,l){return{range:r,target:s,data:l}},i.is=function n(r){let s=r;return M.defined(s)&&re.is(s.range)&&(M.undefined(s.target)||M.string(s.target))}}(vs||(vs={})),function(i){i.create=function e(r,s){return{range:r,parent:s}},i.is=function n(r){let s=r;return M.objectLiteral(s)&&re.is(s.range)&&(void 0===s.parent||i.is(s.parent))}}(Es||(Es={})),function(i){i.is=function e(n){const r=n;return M.objectLiteral(r)&&(void 0===r.resultId||"string"==typeof r.resultId)&&Array.isArray(r.data)&&(0===r.data.length||"number"==typeof r.data[0])}}(Rs||(Rs={})),function(i){i.create=function e(r,s){return{range:r,text:s}},i.is=function n(r){const s=r;return null!=s&&re.is(s.range)&&M.string(s.text)}}(_s||(_s={})),function(i){i.create=function e(r,s,l){return{range:r,variableName:s,caseSensitiveLookup:l}},i.is=function n(r){const s=r;return null!=s&&re.is(s.range)&&M.boolean(s.caseSensitiveLookup)&&(M.string(s.variableName)||void 0===s.variableName)}}(Is||(Is={})),function(i){i.create=function e(r,s){return{range:r,expression:s}},i.is=function n(r){const s=r;return null!=s&&re.is(s.range)&&(M.string(s.expression)||void 0===s.expression)}}(xs||(xs={})),function(i){i.create=function e(r,s){return{frameId:r,stoppedLocation:s}},i.is=function n(r){return M.defined(r)&&re.is(r.stoppedLocation)}}(Cs||(Cs={})),function(i){i.Type=1,i.Parameter=2,i.is=function e(n){return 1===n||2===n}}($r||($r={})),function(i){i.create=function e(r){return{value:r}},i.is=function n(r){const s=r;return M.objectLiteral(s)&&(void 0===s.tooltip||M.string(s.tooltip)||Fn.is(s.tooltip))&&(void 0===s.location||H.is(s.location))&&(void 0===s.command||yn.is(s.command))}}(or||(or={})),function(i){i.create=function e(r,s,l){const c={position:r,label:s};return void 0!==l&&(c.kind=l),c},i.is=function n(r){const s=r;return M.objectLiteral(s)&&we.is(s.position)&&(M.string(s.label)||M.typedArray(s.label,or.is))&&(void 0===s.kind||$r.is(s.kind))&&void 0===s.textEdits||M.typedArray(s.textEdits,Bt.is)&&(void 0===s.tooltip||M.string(s.tooltip)||Fn.is(s.tooltip))&&(void 0===s.paddingLeft||M.boolean(s.paddingLeft))&&(void 0===s.paddingRight||M.boolean(s.paddingRight))}}(Or||(Or={})),function(i){i.createSnippet=function e(n){return{kind:"snippet",value:n}}}(ks||(ks={})),function(i){i.create=function e(n,r,s,l){return{insertText:n,filterText:r,range:s,command:l}}}(Ss||(Ss={})),function(i){i.create=function e(n){return{items:n}}}(Ns||(Ns={})),function(i){i.create=function e(n,r){return{range:n,text:r}}}(Os||(Os={})),function(i){i.create=function e(n,r){return{triggerKind:n,selectedCompletionInfo:r}}}(Ls||(Ls={})),function(i){i.is=function e(n){const r=n;return M.objectLiteral(r)&&zt.is(r.uri)&&M.string(r.name)}}(Lr||(Lr={})),function(i){function s(l,c){if(l.length<=1)return l;const h=l.length/2|0,_=l.slice(0,h),O=l.slice(h);s(_,c),s(O,c);let j=0,te=0,se=0;for(;j<_.length&&te<O.length;)c(_[j],O[te])<=0?l[se++]=_[j++]:l[se++]=O[te++];for(;j<_.length;)l[se++]=_[j++];for(;te<O.length;)l[se++]=O[te++];return l}i.create=function e(l,c,h,_){return new wr(l,c,h,_)},i.is=function n(l){let c=l;return!!(M.defined(c)&&M.string(c.uri)&&(M.undefined(c.languageId)||M.string(c.languageId))&&M.uinteger(c.lineCount)&&M.func(c.getText)&&M.func(c.positionAt)&&M.func(c.offsetAt))},i.applyEdits=function r(l,c){let h=l.getText(),_=s(c,(j,te)=>{let se=j.range.start.line-te.range.start.line;return 0===se?j.range.start.character-te.range.start.character:se}),O=h.length;for(let j=_.length-1;j>=0;j--){let te=_[j],se=l.offsetAt(te.range.start),Z=l.offsetAt(te.range.end);if(!(Z<=O))throw new Error("Overlapping edit");h=h.substring(0,se)+te.newText+h.substring(Z,h.length),O=se}return h}}(Pr||(Pr={}));class wr{constructor(e,n,r,s){this._uri=e,this._languageId=n,this._version=r,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let e=[],n=this._content,r=!0;for(let s=0;s<n.length;s++){r&&(e.push(s),r=!1);let l=n.charAt(s);r="\r"===l||"\n"===l,"\r"===l&&s+1<n.length&&"\n"===n.charAt(s+1)&&s++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,s=n.length;if(0===s)return we.create(0,e);for(;r<s;){let c=Math.floor((r+s)/2);n[c]>e?s=c:r=c+1}let l=r-1;return we.create(l,e-n[l])}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line];return Math.max(Math.min(r+e.character,e.line+1<n.length?n[e.line+1]:this._content.length),r)}get lineCount(){return this.getLineOffsets().length}}!function(i){const e=Object.prototype.toString;i.defined=function n(Z){return typeof Z<"u"},i.undefined=function r(Z){return typeof Z>"u"},i.boolean=function s(Z){return!0===Z||!1===Z},i.string=function l(Z){return"[object String]"===e.call(Z)},i.number=function c(Z){return"[object Number]"===e.call(Z)},i.numberRange=function h(Z,Me,Be){return"[object Number]"===e.call(Z)&&Me<=Z&&Z<=Be},i.integer=function _(Z){return"[object Number]"===e.call(Z)&&-2147483648<=Z&&Z<=2147483647},i.uinteger=function O(Z){return"[object Number]"===e.call(Z)&&0<=Z&&Z<=2147483647},i.func=function j(Z){return"[object Function]"===e.call(Z)},i.objectLiteral=function te(Z){return null!==Z&&"object"==typeof Z},i.typedArray=function se(Z,Me){return Array.isArray(Z)&&Z.every(Me)}}(M||(M={}));class lr{constructor(){this.nodeStack=[]}get current(){var e;return null!==(e=this.nodeStack[this.nodeStack.length-1])&&void 0!==e?e:this.rootNode}buildRootNode(e){return this.rootNode=new sn(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const n=new ur;return n.grammarSource=e,n.root=this.rootNode,this.current.content.push(n),this.nodeStack.push(n),n}buildLeafNode(e,n){const r=new Mr(e.startOffset,e.image.length,(0,y.wf)(e),e.tokenType,!n);return r.grammarSource=n,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){const n=e.container;if(n){const r=n.content.indexOf(e);r>=0&&n.content.splice(r,1)}}addHiddenNodes(e){const n=[];for(const l of e){const c=new Mr(l.startOffset,l.image.length,(0,y.wf)(l),l.tokenType,!0);c.root=this.rootNode,n.push(c)}let r=this.current,s=!1;if(r.content.length>0)r.content.push(...n);else{for(;r.container;){const l=r.container.content.indexOf(r);if(l>0){r.container.content.splice(l,0,...n),s=!0;break}r=r.container}s||this.rootNode.content.unshift(...n)}}construct(e){const n=this.current;"string"==typeof e.$type&&(this.current.astNode=e),e.$cstNode=n;const r=this.nodeStack.pop();0===r?.content.length&&this.removeNode(r)}}class Wt{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,n;const r="string"==typeof(null===(e=this._astNode)||void 0===e?void 0:e.$type)?this._astNode:null===(n=this.container)||void 0===n?void 0:n.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class Mr extends Wt{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,n,r,s,l=!1){super(),this._hidden=l,this._offset=e,this._tokenType=s,this._length=n,this._range=r}}class ur extends Wt{constructor(){super(...arguments),this.content=new Je(this)}get children(){return this.content}get offset(){var e,n;return null!==(n=null===(e=this.firstNonHiddenNode)||void 0===e?void 0:e.offset)&&void 0!==n?n:0}get length(){return this.end-this.offset}get end(){var e,n;return null!==(n=null===(e=this.lastNonHiddenNode)||void 0===e?void 0:e.end)&&void 0!==n?n:0}get range(){const e=this.firstNonHiddenNode,n=this.lastNonHiddenNode;if(e&&n){if(void 0===this._rangeCache){const{range:r}=e,{range:s}=n;this._rangeCache={start:r.start,end:s.end.line<r.start.line?r.start:s.end}}return this._rangeCache}return{start:we.create(0,0),end:we.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const n=this.content[e];if(!n.hidden)return n}return this.content[this.content.length-1]}}class Je extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,Je.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,n,...r){return this.addParents(r),super.splice(e,n,...r)}addParents(e){for(const n of e)n.container=this.parent}}class sn extends ur{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const cr=Symbol("Datatype");function an(i){return i.$type===cr}const br=i=>i.endsWith("\u200b")?i:i+"\u200b";class Dr{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const r="production"===e.LanguageMetaData.mode;this.wrapper=new ws(this.lexer.definition,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,n){this.wrapper.wrapOr(e,n)}optional(e,n){this.wrapper.wrapOption(e,n)}many(e,n){this.wrapper.wrapMany(e,n)}atLeastOne(e,n){this.wrapper.wrapAtLeastOne(e,n)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class jn extends Dr{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new lr,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,n){const r=this.computeRuleType(e),s=this.wrapper.DEFINE_RULE(br(e.name),this.startImplementation(r,n).bind(this));return this.allRules.set(e.name,s),e.entry&&(this.mainRule=s),s}computeRuleType(e){if(!e.fragment)return(0,P.Xq)(e)?cr:(0,P.PV)(e)??e.name}parse(e,n={}){this.nodeBuilder.buildRootNode(e);const r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const s=n.rule?this.allRules.get(n.rule):this.mainRule;if(!s)throw new Error(n.rule?`No rule found with name '${n.rule}'`:"No main rule available.");const l=s.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:l,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}startImplementation(e,n){return r=>{const s=!this.isRecording()&&void 0!==e;if(s){const c={$type:e};this.stack.push(c),e===cr&&(c.value="")}let l;try{l=n(r)}catch{l=void 0}return void 0===l&&s&&(l=this.construct()),l}}extractHiddenTokens(e){const n=this.lexerResult.hidden;if(!n.length)return[];const r=e.startOffset;for(let s=0;s<n.length;s++)if(n[s].startOffset>r)return n.splice(0,s);return n.splice(0,n.length)}consume(e,n,r){const s=this.wrapper.wrapConsume(e,n);if(!this.isRecording()&&this.isValidToken(s)){const l=this.extractHiddenTokens(s);this.nodeBuilder.addHiddenNodes(l);const c=this.nodeBuilder.buildLeafNode(s,r),{assignment:h,isCrossRef:_}=this.getAssignment(r),O=this.current;if(h){const j=(0,k.wb)(r)?s.image:this.converter.convert(s.image,c);this.assign(h.operator,h.feature,j,c,_)}else if(an(O)){let j=s.image;(0,k.wb)(r)||(j=this.converter.convert(j,c).toString()),O.value+=j}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&"number"==typeof e.endOffset&&!isNaN(e.endOffset)}subrule(e,n,r,s,l){let c;!this.isRecording()&&!r&&(c=this.nodeBuilder.buildCompositeNode(s));const h=this.wrapper.wrapSubrule(e,n,l);!this.isRecording()&&c&&c.length>0&&this.performSubruleAssignment(h,s,c)}performSubruleAssignment(e,n,r){const{assignment:s,isCrossRef:l}=this.getAssignment(n);if(s)this.assign(s.operator,s.feature,e,r,l);else if(!s){const c=this.current;if(an(c))c.value+=e.toString();else if("object"==typeof e&&e){const _=this.assignWithoutOverride(e,c);this.stack.pop(),this.stack.push(_)}}}action(e,n){if(!this.isRecording()){let r=this.current;n.feature&&n.operator?(r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode),this.nodeBuilder.buildCompositeNode(n).content.push(r.$cstNode),this.stack.push({$type:e}),this.assign(n.operator,n.feature,r,r.$cstNode,!1)):r.$type=e}}construct(){if(this.isRecording())return;const e=this.current;return(0,Ke.SD)(e),this.nodeBuilder.construct(e),this.stack.pop(),an(e)?this.converter.convert(e.value,e.$cstNode):((0,Ke.OP)(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){const n=(0,Ke.XG)(e,k.wh);this.assignmentMap.set(e,{assignment:n,isCrossRef:!!n&&(0,k._c)(n.terminal)})}return this.assignmentMap.get(e)}assign(e,n,r,s,l){const c=this.current;let h;switch(h=l&&"string"==typeof r?this.linker.buildReference(c,n,s,r):r,e){case"=":c[n]=h;break;case"?=":c[n]=!0;break;case"+=":Array.isArray(c[n])||(c[n]=[]),c[n].push(h)}}assignWithoutOverride(e,n){for(const[s,l]of Object.entries(n)){const c=e[s];void 0===c?e[s]=l:Array.isArray(c)&&Array.isArray(l)&&(l.push(...c),e[s]=l)}const r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class Li{buildMismatchTokenMessage(e){return b.my.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return b.my.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return b.my.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return b.my.buildEarlyExitMessage(e)}}class Ps extends Li{buildMismatchTokenMessage({expected:e,actual:n}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${n.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class Pi extends Dr{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const n=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=n.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,n){const r=this.wrapper.DEFINE_RULE(br(e.name),this.startImplementation(n).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return n=>{const r=this.keepStackSize();try{e(n)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,n,r){this.wrapper.wrapConsume(e,n),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,n,r,s,l){this.before(s),this.wrapper.wrapSubrule(e,n,l),this.after(s)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const n=this.elementStack.lastIndexOf(e);n>=0&&this.elementStack.splice(n)}}get currIdx(){return this.wrapper.currIdx}}const wi={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Ps};class ws extends b.jr{constructor(e,n){const r=n&&"maxLookahead"in n;super(e,Object.assign(Object.assign(Object.assign({},wi),{lookaheadStrategy:r?new b.T6({maxLookahead:n.maxLookahead}):new $n({logging:n.skipValidations?()=>{}:void 0})}),n))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,n){return this.RULE(e,n)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,n){return this.consume(e,n)}wrapSubrule(e,n,r){return this.subrule(e,n,{ARGS:[r]})}wrapOr(e,n){this.or(e,n)}wrapOption(e,n){this.option(e,n)}wrapMany(e,n){this.many(e,n)}wrapAtLeastOne(e,n){this.atLeastOne(e,n)}}var on=g(2671),tt=g(8816);function Ms(i,e,n){return function Mi(i,e){const n=(0,P.YV)(e,!1),r=(0,tt.Td)(e.rules).filter(k.s7).filter(s=>n.has(s));for(const s of r){const l=Object.assign(Object.assign({},i),{consume:1,optional:1,subrule:1,many:1,or:1});i.parser.rule(s,ln(l,s.definition))}}({parser:e,tokens:n,ruleNames:new Map},i),e}function ln(i,e,n=!1){let r;if((0,k.wb)(e))r=function Us(i,e){const n=i.consume++,r=i.tokens[e.value];if(!r)throw new Error("Could not find token for keyword: "+e.value);return()=>i.parser.consume(n,r,e)}(i,e);else if((0,k.ve)(e))r=function bs(i,e){const n=(0,P.Uz)(e);return()=>i.parser.action(n,e)}(i,e);else if((0,k.wh)(e))r=ln(i,e.terminal);else if((0,k._c)(e))r=Ur(i,e);else if((0,k.$g)(e))r=function Ye(i,e){const n=e.rule.ref;if((0,k.s7)(n)){const r=i.subrule++,s=n.fragment,l=e.arguments.length>0?function Vn(i,e){const n=e.map(r=>nt(r.value));return r=>{const s={};for(let l=0;l<n.length;l++)s[i.parameters[l].name]=(0,n[l])(r);return s}}(n,e.arguments):()=>({});return c=>i.parser.subrule(r,Gr(i,n),s,e,l(c))}if((0,k.rE)(n)){const r=i.consume++,s=fr(i,n.name);return()=>i.parser.consume(r,s,e)}if(!n)throw new on.W(e.$cstNode,`Undefined rule: ${e.rule.$refText}`);(0,on.d)(n)}(i,e);else if((0,k.jp)(e))r=function xn(i,e){if(1===e.elements.length)return ln(i,e.elements[0]);{const n=[];for(const s of e.elements){const l={ALT:ln(i,s,!0)},c=dr(s);c&&(l.GATE=nt(c)),n.push(l)}const r=i.or++;return s=>i.parser.alternatives(r,n.map(l=>{const c={ALT:()=>l.ALT(s)},h=l.GATE;return h&&(c.GATE=()=>h(s)),c}))}}(i,e);else if((0,k.cY)(e))r=function ga(i,e){if(1===e.elements.length)return ln(i,e.elements[0]);const n=[];for(const h of e.elements){const _={ALT:ln(i,h,!0)},O=dr(h);O&&(_.GATE=nt(O)),n.push(_)}const r=i.or++,s=(h,_)=>`uGroup_${h}_${_.getRuleStack().join("-")}`,c=Fr(i,dr(e),h=>i.parser.alternatives(r,n.map((_,O)=>{const j={ALT:()=>!0},te=i.parser;j.ALT=()=>{if(_.ALT(h),!te.isRecording()){const Z=s(r,te);te.unorderedGroups.get(Z)||te.unorderedGroups.set(Z,[]);const Me=te.unorderedGroups.get(Z);typeof Me?.[O]>"u"&&(Me[O]=!0)}};const se=_.GATE;return j.GATE=se?()=>se(h):()=>{const Z=te.unorderedGroups.get(s(r,te));return!Z?.[O]},j})),"*");return h=>{c(h),i.parser.isRecording()||i.parser.unorderedGroups.delete(s(r,i.parser))}}(i,e);else if((0,k.IZ)(e))r=function Ds(i,e){const n=e.elements.map(r=>ln(i,r));return r=>n.forEach(s=>s(r))}(i,e);else{if(!(0,k.FO)(e))throw new on.W(e.$cstNode,`Unexpected element type: ${e.$type}`);{const s=i.consume++;r=()=>i.parser.consume(s,b.LT,e)}}return Fr(i,n?void 0:dr(e),r,e.cardinality)}function nt(i){if((0,k.RP)(i)){const e=nt(i.left),n=nt(i.right);return r=>e(r)||n(r)}if((0,k.Tu)(i)){const e=nt(i.left),n=nt(i.right);return r=>e(r)&&n(r)}if((0,k.Ct)(i)){const e=nt(i.value);return n=>!e(n)}if((0,k.TF)(i)){const e=i.parameter.ref.name;return n=>void 0!==n&&!0===n[e]}if((0,k.Cz)(i)){const e=!!i.true;return()=>e}(0,on.d)(i)}function dr(i){if((0,k.IZ)(i))return i.guardCondition}function Ur(i,e,n=e.terminal){if(n){if((0,k.$g)(n)&&(0,k.s7)(n.rule.ref)){const r=n.rule.ref,s=i.subrule++;return l=>i.parser.subrule(s,Gr(i,r),!1,e,l)}if((0,k.$g)(n)&&(0,k.rE)(n.rule.ref)){const r=i.consume++,s=fr(i,n.rule.ref.name);return()=>i.parser.consume(r,s,e)}if((0,k.wb)(n)){const r=i.consume++,s=fr(i,n.value);return()=>i.parser.consume(r,s,e)}throw new Error("Could not build cross reference parser")}{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const r=(0,P.U5)(e.type.ref),s=r?.terminal;if(!s)throw new Error("Could not find name assignment for type: "+(0,P.Uz)(e.type.ref));return Ur(i,e,s)}}function Fr(i,e,n,r){const s=e&&nt(e);if(!r){if(s){const l=i.or++;return c=>i.parser.alternatives(l,[{ALT:()=>n(c),GATE:()=>s(c)},{ALT:(0,b.mT)(),GATE:()=>!s(c)}])}return n}if("*"===r){const l=i.many++;return c=>i.parser.many(l,{DEF:()=>n(c),GATE:s?()=>s(c):void 0})}if("+"===r){const l=i.many++;if(s){const c=i.or++;return h=>i.parser.alternatives(c,[{ALT:()=>i.parser.atLeastOne(l,{DEF:()=>n(h)}),GATE:()=>s(h)},{ALT:(0,b.mT)(),GATE:()=>!s(h)}])}return c=>i.parser.atLeastOne(l,{DEF:()=>n(c)})}if("?"===r){const l=i.optional++;return c=>i.parser.optional(l,{DEF:()=>n(c),GATE:s?()=>s(c):void 0})}(0,on.d)(r)}function Gr(i,e){const n=function Fs(i,e){if((0,k.s7)(e))return e.name;if(i.ruleNames.has(e))return i.ruleNames.get(e);{let n=e,r=n.$container,s=e.$type;for(;!(0,k.s7)(r);)((0,k.IZ)(r)||(0,k.jp)(r)||(0,k.cY)(r))&&(s=r.elements.indexOf(n).toString()+":"+s),n=r,r=r.$container;return s=r.name+":"+s,i.ruleNames.set(e,s),s}}(i,e),r=i.parser.getRule(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function fr(i,e){const n=i.tokens[e];if(!n)throw new Error(`Token "${e}" not found."`);return n}var bi=g(1037),Qt=g(8650),Ie=g(467),je=g(71),Fe=g(4910);let bt=0;const hr=Symbol("OperationCancelled");function pr(i){return i===hr}function At(i){return Br.apply(this,arguments)}function Br(){return Br=(0,Ie.A)(function*(i){if(i===je.XO.None)return;const e=performance.now();if(e-bt>=10&&(bt=e,yield function Di(){return new Promise(i=>{typeof setImmediate>"u"?setTimeout(i,0):setImmediate(i)})}(),bt=performance.now()),i.isCancellationRequested)throw hr}),Br.apply(this,arguments)}class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=r=>(e(r),this),this.reject=r=>(n(r),this)})}}class Hn{constructor(e,n,r,s){this._uri=e,this._languageId=n,this._version=r,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(const r of e)if(Hn.isIncremental(r)){const s=Hs(r.range),l=this.offsetAt(s.start),c=this.offsetAt(s.end);this._content=this._content.substring(0,l)+r.text+this._content.substring(c,this._content.length);const h=Math.max(s.start.line,0),_=Math.max(s.end.line,0);let O=this._lineOffsets;const j=js(r.text,!1,l);if(_-h===j.length)for(let se=0,Z=j.length;se<Z;se++)O[se+h+1]=j[se];else j.length<1e4?O.splice(h+1,_-h,...j):this._lineOffsets=O=O.slice(0,h+1).concat(j,O.slice(_+1));const te=r.text.length-(c-l);if(0!==te)for(let se=h+1+j.length,Z=O.length;se<Z;se++)O[se]=O[se]+te}else{if(!Hn.isFull(r))throw new Error("Unknown change event received");this._content=r.text,this._lineOffsets=void 0}this._version=n}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=js(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const n=this.getLineOffsets();let r=0,s=n.length;if(0===s)return{line:0,character:e};for(;r<s;){const c=Math.floor((r+s)/2);n[c]>e?s=c:r=c+1}const l=r-1;return{line:l,character:(e=this.ensureBeforeEOL(e,n[l]))-n[l]}}offsetAt(e){const n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;const r=n[e.line];if(e.character<=0)return r;const l=Math.min(r+e.character,e.line+1<n.length?n[e.line+1]:this._content.length);return this.ensureBeforeEOL(l,r)}ensureBeforeEOL(e,n){for(;e>n&&Vs(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){return null!=e&&"string"==typeof e.text&&void 0!==e.range&&(void 0===e.rangeLength||"number"==typeof e.rangeLength)}static isFull(e){return null!=e&&"string"==typeof e.text&&void 0===e.range&&void 0===e.rangeLength}}var Kr;function jr(i,e){if(i.length<=1)return i;const n=i.length/2|0,r=i.slice(0,n),s=i.slice(n);jr(r,e),jr(s,e);let l=0,c=0,h=0;for(;l<r.length&&c<s.length;)e(r[l],s[c])<=0?i[h++]=r[l++]:i[h++]=s[c++];for(;l<r.length;)i[h++]=r[l++];for(;c<s.length;)i[h++]=s[c++];return i}function js(i,e,n=0){const r=e?[n]:[];for(let s=0;s<i.length;s++){const l=i.charCodeAt(s);Vs(l)&&(13===l&&s+1<i.length&&10===i.charCodeAt(s+1)&&s++,r.push(n+s+1))}return r}function Vs(i){return 13===i||10===i}function Hs(i){const e=i.start,n=i.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:i}function Fi(i){const e=Hs(i.range);return e!==i.range?{newText:i.newText,range:e}:i}!function(i){i.create=function e(s,l,c,h){return new Hn(s,l,c,h)},i.update=function n(s,l,c){if(s instanceof Hn)return s.update(l,c),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")},i.applyEdits=function r(s,l){const c=s.getText(),h=jr(l.map(Fi),(j,te)=>{const se=j.range.start.line-te.range.start.line;return 0===se?j.range.start.character-te.range.start.character:se});let _=0;const O=[];for(const j of h){const te=s.offsetAt(j.range.start);if(te<_)throw new Error("Overlapping edit");te>_&&O.push(c.substring(_,te)),j.newText.length&&O.push(j.newText),_=s.offsetAt(j.range.end)}return O.push(c.substr(_)),O.join("")}}(Kr||(Kr={}));var pt=g(6489),He=function(i){return i[i.Changed=0]="Changed",i[i.Parsed=1]="Parsed",i[i.IndexedContent=2]="IndexedContent",i[i.ComputedScopes=3]="ComputedScopes",i[i.Linked=4]="Linked",i[i.IndexedReferences=5]="IndexedReferences",i[i.Validated=6]="Validated",i}(He||{});class Gi{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}fromUri(e){var n=this;return(0,Ie.A)(function*(r,s=je.XO.None){const l=yield n.fileSystemProvider.readFile(r);return n.createAsync(r,l,s)}).apply(this,arguments)}fromTextDocument(e,n,r){return n=n??pt.r.parse(e.uri),je.XO.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromString(e,n,r){return je.XO.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromModel(e,n){return this.create(n,{$model:e})}create(e,n,r){if("string"==typeof n){const s=this.parse(e,n,r);return this.createLangiumDocument(s,e,void 0,n)}if("$model"in n)return this.createLangiumDocument({value:n.$model,parserErrors:[],lexerErrors:[]},e);{const s=this.parse(e,n.getText(),r);return this.createLangiumDocument(s,e,n)}}createAsync(e,n,r){var s=this;return(0,Ie.A)(function*(){if("string"==typeof n){const l=yield s.parseAsync(e,n,r);return s.createLangiumDocument(l,e,void 0,n)}{const l=yield s.parseAsync(e,n.getText(),r);return s.createLangiumDocument(l,e,n)}})()}createLangiumDocument(e,n,r,s){let l;if(r)l={parseResult:e,uri:n,state:He.Parsed,references:[],textDocument:r};else{const c=this.createTextDocumentGetter(n,s);l={parseResult:e,uri:n,state:He.Parsed,references:[],get textDocument(){return c()}}}return e.value.$document=l,l}update(e,n){var r=this;return(0,Ie.A)(function*(){var s,l;const c=null===(s=e.parseResult.value.$cstNode)||void 0===s?void 0:s.root.fullText,h=null===(l=r.textDocuments)||void 0===l?void 0:l.get(e.uri.toString()),_=h?h.getText():yield r.fileSystemProvider.readFile(e.uri);if(h)Object.defineProperty(e,"textDocument",{value:h});else{const O=r.createTextDocumentGetter(e.uri,_);Object.defineProperty(e,"textDocument",{get:O})}return c!==_&&(e.parseResult=yield r.parseAsync(e.uri,_,n),e.parseResult.value.$document=e),e.state=He.Parsed,e})()}parse(e,n,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(n,r)}parseAsync(e,n,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(n,r)}createTextDocumentGetter(e,n){const r=this.serviceRegistry;let s;return()=>s??(s=Kr.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,n??""))}}class mr{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return(0,tt.Td)(this.documentMap.values())}addDocument(e){const n=e.uri.toString();if(this.documentMap.has(n))throw new Error(`A document with the URI '${n}' is already present.`);this.documentMap.set(n,e)}getDocument(e){const n=e.toString();return this.documentMap.get(n)}getOrCreateDocument(e,n){var r=this;return(0,Ie.A)(function*(){let s=r.getDocument(e);return s||(s=yield r.langiumDocumentFactory.fromUri(e,n),r.addDocument(s),s)})()}createDocument(e,n,r){if(r)return this.langiumDocumentFactory.fromString(n,e,r).then(s=>(this.addDocument(s),s));{const s=this.langiumDocumentFactory.fromString(n,e);return this.addDocument(s),s}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(this.serviceRegistry.getServices(e).references.Linker.unlink(r),r.state=He.Changed,r.precomputedScopes=void 0,r.diagnostics=void 0),r}deleteDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(r.state=He.Changed,this.documentMap.delete(n)),r}}const Vr=Symbol("ref_resolving");class zs{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}link(e){var n=this;return(0,Ie.A)(function*(r,s=je.XO.None){for(const l of(0,Ke.jm)(r.parseResult.value))yield At(s),(0,Ke.DM)(l).forEach(c=>n.doLink(c,r))}).apply(this,arguments)}doLink(e,n){var r;const s=e.reference;if(void 0===s._ref){s._ref=Vr;try{const l=this.getCandidate(e);if((0,Fe.Zl)(l))s._ref=l;else if(s._nodeDescription=l,this.langiumDocuments().hasDocument(l.documentUri)){const c=this.loadAstNode(l);s._ref=c??this.createLinkingError(e,l)}else s._ref=void 0}catch(l){console.error(`An error occurred while resolving reference to '${s.$refText}':`,l);const c=null!==(r=l.message)&&void 0!==r?r:String(l);s._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${s.$refText}': ${c}`})}n.references.push(s)}}unlink(e){for(const n of e.references)delete n._ref,delete n._nodeDescription;e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}buildReference(e,n,r,s){const l=this,c={$refNode:r,$refText:s,get ref(){var h;if((0,Fe.ng)(this._ref))return this._ref;if((0,Fe.Nr)(this._nodeDescription)){const _=l.loadAstNode(this._nodeDescription);this._ref=_??l.createLinkingError({reference:c,container:e,property:n},this._nodeDescription)}else if(void 0===this._ref){this._ref=Vr;const _=(0,Ke.cQ)(e).$document,O=l.getLinkedNode({reference:c,container:e,property:n});if(O.error&&_&&_.state<He.ComputedScopes)return this._ref=void 0;this._ref=null!==(h=O.node)&&void 0!==h?h:O.error,this._nodeDescription=O.descr,_?.references.push(this)}else if(this._ref===Vr)throw new Error(`Cyclic reference resolution detected: ${l.astNodeLocator.getAstNodePath(e)}/${n} (symbol '${s}')`);return(0,Fe.ng)(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return(0,Fe.Zl)(this._ref)?this._ref:void 0}};return c}getLinkedNode(e){var n;try{const r=this.getCandidate(e);if((0,Fe.Zl)(r))return{error:r};const s=this.loadAstNode(r);return s?{node:s,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,r);const s=null!==(n=r.message)&&void 0!==n?n:String(r);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${s}`})}}}loadAstNode(e){if(e.node)return e.node;const n=this.langiumDocuments().getDocument(e.documentUri);return n?this.astNodeLocator.getAstNode(n.parseResult.value,e.path):void 0}createLinkingError(e,n){const r=(0,Ke.cQ)(e.container).$document;r&&r.state<He.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);const s=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${s} named '${e.reference.$refText}'.`,targetDescription:n})}}class Xs{getName(e){if(function Bi(i){return"string"==typeof i.name}(e))return e.name}getNameNode(e){return(0,P.qO)(e.$cstNode,"name")}}var Dt;!function(i){i.basename=pt.A.basename,i.dirname=pt.A.dirname,i.extname=pt.A.extname,i.joinPath=pt.A.joinPath,i.resolvePath=pt.A.resolvePath,i.equals=function e(s,l){return s?.toString()===l?.toString()},i.relative=function n(s,l){const h="string"==typeof l?l:l.path,_=("string"==typeof s?s:s.path).split("/").filter(Z=>Z.length>0),O=h.split("/").filter(Z=>Z.length>0);let j=0;for(;j<_.length&&_[j]===O[j];j++);return"../".repeat(_.length-j)+O.slice(j).join("/")},i.normalize=function r(s){return pt.r.parse(s.toString()).toString()}}(Dt||(Dt={}));class Ys{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const n=(0,P.Rp)(e),r=e.astNode;if(n&&r){const s=r[n.feature];if((0,Fe.A_)(s))return s.ref;if(Array.isArray(s))for(const l of s)if((0,Fe.A_)(l)&&l.$refNode&&l.$refNode.offset<=e.offset&&l.$refNode.end>=e.end)return l.ref}if(r){const s=this.nameProvider.getNameNode(r);if(s&&(s===e||(0,y.pO)(e,s)))return r}}}findDeclarationNode(e){const n=this.findDeclaration(e);if(n?.$cstNode)return this.nameProvider.getNameNode(n)??n.$cstNode}findReferences(e,n){const r=[];if(n.includeDeclaration){const l=this.getReferenceToSelf(e);l&&r.push(l)}let s=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return n.documentUri&&(s=s.filter(l=>Dt.equals(l.sourceUri,n.documentUri))),r.push(...s),(0,tt.Td)(r)}getReferenceToSelf(e){const n=this.nameProvider.getNameNode(e);if(n){const r=(0,Ke.YE)(e),s=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:s,targetUri:r.uri,targetPath:s,segment:(0,y.SX)(n),local:!0}}}}class gr{constructor(e){if(this.map=new Map,e)for(const[n,r]of e)this.add(n,r)}get size(){return tt.iD.sum((0,tt.Td)(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,n){if(void 0===n)return this.map.delete(e);{const r=this.map.get(e);if(r){const s=r.indexOf(n);if(s>=0)return 1===r.length?this.map.delete(e):r.splice(s,1),!0}return!1}}get(e){var n;return null!==(n=this.map.get(e))&&void 0!==n?n:[]}has(e,n){if(void 0===n)return this.map.has(e);{const r=this.map.get(e);return!!r&&r.indexOf(n)>=0}}add(e,n){return this.map.has(e)?this.map.get(e).push(n):this.map.set(e,[n]),this}addAll(e,n){return this.map.has(e)?this.map.get(e).push(...n):this.map.set(e,Array.from(n)),this}forEach(e){this.map.forEach((n,r)=>n.forEach(s=>e(s,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return(0,tt.Td)(this.map.entries()).flatMap(([e,n])=>n.map(r=>[e,r]))}keys(){return(0,tt.Td)(this.map.keys())}values(){return(0,tt.Td)(this.map.values()).flat()}entriesGroupedByKey(){return(0,tt.Td)(this.map.entries())}}class ze{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[n,r]of e)this.set(n,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,n){return this.map.set(e,n),this.inverse.set(n,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const n=this.map.get(e);return void 0!==n&&(this.map.delete(e),this.inverse.delete(n),!0)}}class Hr{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}computeExports(e){var n=this;return(0,Ie.A)(function*(r,s=je.XO.None){return n.computeExportsForNode(r.parseResult.value,r,void 0,s)}).apply(this,arguments)}computeExportsForNode(e,n){var r=this;return(0,Ie.A)(function*(s,l,c=Ke.VN,h=je.XO.None){const _=[];r.exportNode(s,_,l);for(const O of c(s))yield At(h),r.exportNode(O,_,l);return _}).apply(this,arguments)}exportNode(e,n,r){const s=this.nameProvider.getName(e);s&&n.push(this.descriptions.createDescription(e,s,r))}computeLocalScopes(e){var n=this;return(0,Ie.A)(function*(r,s=je.XO.None){const l=r.parseResult.value,c=new gr;for(const h of(0,Ke.Uo)(l))yield At(s),n.processNode(h,r,c);return c}).apply(this,arguments)}processNode(e,n,r){const s=e.$container;if(s){const l=this.nameProvider.getName(e);l&&r.add(s,this.descriptions.createDescription(e,l,n))}}}class Qs{constructor(e,n,r){var s;this.elements=e,this.outerScope=n,this.caseInsensitive=null!==(s=r?.caseInsensitive)&&void 0!==s&&s}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){return this.elements.find(this.caseInsensitive?r=>r.name.toLowerCase()===e.toLowerCase():r=>r.name===e)||(this.outerScope?this.outerScope.getElement(e):void 0)}}class Wi{constructor(e,n,r){var s;this.elements=new Map,this.caseInsensitive=null!==(s=r?.caseInsensitive)&&void 0!==s&&s;for(const l of e){const c=this.caseInsensitive?l.name.toLowerCase():l.name;this.elements.set(c,l)}this.outerScope=n}getElement(e){const n=this.caseInsensitive?e.toLowerCase():e;return this.elements.get(n)||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){let e=(0,tt.Td)(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class Js{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class Ki extends Js{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,n){this.throwIfDisposed(),this.cache.set(e,n)}get(e,n){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(n){const r=n();return this.cache.set(e,r),r}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class Zs extends Js{constructor(e){super(),this.cache=new Map,this.converter=e??(n=>n)}has(e,n){return this.throwIfDisposed(),this.cacheForContext(e).has(n)}set(e,n,r){this.throwIfDisposed(),this.cacheForContext(e).set(n,r)}get(e,n,r){this.throwIfDisposed();const s=this.cacheForContext(e);if(s.has(n))return s.get(n);if(r){const l=r();return s.set(n,l),l}}delete(e,n){return this.throwIfDisposed(),this.cacheForContext(e).delete(n)}clear(e){if(this.throwIfDisposed(),e){const n=this.converter(e);this.cache.delete(n)}else this.cache.clear()}cacheForContext(e){const n=this.converter(e);let r=this.cache.get(n);return r||(r=new Map,this.cache.set(n,r)),r}}class qs extends Ki{constructor(e,n){super(),n?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(n,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,s)=>{s.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class zr{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new qs(e.shared)}getScope(e){const n=[],r=this.reflection.getReferenceType(e),s=(0,Ke.YE)(e.container).precomputedScopes;if(s){let c=e.container;do{const h=s.get(c);h.length>0&&n.push((0,tt.Td)(h).filter(_=>this.reflection.isSubtype(_.type,r))),c=c.$container}while(c)}let l=this.getGlobalScope(r,e);for(let c=n.length-1;c>=0;c--)l=this.createScope(n[c],l);return l}createScope(e,n,r){return new Qs((0,tt.Td)(e),n,r)}createScopeForNodes(e,n,r){const s=(0,tt.Td)(e).map(l=>{const c=this.nameProvider.getName(l);if(c)return this.descriptions.createDescription(l,c)}).nonNullable();return new Qs(s,n,r)}getGlobalScope(e,n){return this.globalScopeCache.get(e,()=>new Wi(this.indexManager.allElements(e)))}}function Xr(i){return"object"==typeof i&&!!i&&("$ref"in i||"$error"in i)}class yr{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,n){const r=n??{},s=n?.replacer,l=(h,_)=>this.replacer(h,_,r),c=s?(h,_)=>s(h,_,l):l;try{return this.currentDocument=(0,Ke.YE)(e),JSON.stringify(e,c,n?.space)}finally{this.currentDocument=void 0}}deserialize(e,n){const r=n??{},s=JSON.parse(e);return this.linkNode(s,s,r),s}replacer(e,n,{refText:r,sourceText:s,textRegions:l,comments:c,uriConverter:h}){var _,O,j,te;if(!this.ignoreProperties.has(e)){if((0,Fe.A_)(n)){const se=n.ref,Z=r?n.$refText:void 0;if(se){const Me=(0,Ke.YE)(se);let Be="";return this.currentDocument&&this.currentDocument!==Me&&(Be=h?h(Me.uri,n):Me.uri.toString()),{$ref:`${Be}#${this.astNodeLocator.getAstNodePath(se)}`,$refText:Z}}return{$error:null!==(O=null===(_=n.error)||void 0===_?void 0:_.message)&&void 0!==O?O:"Could not resolve reference",$refText:Z}}if((0,Fe.ng)(n)){let se;if(l&&(se=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},n)),(!e||n.$document)&&se?.$textRegion&&(se.$textRegion.documentURI=null===(j=this.currentDocument)||void 0===j?void 0:j.uri.toString())),s&&!e&&(se??(se=Object.assign({},n)),se.$sourceText=null===(te=n.$cstNode)||void 0===te?void 0:te.text),c){se??(se=Object.assign({},n));const Z=this.commentProvider.getComment(n);Z&&(se.$comment=Z.replace(/\r/g,""))}return se??n}return n}}addAstNodeRegionWithAssignmentsTo(e){const n=r=>({offset:r.offset,end:r.end,length:r.length,range:r.range});if(e.$cstNode){const s=(e.$textRegion=n(e.$cstNode)).assignments={};return Object.keys(e).filter(l=>!l.startsWith("$")).forEach(l=>{const c=(0,P.Bd)(e.$cstNode,l).map(n);0!==c.length&&(s[l]=c)}),e}}linkNode(e,n,r,s,l,c){for(const[_,O]of Object.entries(e))if(Array.isArray(O))for(let j=0;j<O.length;j++){const te=O[j];Xr(te)?O[j]=this.reviveReference(e,_,n,te,r):(0,Fe.ng)(te)&&this.linkNode(te,n,r,e,_,j)}else Xr(O)?e[_]=this.reviveReference(e,_,n,O,r):(0,Fe.ng)(O)&&this.linkNode(O,n,r,e,_);const h=e;h.$container=s,h.$containerProperty=l,h.$containerIndex=c}reviveReference(e,n,r,s,l){let c=s.$refText,h=s.$error;if(s.$ref){const _=this.getRefNode(r,s.$ref,l.uriConverter);if((0,Fe.ng)(_))return c||(c=this.nameProvider.getName(_)),{$refText:c??"",ref:_};h=_}if(h){const _={$refText:c??""};return _.error={container:e,property:n,message:h,reference:_},_}}getRefNode(e,n,r){try{const s=n.indexOf("#");if(0===s)return this.astNodeLocator.getAstNode(e,n.substring(1))||"Could not resolve path: "+n;if(s<0){const _=r?r(n):pt.r.parse(n),O=this.langiumDocuments.getDocument(_);return O?O.parseResult.value:"Could not find document for URI: "+n}const l=r?r(n.substring(0,s)):pt.r.parse(n.substring(0,s)),c=this.langiumDocuments.getDocument(l);return c?s===n.length-1?c.parseResult.value:this.astNodeLocator.getAstNode(c.parseResult.value,n.substring(s+1))||"Could not resolve URI: "+n:"Could not find document for URI: "+n}catch(s){return String(s)}}}class Ar{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e?.workspace.TextDocuments}register(e){const n=e.LanguageMetaData;for(const r of n.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${n.languageId}'.`),this.fileExtensionMap.set(r,e);this.languageIdMap.set(n.languageId,e),this.singleton=1===this.languageIdMap.size?e:void 0}getServices(e){var n,r;if(void 0!==this.singleton)return this.singleton;if(0===this.languageIdMap.size)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const s=null===(r=null===(n=this.textDocuments)||void 0===n?void 0:n.get(e))||void 0===r?void 0:r.languageId;if(void 0!==s){const h=this.languageIdMap.get(s);if(h)return h}const l=Dt.extname(e),c=this.fileExtensionMap.get(l);if(!c)throw s?new Error(`The service registry contains no services for the extension '${l}' for language '${s}'.`):new Error(`The service registry contains no services for the extension '${l}'.`);return c}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function un(i){return{code:i}}var Yr=function(i){return i.all=["fast","slow","built-in"],i}(Yr||{});class ei{constructor(e){this.entries=new gr,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,n=this,r="fast"){if("built-in"===r)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[s,l]of Object.entries(e)){const c=l;if(Array.isArray(c))for(const h of c){const _={check:this.wrapValidationException(h,n),category:r};this.addEntry(s,_)}else if("function"==typeof c){const h={check:this.wrapValidationException(c,n),category:r};this.addEntry(s,h)}else(0,on.d)(c)}}wrapValidationException(e,n){var r=this;return function(){var s=(0,Ie.A)(function*(l,c,h){yield r.handleException(()=>e.call(n,l,c,h),"An error occurred during validation",c,l)});return function(l,c,h){return s.apply(this,arguments)}}()}handleException(e,n,r,s){return(0,Ie.A)(function*(){try{yield e()}catch(l){if(pr(l))throw l;console.error(`${n}:`,l),l instanceof Error&&l.stack&&console.error(l.stack);const c=l instanceof Error?l.message:String(l);r("error",`${n}: ${c}`,{node:s})}})()}addEntry(e,n){if("AstNode"!==e)for(const r of this.reflection.getAllSubTypes(e))this.entries.add(r,n);else this.entries.add("AstNode",n)}getChecks(e,n){let r=(0,tt.Td)(this.entries.get(e)).concat(this.entries.get("AstNode"));return n&&(r=r.filter(s=>n.includes(s.category))),r.map(s=>s.check)}registerBeforeDocument(e,n=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",n))}registerAfterDocument(e,n=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",n))}wrapPreparationException(e,n,r){var s=this;return function(){var l=(0,Ie.A)(function*(c,h,_,O){yield s.handleException(()=>e.call(r,c,h,_,O),n,h,c)});return function(c,h,_,O){return l.apply(this,arguments)}}()}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class Hi{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}validateDocument(e){var n=this;return(0,Ie.A)(function*(r,s={},l=je.XO.None){const c=r.parseResult,h=[];if(yield At(l),(!s.categories||s.categories.includes("built-in"))&&(n.processLexingErrors(c,h,s),s.stopAfterLexingErrors&&h.some(_=>{var O;return(null===(O=_.data)||void 0===O?void 0:O.code)===St.LexingError})||(n.processParsingErrors(c,h,s),s.stopAfterParsingErrors&&h.some(_=>{var O;return(null===(O=_.data)||void 0===O?void 0:O.code)===St.ParsingError}))||(n.processLinkingErrors(r,h,s),s.stopAfterLinkingErrors&&h.some(_=>{var O;return(null===(O=_.data)||void 0===O?void 0:O.code)===St.LinkingError}))))return h;try{h.push(...yield n.validateAst(c.value,s,l))}catch(_){if(pr(_))throw _;console.error("An error occurred during validation:",_)}return yield At(l),h}).apply(this,arguments)}processLexingErrors(e,n,r){var s,l,c;const h=[...e.lexerErrors,...null!==(l=null===(s=e.lexerReport)||void 0===s?void 0:s.diagnostics)&&void 0!==l?l:[]];for(const _ of h){const O=null!==(c=_.severity)&&void 0!==c?c:"error",j={severity:Qr(O),range:{start:{line:_.line-1,character:_.column-1},end:{line:_.line-1,character:_.column+_.length-1}},message:_.message,data:Xi(O),source:this.getSource()};n.push(j)}}processParsingErrors(e,n,r){for(const s of e.parserErrors){let l;if(isNaN(s.token.startOffset)){if("previousToken"in s){const c=s.previousToken;if(isNaN(c.startOffset)){const h={line:0,character:0};l={start:h,end:h}}else{const h={line:c.endLine-1,character:c.endColumn};l={start:h,end:h}}}}else l=(0,y.wf)(s.token);if(l){const c={severity:Qr("error"),range:l,message:s.message,data:un(St.ParsingError),source:this.getSource()};n.push(c)}}}processLinkingErrors(e,n,r){for(const s of e.references){const l=s.error;l&&n.push(this.toDiagnostic("error",l.message,{node:l.container,property:l.property,index:l.index,data:{code:St.LinkingError,containerType:l.container.$type,property:l.property,refText:l.reference.$refText}}))}}validateAst(e,n){var r=this;return(0,Ie.A)(function*(s,l,c=je.XO.None){const h=[],_=(O,j,te)=>{h.push(r.toDiagnostic(O,j,te))};return yield r.validateAstBefore(s,l,_,c),yield r.validateAstNodes(s,l,_,c),yield r.validateAstAfter(s,l,_,c),h}).apply(this,arguments)}validateAstBefore(e,n,r){var s=this;return(0,Ie.A)(function*(l,c,h,_=je.XO.None){var O;const j=s.validationRegistry.checksBefore;for(const te of j)yield At(_),yield te(l,h,null!==(O=c.categories)&&void 0!==O?O:[],_)}).apply(this,arguments)}validateAstNodes(e,n,r){var s=this;return(0,Ie.A)(function*(l,c,h,_=je.XO.None){yield Promise.all((0,Ke.jm)(l).map(function(){var O=(0,Ie.A)(function*(j){yield At(_);const te=s.validationRegistry.getChecks(j.$type,c.categories);for(const se of te)yield se(j,h,_)});return function(j){return O.apply(this,arguments)}}()))}).apply(this,arguments)}validateAstAfter(e,n,r){var s=this;return(0,Ie.A)(function*(l,c,h,_=je.XO.None){var O;const j=s.validationRegistry.checksAfter;for(const te of j)yield At(_),yield te(l,h,null!==(O=c.categories)&&void 0!==O?O:[],_)}).apply(this,arguments)}toDiagnostic(e,n,r){return{message:n,range:zi(r),severity:Qr(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function zi(i){if(i.range)return i.range;let e;return"string"==typeof i.property?e=(0,P.qO)(i.node.$cstNode,i.property,i.index):"string"==typeof i.keyword&&(e=(0,P.SS)(i.node.$cstNode,i.keyword,i.index)),e??(e=i.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Qr(i){switch(i){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+i)}}function Xi(i){switch(i){case"error":return un(St.LexingError);case"warning":return un(St.LexingWarning);case"info":return un(St.LexingInfo);case"hint":return un(St.LexingHint);default:throw new Error("Invalid diagnostic severity: "+i)}}var St=function(i){return i.LexingError="lexing-error",i.LexingWarning="lexing-warning",i.LexingInfo="lexing-info",i.LexingHint="lexing-hint",i.ParsingError="parsing-error",i.LinkingError="linking-error",i}(St||{});class Yi{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,n,r){const s=r??(0,Ke.YE)(e);n??(n=this.nameProvider.getName(e));const l=this.astNodeLocator.getAstNodePath(e);if(!n)throw new Error(`Node at path ${l} has no name.`);let c;const h=()=>{var _;return c??(c=(0,y.SX)(null!==(_=this.nameProvider.getNameNode(e))&&void 0!==_?_:e.$cstNode))};return{node:e,name:n,get nameSegment(){return h()},selectionSegment:(0,y.SX)(e.$cstNode),type:e.$type,documentUri:s.uri,path:l}}}class Qi{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}createDescriptions(e){var n=this;return(0,Ie.A)(function*(r,s=je.XO.None){const l=[],c=r.parseResult.value;for(const h of(0,Ke.jm)(c))yield At(s),(0,Ke.DM)(h).filter(_=>!(0,Fe.Zl)(_)).forEach(_=>{const O=n.createDescription(_);O&&l.push(O)});return l}).apply(this,arguments)}createDescription(e){const n=e.reference.$nodeDescription,r=e.reference.$refNode;if(!n||!r)return;const s=(0,Ke.YE)(e.container).uri;return{sourceUri:s,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:n.documentUri,targetPath:n.path,segment:(0,y.SX)(r),local:Dt.equals(n.documentUri,s)}}}class Ji{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const n=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return n+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:n}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==n?e+this.indexSeparator+n:e}getAstNode(e,n){return n.split(this.segmentSeparator).reduce((s,l)=>{if(!s||0===l.length)return s;const c=l.indexOf(this.indexSeparator);if(c>0){const h=l.substring(0,c),_=parseInt(l.substring(c+1)),O=s[h];return O?.[_]}return s[l]},e)}}var cn,ti=g(8745);class Tr{constructor(e){this._ready=new Wr,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new ti.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var n,r;this.workspaceConfig=null!==(r=null===(n=e.capabilities.workspace)||void 0===n?void 0:n.configuration)&&void 0!==r&&r}initialized(e){var n=this;return(0,Ie.A)(function*(){if(n.workspaceConfig&&(e.register&&e.register({section:n.serviceRegistry.all.map(s=>n.toSectionName(s.LanguageMetaData.languageId))}),e.fetchConfiguration)){const r=n.serviceRegistry.all.map(l=>({section:n.toSectionName(l.LanguageMetaData.languageId)})),s=yield e.fetchConfiguration(r);r.forEach((l,c)=>{n.updateSectionConfiguration(l.section,s[c])})}n._ready.resolve()})()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(n=>{const r=e.settings[n];this.updateSectionConfiguration(n,r),this.onConfigurationSectionUpdateEmitter.fire({section:n,configuration:r})})}updateSectionConfiguration(e,n){this.settings[e]=n}getConfiguration(e,n){var r=this;return(0,Ie.A)(function*(){yield r.ready;const s=r.toSectionName(e);if(r.settings[s])return r.settings[s][n]})()}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}!function(i){i.create=function e(n){return{dispose:(r=(0,Ie.A)(function*(){return yield n()}),function(){return r.apply(this,arguments)})};var r}}(cn||(cn={}));class Zi{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new gr,this.documentPhaseListeners=new gr,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=He.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}build(e){var n=this;return(0,Ie.A)(function*(r,s={},l=je.XO.None){var c,h;for(const _ of r){const O=_.uri.toString();if(_.state===He.Validated){if("boolean"==typeof s.validation&&s.validation)_.state=He.IndexedReferences,_.diagnostics=void 0,n.buildState.delete(O);else if("object"==typeof s.validation){const j=n.buildState.get(O),te=null===(c=j?.result)||void 0===c?void 0:c.validationChecks;if(te){const Z=(null!==(h=s.validation.categories)&&void 0!==h?h:Yr.all).filter(Me=>!te.includes(Me));Z.length>0&&(n.buildState.set(O,{completed:!1,options:{validation:Object.assign(Object.assign({},s.validation),{categories:Z})},result:j.result}),_.state=He.IndexedReferences)}}}else n.buildState.delete(O)}n.currentState=He.Changed,yield n.emitUpdate(r.map(_=>_.uri),[]),yield n.buildDocuments(r,s,l)}).apply(this,arguments)}update(e,n){var r=this;return(0,Ie.A)(function*(s,l,c=je.XO.None){r.currentState=He.Changed;for(const O of l)r.langiumDocuments.deleteDocument(O),r.buildState.delete(O.toString()),r.indexManager.remove(O);for(const O of s){if(!r.langiumDocuments.invalidateDocument(O)){const te=r.langiumDocumentFactory.fromModel({$type:"INVALID"},O);te.state=He.Changed,r.langiumDocuments.addDocument(te)}r.buildState.delete(O.toString())}const h=(0,tt.Td)(s).concat(l).map(O=>O.toString()).toSet();r.langiumDocuments.all.filter(O=>!h.has(O.uri.toString())&&r.shouldRelink(O,h)).forEach(O=>{r.serviceRegistry.getServices(O.uri).references.Linker.unlink(O),O.state=Math.min(O.state,He.ComputedScopes),O.diagnostics=void 0}),yield r.emitUpdate(s,l),yield At(c);const _=r.sortDocuments(r.langiumDocuments.all.filter(O=>{var j;return O.state<He.Linked||!(null!==(j=r.buildState.get(O.uri.toString()))&&void 0!==j&&j.completed)}).toArray());yield r.buildDocuments(_,r.updateBuildOptions,c)}).apply(this,arguments)}emitUpdate(e,n){var r=this;return(0,Ie.A)(function*(){yield Promise.all(r.updateListeners.map(s=>s(e,n)))})()}sortDocuments(e){let n=0,r=e.length-1;for(;n<r;){for(;n<e.length&&this.hasTextDocument(e[n]);)n++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;n<r&&([e[n],e[r]]=[e[r],e[n]])}return e}hasTextDocument(e){var n;return!(null===(n=this.textDocuments)||void 0===n||!n.get(e.uri))}shouldRelink(e,n){return!!e.references.some(r=>void 0!==r.error)||this.indexManager.isAffected(e,n)}onUpdate(e){return this.updateListeners.push(e),cn.create(()=>{const n=this.updateListeners.indexOf(e);n>=0&&this.updateListeners.splice(n,1)})}buildDocuments(e,n,r){var s=this;return(0,Ie.A)(function*(){s.prepareBuild(e,n),yield s.runCancelable(e,He.Parsed,r,c=>s.langiumDocumentFactory.update(c,r)),yield s.runCancelable(e,He.IndexedContent,r,c=>s.indexManager.updateContent(c,r)),yield s.runCancelable(e,He.ComputedScopes,r,function(){var c=(0,Ie.A)(function*(h){const _=s.serviceRegistry.getServices(h.uri).references.ScopeComputation;h.precomputedScopes=yield _.computeLocalScopes(h,r)});return function(h){return c.apply(this,arguments)}}()),yield s.runCancelable(e,He.Linked,r,c=>s.serviceRegistry.getServices(c.uri).references.Linker.link(c,r)),yield s.runCancelable(e,He.IndexedReferences,r,c=>s.indexManager.updateReferences(c,r));const l=e.filter(c=>s.shouldValidate(c));yield s.runCancelable(l,He.Validated,r,c=>s.validate(c,r));for(const c of e){const h=s.buildState.get(c.uri.toString());h&&(h.completed=!0)}})()}prepareBuild(e,n){for(const r of e){const s=r.uri.toString(),l=this.buildState.get(s);(!l||l.completed)&&this.buildState.set(s,{completed:!1,options:n,result:l?.result})}}runCancelable(e,n,r,s){var l=this;return(0,Ie.A)(function*(){const c=e.filter(_=>_.state<n);for(const _ of c)yield At(r),yield s(_),_.state=n,yield l.notifyDocumentPhase(_,n,r);const h=e.filter(_=>_.state===n);yield l.notifyBuildPhase(h,n,r),l.currentState=n})()}onBuildPhase(e,n){return this.buildPhaseListeners.add(e,n),cn.create(()=>{this.buildPhaseListeners.delete(e,n)})}onDocumentPhase(e,n){return this.documentPhaseListeners.add(e,n),cn.create(()=>{this.documentPhaseListeners.delete(e,n)})}waitUntil(e,n,r){let s;if(n&&"path"in n?s=n:r=n,r??(r=je.XO.None),s){const l=this.langiumDocuments.getDocument(s);if(l&&l.state>e)return Promise.resolve(s)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(hr):new Promise((l,c)=>{const h=this.onBuildPhase(e,()=>{if(h.dispose(),_.dispose(),s){const O=this.langiumDocuments.getDocument(s);l(O?.uri)}else l(void 0)}),_=r.onCancellationRequested(()=>{h.dispose(),_.dispose(),c(hr)})})}notifyDocumentPhase(e,n,r){var s=this;return(0,Ie.A)(function*(){const c=s.documentPhaseListeners.get(n).slice();for(const h of c)try{yield h(e,r)}catch(_){if(!pr(_))throw _}})()}notifyBuildPhase(e,n,r){var s=this;return(0,Ie.A)(function*(){if(0===e.length)return;const c=s.buildPhaseListeners.get(n).slice();for(const h of c)yield At(r),yield h(e,r)})()}shouldValidate(e){return!!this.getBuildOptions(e).validation}validate(e,n){var r=this;return(0,Ie.A)(function*(){var s,l;const c=r.serviceRegistry.getServices(e.uri).validation.DocumentValidator,h=r.getBuildOptions(e).validation,_="object"==typeof h?h:void 0,O=yield c.validateDocument(e,_,n);e.diagnostics?e.diagnostics.push(...O):e.diagnostics=O;const j=r.buildState.get(e.uri.toString());if(j){null!==(s=j.result)&&void 0!==s||(j.result={});const te=null!==(l=_?.categories)&&void 0!==l?l:Yr.all;j.result.validationChecks?j.result.validationChecks.push(...te):j.result.validationChecks=[...te]}})()}getBuildOptions(e){var n,r;return null!==(r=null===(n=this.buildState.get(e.uri.toString()))||void 0===n?void 0:n.options)&&void 0!==r?r:{}}}class qi{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new Zs,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,n){const r=(0,Ke.YE)(e).uri,s=[];return this.referenceIndex.forEach(l=>{l.forEach(c=>{Dt.equals(c.targetUri,r)&&c.targetPath===n&&s.push(c)})}),(0,tt.Td)(s)}allElements(e,n){let r=(0,tt.Td)(this.symbolIndex.keys());return n&&(r=r.filter(s=>!n||n.has(s))),r.map(s=>this.getFileDescriptions(s,e)).flat()}getFileDescriptions(e,n){var r;return n?this.symbolByTypeIndex.get(e,n,()=>{var l;return(null!==(l=this.symbolIndex.get(e))&&void 0!==l?l:[]).filter(h=>this.astReflection.isSubtype(h.type,n))}):null!==(r=this.symbolIndex.get(e))&&void 0!==r?r:[]}remove(e){const n=e.toString();this.symbolIndex.delete(n),this.symbolByTypeIndex.clear(n),this.referenceIndex.delete(n)}updateContent(e){var n=this;return(0,Ie.A)(function*(r,s=je.XO.None){const c=yield n.serviceRegistry.getServices(r.uri).references.ScopeComputation.computeExports(r,s),h=r.uri.toString();n.symbolIndex.set(h,c),n.symbolByTypeIndex.clear(h)}).apply(this,arguments)}updateReferences(e){var n=this;return(0,Ie.A)(function*(r,s=je.XO.None){const c=yield n.serviceRegistry.getServices(r.uri).workspace.ReferenceDescriptionProvider.createDescriptions(r,s);n.referenceIndex.set(r.uri.toString(),c)}).apply(this,arguments)}isAffected(e,n){const r=this.referenceIndex.get(e.uri.toString());return!!r&&r.some(s=>!s.local&&n.has(s.targetUri.toString()))}}class ea{constructor(e){this.initialBuildOptions={},this._ready=new Wr,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var n;this.folders=null!==(n=e.workspaceFolders)&&void 0!==n?n:void 0}initialized(e){return this.mutex.write(n=>{var r;return this.initializeWorkspace(null!==(r=this.folders)&&void 0!==r?r:[],n)})}initializeWorkspace(e){var n=this;return(0,Ie.A)(function*(r,s=je.XO.None){const l=yield n.performStartup(r);yield At(s),yield n.documentBuilder.build(l,n.initialBuildOptions,s)}).apply(this,arguments)}performStartup(e){var n=this;return(0,Ie.A)(function*(){const r=n.serviceRegistry.all.flatMap(c=>c.LanguageMetaData.fileExtensions),s=[],l=c=>{s.push(c),n.langiumDocuments.hasDocument(c.uri)||n.langiumDocuments.addDocument(c)};return yield n.loadAdditionalDocuments(e,l),yield Promise.all(e.map(c=>[c,n.getRootFolder(c)]).map(function(){var c=(0,Ie.A)(function*(h){return n.traverseFolder(...h,r,l)});return function(h){return c.apply(this,arguments)}}())),n._ready.resolve(),s})()}loadAdditionalDocuments(e,n){return Promise.resolve()}getRootFolder(e){return pt.r.parse(e.uri)}traverseFolder(e,n,r,s){var l=this;return(0,Ie.A)(function*(){const c=yield l.fileSystemProvider.readDirectory(n);yield Promise.all(c.map(function(){var h=(0,Ie.A)(function*(_){if(l.includeEntry(e,_,r))if(_.isDirectory)yield l.traverseFolder(e,_.uri,r,s);else if(_.isFile){const O=yield l.langiumDocuments.getOrCreateDocument(_.uri);s(O)}});return function(_){return h.apply(this,arguments)}}()))})()}includeEntry(e,n,r){const s=Dt.basename(n.uri);if(s.startsWith("."))return!1;if(n.isDirectory)return"node_modules"!==s&&"out"!==s;if(n.isFile){const l=Dt.extname(n.uri);return r.includes(l)}return!1}}class ta{buildUnexpectedCharactersMessage(e,n,r,s,l){return b.PW.buildUnexpectedCharactersMessage(e,n,r,s,l)}buildUnableToPopLexerModeMessage(e){return b.PW.buildUnableToPopLexerModeMessage(e)}}const na={mode:"full"};class ra{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const n=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(n);const r=ri(n)?Object.values(n):n;this.chevrotainLexer=new b.JG(r,{positionTracking:"full",skipValidations:"production"===e.LanguageMetaData.mode,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,n=na){var r,s,l;const c=this.chevrotainLexer.tokenize(e);return{tokens:c.tokens,errors:c.errors,hidden:null!==(r=c.groups.hidden)&&void 0!==r?r:[],report:null===(l=(s=this.tokenBuilder).flushLexingReport)||void 0===l?void 0:l.call(s,e)}}toTokenTypeDictionary(e){if(ri(e))return e;const n=ni(e)?Object.values(e.modes).flat():e,r={};return n.forEach(s=>r[s.name]=s),r}}function ni(i){return i&&"modes"in i&&"defaultMode"in i}function ri(i){return!function sa(i){return Array.isArray(i)&&(0===i.length||"name"in i[0])}(i)&&!ni(i)}function Jr(i){let e="";return e="string"==typeof i?i:i.text,e.split(B.TH)}const Zr=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,ii=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function vr(i,e,n,r){const s=[];if(0===i.length){const l=we.create(n,r),c=we.create(n,r+e.length);s.push({type:"text",content:e,range:re.create(l,c)})}else{let l=0;for(const h of i){const _=h.index,O=e.substring(l,_);O.length>0&&s.push({type:"text",content:e.substring(l,_),range:re.create(we.create(n,l+r),we.create(n,_+r))});let j=O.length+1;const te=h[1];if(s.push({type:"inline-tag",content:te,range:re.create(we.create(n,l+j+r),we.create(n,l+j+te.length+r))}),j+=te.length,4===h.length){j+=h[2].length;const se=h[3];s.push({type:"text",content:se,range:re.create(we.create(n,l+j+r),we.create(n,l+j+se.length+r))})}else s.push({type:"text",content:"",range:re.create(we.create(n,l+j+r),we.create(n,l+j+r))});l=_+h[0].length}const c=e.substring(l);c.length>0&&s.push({type:"text",content:c,range:re.create(we.create(n,l+r),we.create(n,l+r+c.length))})}return s}const Er=/\S/,oi=/\s*$/;function qr(i,e){const n=i.substring(e).match(Er);return n?e+n.index:i.length}function aa(i){const e=i.match(oi);if(e&&"number"==typeof e.index)return e.index}function es(i,e){const n=i.tokens[i.index];return"tag"===n.type?ci(i,!1):"text"===n.type||"inline-tag"===n.type?ui(i):(function li(i,e){if(e){const n=new _r("",i.range);"inlines"in e?e.inlines.push(n):e.content.inlines.push(n)}}(n,e),void i.index++)}function ui(i){let e=i.tokens[i.index];const n=e;let r=e;const s=[];for(;e&&"break"!==e.type&&"tag"!==e.type;)s.push(la(i)),r=e,e=i.tokens[i.index];return new zn(s,re.create(n.range.start,r.range.end))}function la(i){return"inline-tag"===i.tokens[i.index].type?ci(i,!0):di(i)}function ci(i,e){const n=i.tokens[i.index++],r=n.content.substring(1),s=i.tokens[i.index];if("text"===s?.type){if(e){const l=di(i);return new Rr(r,new zn([l],l.range),e,re.create(n.range.start,l.range.end))}{const l=ui(i);return new Rr(r,l,e,re.create(n.range.start,l.range.end))}}{const l=n.range;return new Rr(r,new zn([],l),e,l)}}function di(i){const e=i.tokens[i.index++];return new _r(e.content,e.range)}function Ut(i){if(!i)return Ut({start:"/**",end:"*/",line:"*"});const{start:e,end:n,line:r}=i;return{start:fi(e,!0),end:fi(n,!1),line:fi(r,!0)}}function fi(i,e){if("string"==typeof i||"object"==typeof i){const n="string"==typeof i?(0,B.Nt)(i):i.source;return e?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}return i}class hi{constructor(e,n){this.elements=e,this.range=n}getTag(e){return this.getAllTags().find(n=>n.name===e)}getTags(e){return this.getAllTags().filter(n=>n.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const n of this.elements)if(0===e.length)e=n.toString();else{const r=n.toString();e+=Xn(e)+r}return e.trim()}toMarkdown(e){let n="";for(const r of this.elements)if(0===n.length)n=r.toMarkdown(e);else{const s=r.toMarkdown(e);n+=Xn(n)+s}return n.trim()}}class Rr{constructor(e,n,r,s){this.name=e,this.content=n,this.inline=r,this.range=s}toString(){let e=`@${this.name}`;const n=this.content.toString();return 1===this.content.inlines.length?e=`${e} ${n}`:this.content.inlines.length>1&&(e=`${e}\n${n}`),this.inline?`{${e}}`:e}toMarkdown(e){var n,r;return null!==(r=null===(n=e?.renderTag)||void 0===n?void 0:n.call(e,this))&&void 0!==r?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){const n=this.content.toMarkdown(e);if(this.inline){const l=function pi(i,e,n){var r,s;if("linkplain"===i||"linkcode"===i||"link"===i){const l=e.indexOf(" ");let c=e;if(l>0){const _=qr(e,l);c=e.substring(_),e=e.substring(0,l)}return("linkcode"===i||"link"===i&&"code"===n.link)&&(c=`\`${c}\``),null!==(s=null===(r=n.renderLink)||void 0===r?void 0:r.call(n,e,c))&&void 0!==s?s:function ts(i,e){try{return pt.r.parse(i,!0),`[${e}](${i})`}catch{return i}}(e,c)}}(this.name,n,e??{});if("string"==typeof l)return l}let r="";"italic"===e?.tag||void 0===e?.tag?r="*":"bold"===e?.tag?r="**":"bold-italic"===e?.tag&&(r="***");let s=`${r}@${this.name}${r}`;return 1===this.content.inlines.length?s=`${s} \u2014 ${n}`:this.content.inlines.length>1&&(s=`${s}\n${n}`),this.inline?`{${s}}`:s}}class zn{constructor(e,n){this.inlines=e,this.range=n}toString(){let e="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],s=this.inlines[n+1];e+=r.toString(),s&&s.range.start.line>r.range.start.line&&(e+="\n")}return e}toMarkdown(e){let n="";for(let r=0;r<this.inlines.length;r++){const s=this.inlines[r],l=this.inlines[r+1];n+=s.toMarkdown(e),l&&l.range.start.line>s.range.start.line&&(n+="\n")}return n}}class _r{constructor(e,n){this.text=e,this.range=n}toString(){return this.text}toMarkdown(){return this.text}}function Xn(i){return i.endsWith("\n")?"\n":"\n\n"}class ns{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const n=this.commentProvider.getComment(e);if(n&&function si(i,e){const n=Ut(e),r=Jr(i);if(0===r.length)return!1;const s=r[0],l=r[r.length-1],c=n.start,h=n.end;return!!c?.exec(s)&&!!h?.exec(l)}(n))return function ia(i,e,n){let r,s;"string"==typeof i?(s=e,r=n):(s=i.range.start,r=e),s||(s=we.create(0,0));const h=function ai(i){var e,n,r;const s=[];let l=i.position.line,c=i.position.character;for(let h=0;h<i.lines.length;h++){const O=h===i.lines.length-1;let j=i.lines[h],te=0;if(0===h&&i.options.start){const Z=null===(e=i.options.start)||void 0===e?void 0:e.exec(j);Z&&(te=Z.index+Z[0].length)}else{const Z=null===(n=i.options.line)||void 0===n?void 0:n.exec(j);Z&&(te=Z.index+Z[0].length)}if(O){const Z=null===(r=i.options.end)||void 0===r?void 0:r.exec(j);Z&&(j=j.substring(0,Z.index))}if(j=j.substring(0,aa(j)),qr(j,te)>=j.length){if(s.length>0){const Z=we.create(l,c);s.push({type:"break",content:"",range:re.create(Z,Z)})}}else{Zr.lastIndex=te;const Z=Zr.exec(j);if(Z){const Me=Z[0],Be=Z[1],Ze=we.create(l,c+te),mt=we.create(l,c+te+Me.length);s.push({type:"tag",content:Be,range:re.create(Ze,mt)}),te+=Me.length,te=qr(j,te)}if(te<j.length){const Me=j.substring(te),Be=Array.from(Me.matchAll(ii));s.push(...vr(Be,Me,l,c+te))}}l++,c=0}return s.length>0&&"break"===s[s.length-1].type?s.slice(0,-1):s}({lines:Jr(i),position:s,options:Ut(r)});return function oa(i){var e,n,r,s;const l=we.create(i.position.line,i.position.character);if(0===i.tokens.length)return new hi([],re.create(l,l));const c=[];for(;i.index<i.tokens.length;){const O=es(i,c[c.length-1]);O&&c.push(O)}const h=null!==(n=null===(e=c[0])||void 0===e?void 0:e.range.start)&&void 0!==n?n:l,_=null!==(s=null===(r=c[c.length-1])||void 0===r?void 0:r.range.end)&&void 0!==s?s:l;return new hi(c,re.create(h,_))}({index:0,tokens:h,position:s})}(n).toMarkdown({renderLink:(s,l)=>this.documentationLinkRenderer(e,s,l),renderTag:s=>this.documentationTagRenderer(e,s)})}documentationLinkRenderer(e,n,r){var s;const l=null!==(s=this.findNameInPrecomputedScopes(e,n))&&void 0!==s?s:this.findNameInGlobalScope(e,n);if(l&&l.nameSegment)return`[${r}](${l.documentUri.with({fragment:`L${l.nameSegment.range.start.line+1},${l.nameSegment.range.start.character+1}`}).toString()})`}documentationTagRenderer(e,n){}findNameInPrecomputedScopes(e,n){const s=(0,Ke.YE)(e).precomputedScopes;if(!s)return;let l=e;do{const h=s.get(l).find(_=>_.name===n);if(h)return h;l=l.$container}while(l)}findNameInGlobalScope(e,n){return this.indexManager.allElements().find(s=>s.name===n)}}class Aa{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var n;return function Vi(i){return"string"==typeof i.$comment}(e)?e.$comment:null===(n=(0,y.v)(e.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===n?void 0:n.text}}class mi{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,n){return Promise.resolve(this.syncParser.parse(e))}}class Ir{constructor(){this.previousTokenSource=new je.Qi,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const n=function Ui(){return bt=performance.now(),new je.Qi}();return this.previousTokenSource=n,this.enqueue(this.writeQueue,e,n.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,n,r=je.XO.None){const s=new Wr;return e.push({action:n,deferred:s,cancellationToken:r}),this.performNextOperation(),s.promise}performNextOperation(){var e=this;return(0,Ie.A)(function*(){if(!e.done)return;const n=[];if(e.writeQueue.length>0)n.push(e.writeQueue.shift());else{if(!(e.readQueue.length>0))return;n.push(...e.readQueue.splice(0,e.readQueue.length))}e.done=!1,yield Promise.all(n.map(function(){var r=(0,Ie.A)(function*({action:s,deferred:l,cancellationToken:c}){try{const h=yield Promise.resolve().then(()=>s(c));l.resolve(h)}catch(h){pr(h)?l.resolve(void 0):l.reject(h)}});return function(s){return r.apply(this,arguments)}}())),e.done=!0,e.performNextOperation()})()}cancelWrite(){this.previousTokenSource.cancel()}}class ua{constructor(e){this.grammarElementIdMap=new ze,this.tokenTypeIdMap=new ze,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(n=>Object.assign(Object.assign({},n),{message:n.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const n=new Map,r=new Map;for(const s of(0,Ke.jm)(e))n.set(s,{});if(e.$cstNode)for(const s of(0,y.NS)(e.$cstNode))r.set(s,{});return{astNodes:n,cstNodes:r}}dehydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,void 0!==e.$cstNode&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,n));for(const[s,l]of Object.entries(e))if(!s.startsWith("$"))if(Array.isArray(l)){const c=[];r[s]=c;for(const h of l)(0,Fe.ng)(h)?c.push(this.dehydrateAstNode(h,n)):(0,Fe.A_)(h)?c.push(this.dehydrateReference(h,n)):c.push(h)}else(0,Fe.ng)(l)?r[s]=this.dehydrateAstNode(l,n):(0,Fe.A_)(l)?r[s]=this.dehydrateReference(l,n):void 0!==l&&(r[s]=l);return r}dehydrateReference(e,n){const r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=n.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,n){const r=n.cstNodes.get(e);return(0,Fe.br)(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=n.astNodes.get(e.astNode),(0,Fe.mD)(e)?r.content=e.content.map(s=>this.dehydrateCstNode(s,n)):(0,Fe.FC)(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){const n=e.value,r=this.createHydrationContext(n);return"$cstNode"in n&&this.hydrateCstNode(n.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(n,r)}}createHydrationContext(e){const n=new Map,r=new Map;for(const l of(0,Ke.jm)(e))n.set(l,{});let s;if(e.$cstNode)for(const l of(0,y.NS)(e.$cstNode)){let c;"fullText"in l?(c=new sn(l.fullText),s=c):"content"in l?c=new ur:"tokenType"in l&&(c=this.hydrateCstLeafNode(l)),c&&(r.set(l,c),c.root=s)}return{astNodes:n,cstNodes:r}}hydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=n.cstNodes.get(e.$cstNode));for(const[s,l]of Object.entries(e))if(!s.startsWith("$"))if(Array.isArray(l)){const c=[];r[s]=c;for(const h of l)(0,Fe.ng)(h)?c.push(this.setParent(this.hydrateAstNode(h,n),r)):(0,Fe.A_)(h)?c.push(this.hydrateReference(h,r,s,n)):c.push(h)}else(0,Fe.ng)(l)?r[s]=this.setParent(this.hydrateAstNode(l,n),r):(0,Fe.A_)(l)?r[s]=this.hydrateReference(l,r,s,n):void 0!==l&&(r[s]=l);return r}setParent(e,n){return e.$container=n,e}hydrateReference(e,n,r,s){return this.linker.buildReference(n,r,s.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,n,r=0){const s=n.cstNodes.get(e);if("number"==typeof e.grammarSource&&(s.grammarSource=this.getGrammarElement(e.grammarSource)),s.astNode=n.astNodes.get(e.astNode),(0,Fe.mD)(s))for(const l of e.content){const c=this.hydrateCstNode(l,n,r++);s.content.push(c)}return s}hydrateCstLeafNode(e){const n=this.getTokenType(e.tokenType);return new Mr(e.offset,e.length,{start:{line:e.startLine,character:e.startColumn},end:{line:e.endLine,character:e.endColumn}},n,e.hidden)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const n of(0,Ke.jm)(this.grammar))(0,k.r1)(n)&&this.grammarElementIdMap.set(n,e++)}}function gi(i){return{documentation:{CommentProvider:e=>new Aa(e),DocumentationProvider:e=>new ns(e)},parser:{AsyncParser:e=>new mi(e),GrammarConfig:e=>function L(i){const e=[],n=i.Grammar;for(const r of n.rules)(0,k.rE)(r)&&(0,P.eb)(r)&&(0,B.lU)((0,P.S)(r))&&e.push(r.name);return{multilineCommentRules:e,nameRegexp:y.El}}(e),LangiumParser:e=>function Bs(i){const e=function Ws(i){const n=i.parser.Lexer;return Ms(i.Grammar,new jn(i),n.definition)}(i);return e.finalize(),e}(e),CompletionParser:e=>function Gs(i){const e=i.Grammar,n=i.parser.Lexer,r=new Pi(i);return Ms(e,r,n.definition),r.finalize(),r}(e),ValueConverter:()=>new Qt.d,TokenBuilder:()=>new bi.Q,Lexer:e=>new ra(e),ParserErrorMessageProvider:()=>new Ps,LexerErrorMessageProvider:()=>new ta},workspace:{AstNodeLocator:()=>new Ji,AstNodeDescriptionProvider:e=>new Yi(e),ReferenceDescriptionProvider:e=>new Qi(e)},references:{Linker:e=>new zs(e),NameProvider:()=>new Xs,ScopeProvider:e=>new zr(e),ScopeComputation:e=>new Hr(e),References:e=>new Ys(e)},serializer:{Hydrator:e=>new ua(e),JsonSerializer:e=>new yr(e)},validation:{DocumentValidator:e=>new Hi(e),ValidationRegistry:e=>new ei(e)},shared:()=>i.shared}}function yi(i){return{ServiceRegistry:e=>new Ar(e),workspace:{LangiumDocuments:e=>new mr(e),LangiumDocumentFactory:e=>new Gi(e),DocumentBuilder:e=>new Zi(e),IndexManager:e=>new qi(e),WorkspaceManager:e=>new ea(e),FileSystemProvider:e=>i.fileSystemProvider(e),WorkspaceLock:()=>new Ir,ConfigurationProvider:e=>new Tr(e)}}}},6165:(Ce,Q,g)=>{g.d(Q,{A:()=>P});const P=function y(B){var k=null==B?0:B.length;return k?B[k-1]:void 0}},6327:(Ce,Q,g)=>{g.d(Q,{A:()=>b});var y=g(6689),P=g(2040),B=g(9103),k=g(3744);const b=function L(W,K){return((0,k.A)(W)?y.A:B.A)(W,(0,P.A)(K,3))}},6489:(Ce,Q,g)=>{var y;g.d(Q,{A:()=>B,r:()=>P}),(()=>{var k={470:K=>{function E(p){if("string"!=typeof p)throw new TypeError("Path must be a string. Received "+JSON.stringify(p))}function T(p,R){for(var A,S="",m=0,N=-1,w=0,F=0;F<=p.length;++F){if(F<p.length)A=p.charCodeAt(F);else{if(47===A)break;A=47}if(47===A){if(N!==F-1&&1!==w)if(N!==F-1&&2===w){if(S.length<2||2!==m||46!==S.charCodeAt(S.length-1)||46!==S.charCodeAt(S.length-2))if(S.length>2){var D=S.lastIndexOf("/");if(D!==S.length-1){-1===D?(S="",m=0):m=(S=S.slice(0,D)).length-1-S.lastIndexOf("/"),N=F,w=0;continue}}else if(2===S.length||1===S.length){S="",m=0,N=F,w=0;continue}R&&(S.length>0?S+="/..":S="..",m=2)}else S.length>0?S+="/"+p.slice(N+1,F):S=p.slice(N+1,F),m=F-N-1;N=F,w=0}else 46===A&&-1!==w?++w:w=-1}return S}var x={resolve:function(){for(var p,R="",A=!1,S=arguments.length-1;S>=-1&&!A;S--){var m;S>=0?m=arguments[S]:(void 0===p&&(p=process.cwd()),m=p),E(m),0!==m.length&&(R=m+"/"+R,A=47===m.charCodeAt(0))}return R=T(R,!A),A?R.length>0?"/"+R:"/":R.length>0?R:"."},normalize:function(p){if(E(p),0===p.length)return".";var R=47===p.charCodeAt(0),A=47===p.charCodeAt(p.length-1);return 0!==(p=T(p,!R)).length||R||(p="."),p.length>0&&A&&(p+="/"),R?"/"+p:p},isAbsolute:function(p){return E(p),p.length>0&&47===p.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var p,R=0;R<arguments.length;++R){var A=arguments[R];E(A),A.length>0&&(void 0===p?p=A:p+="/"+A)}return void 0===p?".":x.normalize(p)},relative:function(p,R){if(E(p),E(R),p===R||(p=x.resolve(p))===(R=x.resolve(R)))return"";for(var A=1;A<p.length&&47===p.charCodeAt(A);++A);for(var S=p.length,m=S-A,N=1;N<R.length&&47===R.charCodeAt(N);++N);for(var w=R.length-N,F=m<w?m:w,D=-1,J=0;J<=F;++J){if(J===F){if(w>F){if(47===R.charCodeAt(N+J))return R.slice(N+J+1);if(0===J)return R.slice(N+J)}else m>F&&(47===p.charCodeAt(A+J)?D=J:0===J&&(D=0));break}var le=p.charCodeAt(A+J);if(le!==R.charCodeAt(N+J))break;47===le&&(D=J)}var de="";for(J=A+D+1;J<=S;++J)J!==S&&47!==p.charCodeAt(J)||(de+=0===de.length?"..":"/..");return de.length>0?de+R.slice(N+D):(47===R.charCodeAt(N+=D)&&++N,R.slice(N))},_makeLong:function(p){return p},dirname:function(p){if(E(p),0===p.length)return".";for(var R=p.charCodeAt(0),A=47===R,S=-1,m=!0,N=p.length-1;N>=1;--N)if(47===(R=p.charCodeAt(N))){if(!m){S=N;break}}else m=!1;return-1===S?A?"/":".":A&&1===S?"//":p.slice(0,S)},basename:function(p,R){if(void 0!==R&&"string"!=typeof R)throw new TypeError('"ext" argument must be a string');E(p);var A,S=0,m=-1,N=!0;if(void 0!==R&&R.length>0&&R.length<=p.length){if(R.length===p.length&&R===p)return"";var w=R.length-1,F=-1;for(A=p.length-1;A>=0;--A){var D=p.charCodeAt(A);if(47===D){if(!N){S=A+1;break}}else-1===F&&(N=!1,F=A+1),w>=0&&(D===R.charCodeAt(w)?-1==--w&&(m=A):(w=-1,m=F))}return S===m?m=F:-1===m&&(m=p.length),p.slice(S,m)}for(A=p.length-1;A>=0;--A)if(47===p.charCodeAt(A)){if(!N){S=A+1;break}}else-1===m&&(N=!1,m=A+1);return-1===m?"":p.slice(S,m)},extname:function(p){E(p);for(var R=-1,A=0,S=-1,m=!0,N=0,w=p.length-1;w>=0;--w){var F=p.charCodeAt(w);if(47!==F)-1===S&&(m=!1,S=w+1),46===F?-1===R?R=w:1!==N&&(N=1):-1!==R&&(N=-1);else if(!m){A=w+1;break}}return-1===R||-1===S||0===N||1===N&&R===S-1&&R===A+1?"":p.slice(R,S)},format:function(p){if(null===p||"object"!=typeof p)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof p);return m=(A=p).base||(A.name||"")+(A.ext||""),(S=A.dir||A.root)?S===A.root?S+m:S+"/"+m:m;var A,S,m},parse:function(p){E(p);var R={root:"",dir:"",base:"",ext:"",name:""};if(0===p.length)return R;var A,S=p.charCodeAt(0),m=47===S;m?(R.root="/",A=1):A=0;for(var N=-1,w=0,F=-1,D=!0,J=p.length-1,le=0;J>=A;--J)if(47!==(S=p.charCodeAt(J)))-1===F&&(D=!1,F=J+1),46===S?-1===N?N=J:1!==le&&(le=1):-1!==N&&(le=-1);else if(!D){w=J+1;break}return-1===N||-1===F||0===le||1===le&&N===F-1&&N===w+1?-1!==F&&(R.base=R.name=p.slice(0===w&&m?1:w,F)):(0===w&&m?(R.name=p.slice(1,N),R.base=p.slice(1,F)):(R.name=p.slice(w,N),R.base=p.slice(w,F)),R.ext=p.slice(N,F)),w>0?R.dir=p.slice(0,w-1):m&&(R.dir="/"),R},sep:"/",delimiter:":",win32:null,posix:null};x.posix=x,K.exports=x}},L={};function b(K){var E=L[K];if(void 0!==E)return E.exports;var T=L[K]={exports:{}};return k[K](T,T.exports,b),T.exports}b.d=(K,E)=>{for(var T in E)b.o(E,T)&&!b.o(K,T)&&Object.defineProperty(K,T,{enumerable:!0,get:E[T]})},b.o=(K,E)=>Object.prototype.hasOwnProperty.call(K,E),b.r=K=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})};var W={};(()=>{let K;b.r(W),b.d(W,{URI:()=>m,Utils:()=>Ve}),"object"==typeof process?K="win32"===process.platform:"object"==typeof navigator&&(K=navigator.userAgent.indexOf("Windows")>=0);const E=/^\w[\w\d+.-]*$/,T=/^\//,x=/^\/\//;function p(q,Y){if(!q.scheme&&Y)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${q.authority}", path: "${q.path}", query: "${q.query}", fragment: "${q.fragment}"}`);if(q.scheme&&!E.test(q.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(q.path)if(q.authority){if(!T.test(q.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(x.test(q.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const R="",A="/",S=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class m{static isUri(Y){return Y instanceof m||!!Y&&"string"==typeof Y.authority&&"string"==typeof Y.fragment&&"string"==typeof Y.path&&"string"==typeof Y.query&&"string"==typeof Y.scheme&&"string"==typeof Y.fsPath&&"function"==typeof Y.with&&"function"==typeof Y.toString}scheme;authority;path;query;fragment;constructor(Y,ue,ae,Ee,Te,he=!1){"object"==typeof Y?(this.scheme=Y.scheme||R,this.authority=Y.authority||R,this.path=Y.path||R,this.query=Y.query||R,this.fragment=Y.fragment||R):(this.scheme=function(st,_e){return st||_e?st:"file"}(Y,he),this.authority=ue||R,this.path=function(st,_e){switch(st){case"https":case"http":case"file":_e?_e[0]!==A&&(_e=A+_e):_e=A}return _e}(this.scheme,ae||R),this.query=Ee||R,this.fragment=Te||R,p(this,he))}get fsPath(){return le(this,!1)}with(Y){if(!Y)return this;let{scheme:ue,authority:ae,path:Ee,query:Te,fragment:he}=Y;return void 0===ue?ue=this.scheme:null===ue&&(ue=R),void 0===ae?ae=this.authority:null===ae&&(ae=R),void 0===Ee?Ee=this.path:null===Ee&&(Ee=R),void 0===Te?Te=this.query:null===Te&&(Te=R),void 0===he?he=this.fragment:null===he&&(he=R),ue===this.scheme&&ae===this.authority&&Ee===this.path&&Te===this.query&&he===this.fragment?this:new w(ue,ae,Ee,Te,he)}static parse(Y,ue=!1){const ae=S.exec(Y);return ae?new w(ae[2]||R,fe(ae[4]||R),fe(ae[5]||R),fe(ae[7]||R),fe(ae[9]||R),ue):new w(R,R,R,R,R)}static file(Y){let ue=R;if(K&&(Y=Y.replace(/\\/g,A)),Y[0]===A&&Y[1]===A){const ae=Y.indexOf(A,2);-1===ae?(ue=Y.substring(2),Y=A):(ue=Y.substring(2,ae),Y=Y.substring(ae)||A)}return new w("file",ue,Y,R,R)}static from(Y){const ue=new w(Y.scheme,Y.authority,Y.path,Y.query,Y.fragment);return p(ue,!0),ue}toString(Y=!1){return de(this,Y)}toJSON(){return this}static revive(Y){if(Y){if(Y instanceof m)return Y;{const ue=new w(Y);return ue._formatted=Y.external,ue._fsPath=Y._sep===N?Y.fsPath:null,ue}}return Y}}const N=K?1:void 0;class w extends m{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=le(this,!1)),this._fsPath}toString(Y=!1){return Y?de(this,!0):(this._formatted||(this._formatted=de(this,!1)),this._formatted)}toJSON(){const Y={$mid:1};return this._fsPath&&(Y.fsPath=this._fsPath,Y._sep=N),this._formatted&&(Y.external=this._formatted),this.path&&(Y.path=this.path),this.scheme&&(Y.scheme=this.scheme),this.authority&&(Y.authority=this.authority),this.query&&(Y.query=this.query),this.fragment&&(Y.fragment=this.fragment),Y}}const F={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function D(q,Y,ue){let ae,Ee=-1;for(let Te=0;Te<q.length;Te++){const he=q.charCodeAt(Te);if(he>=97&&he<=122||he>=65&&he<=90||he>=48&&he<=57||45===he||46===he||95===he||126===he||Y&&47===he||ue&&91===he||ue&&93===he||ue&&58===he)-1!==Ee&&(ae+=encodeURIComponent(q.substring(Ee,Te)),Ee=-1),void 0!==ae&&(ae+=q.charAt(Te));else{void 0===ae&&(ae=q.substr(0,Te));const st=F[he];void 0!==st?(-1!==Ee&&(ae+=encodeURIComponent(q.substring(Ee,Te)),Ee=-1),ae+=st):-1===Ee&&(Ee=Te)}}return-1!==Ee&&(ae+=encodeURIComponent(q.substring(Ee))),void 0!==ae?ae:q}function J(q){let Y;for(let ue=0;ue<q.length;ue++){const ae=q.charCodeAt(ue);35===ae||63===ae?(void 0===Y&&(Y=q.substr(0,ue)),Y+=F[ae]):void 0!==Y&&(Y+=q[ue])}return void 0!==Y?Y:q}function le(q,Y){let ue;return ue=q.authority&&q.path.length>1&&"file"===q.scheme?`//${q.authority}${q.path}`:47===q.path.charCodeAt(0)&&(q.path.charCodeAt(1)>=65&&q.path.charCodeAt(1)<=90||q.path.charCodeAt(1)>=97&&q.path.charCodeAt(1)<=122)&&58===q.path.charCodeAt(2)?Y?q.path.substr(1):q.path[1].toLowerCase()+q.path.substr(2):q.path,K&&(ue=ue.replace(/\//g,"\\")),ue}function de(q,Y){const ue=Y?J:D;let ae="",{scheme:Ee,authority:Te,path:he,query:st,fragment:_e}=q;if(Ee&&(ae+=Ee,ae+=":"),(Te||"file"===Ee)&&(ae+=A,ae+=A),Te){let be=Te.indexOf("@");if(-1!==be){const qe=Te.substr(0,be);Te=Te.substr(be+1),be=qe.lastIndexOf(":"),-1===be?ae+=ue(qe,!1,!1):(ae+=ue(qe.substr(0,be),!1,!1),ae+=":",ae+=ue(qe.substr(be+1),!1,!0)),ae+="@"}Te=Te.toLowerCase(),be=Te.lastIndexOf(":"),-1===be?ae+=ue(Te,!1,!0):(ae+=ue(Te.substr(0,be),!1,!0),ae+=Te.substr(be))}if(he){if(he.length>=3&&47===he.charCodeAt(0)&&58===he.charCodeAt(2)){const be=he.charCodeAt(1);be>=65&&be<=90&&(he=`/${String.fromCharCode(be+32)}:${he.substr(3)}`)}else if(he.length>=2&&58===he.charCodeAt(1)){const be=he.charCodeAt(0);be>=65&&be<=90&&(he=`${String.fromCharCode(be+32)}:${he.substr(2)}`)}ae+=ue(he,!0,!1)}return st&&(ae+="?",ae+=ue(st,!1,!1)),_e&&(ae+="#",ae+=Y?_e:D(_e,!1,!1)),ae}function V(q){try{return decodeURIComponent(q)}catch{return q.length>3?q.substr(0,3)+V(q.substr(3)):q}}const ne=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function fe(q){return q.match(ne)?q.replace(ne,Y=>V(Y)):q}var Ae=b(470);const ke=Ae.posix||Ae;var Ve,q;(q=Ve||(Ve={})).joinPath=function(Y,...ue){return Y.with({path:ke.join(Y.path,...ue)})},q.resolvePath=function(Y,...ue){let ae=Y.path,Ee=!1;"/"!==ae[0]&&(ae="/"+ae,Ee=!0);let Te=ke.resolve(ae,...ue);return Ee&&"/"===Te[0]&&!Y.authority&&(Te=Te.substring(1)),Y.with({path:Te})},q.dirname=function(Y){if(0===Y.path.length||"/"===Y.path)return Y;let ue=ke.dirname(Y.path);return 1===ue.length&&46===ue.charCodeAt(0)&&(ue=""),Y.with({path:ue})},q.basename=function(Y){return ke.basename(Y.path)},q.extname=function(Y){return ke.extname(Y.path)}})(),y=W})();const{URI:P,Utils:B}=y},7050:(Ce,Q,g)=>{g.d(Q,{D:()=>B});var y=g(467);class P{readFile(){throw new Error("No file system is available.")}readDirectory(){return(0,y.A)(function*(){return[]})()}}const B={fileSystemProvider:()=>new P}},7167:(Ce,Q,g)=>{g.d(Q,{L:()=>b,b:()=>W});var y=g(7668),P=g(7050),B=g(8143),k=g(6024),L=class extends y.mR{static{(0,y.K2)(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},b={parser:{TokenBuilder:(0,y.K2)(()=>new L,"TokenBuilder"),ValueConverter:(0,y.K2)(()=>new y.Tm,"ValueConverter")}};function W(K=P.D){const E=(0,B.WQ)((0,k.u)(K),y.sr),T=(0,B.WQ)((0,k.t)({shared:E}),y.eZ,b);return E.ServiceRegistry.register(T),{shared:E,GitGraph:T}}(0,y.K2)(W,"createGitGraphServices")},7246:(Ce,Q,g)=>{g.d(Q,{B:()=>W,f:()=>K});var y=g(7668),P=g(7050),B=g(8143),k=g(6024),L=class extends y.mR{static{(0,y.K2)(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},b=class extends y.dg{static{(0,y.K2)(this,"PieValueConverter")}runCustomConverter(E,T,x){if("PIE_SECTION_LABEL"===E.name)return T.replace(/"/g,"").trim()}},W={parser:{TokenBuilder:(0,y.K2)(()=>new L,"TokenBuilder"),ValueConverter:(0,y.K2)(()=>new b,"ValueConverter")}};function K(E=P.D){const T=(0,B.WQ)((0,k.u)(E),y.sr),x=(0,B.WQ)((0,k.t)({shared:T}),y.KX,W);return T.ServiceRegistry.register(x),{shared:T,Pie:x}}(0,y.K2)(K,"createPieServices")},7288:(Ce,Q,g)=>{g.d(Q,{ak:()=>Se,mT:()=>Da,LT:()=>Qt,jr:()=>Ua,T6:()=>mi,JG:()=>nt,wL:()=>De,c$:()=>G,Y2:()=>oe,$P:()=>z,Cy:()=>me,Pp:()=>Re,BK:()=>Oe,PW:()=>bs,my:()=>Fe,jk:()=>Qs,Sk:()=>xn,G:()=>je});var y=g(9671),P=g(8456),B=g(2036),k=g(6327),L=g(1981),b=g(2280);function W(o){function t(){}t.prototype=o;const a=new t;function u(){return typeof a.bar}return u(),u(),o}const E=function K(o,t,a){var u=-1,d=o.length;t<0&&(t=-t>d?0:d+t),(a=a>d?d:a)<0&&(a+=d),d=t>a?0:a-t>>>0,t>>>=0;for(var f=Array(d);++u<d;)f[u]=o[u+t];return f};var T=g(2184);const p=function x(o,t,a){var u=null==o?0:o.length;return u?(t=a||void 0===t?1:(0,T.A)(t),E(o,t<0?0:t,u)):[]};var R=g(936),A=g(1984),S=g(9898),m=g(2190),N=g(1287),w=g(5776),F=g(4429),J=Object.prototype.hasOwnProperty;const de=(0,m.A)(function(o,t){if((0,w.A)(t)||(0,N.A)(t))(0,S.A)(t,(0,F.A)(t),o);else for(var a in t)J.call(t,a)&&(0,A.A)(o,a,t[a])});var V=g(6689),ne=g(2040),fe=g(7858),Ae=g(7372);const ve=function ke(o,t){if(null==o)return{};var a=(0,V.A)((0,Ae.A)(o),function(u){return[u]});return t=(0,ne.A)(t),(0,fe.A)(o,a,function(u,d){return t(u,d[0])})};var Ve=g(5281),q=g(2661);var Ee=g(778),Te=g(3340),he=Te.A&&Te.A.isRegExp;const _e=he?(0,Ee.A)(he):function ue(o){return(0,q.A)(o)&&"[object RegExp]"==(0,Ve.A)(o)};function be(o){return function qe(o){return(0,R.A)(o.LABEL)&&""!==o.LABEL}(o)?o.LABEL:o.name}class ft{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),(0,y.A)(this.definition,a=>{a.accept(t)})}}class De extends ft{constructor(t){super([]),this.idx=1,de(this,ve(t,a=>void 0!==a))}set definition(t){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class Qe extends ft{constructor(t){super(t.definition),this.orgText="",de(this,ve(t,a=>void 0!==a))}}class I extends ft{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,de(this,ve(t,a=>void 0!==a))}}class G extends ft{constructor(t){super(t.definition),this.idx=1,de(this,ve(t,a=>void 0!==a))}}class z extends ft{constructor(t){super(t.definition),this.idx=1,de(this,ve(t,a=>void 0!==a))}}class me extends ft{constructor(t){super(t.definition),this.idx=1,de(this,ve(t,a=>void 0!==a))}}class oe extends ft{constructor(t){super(t.definition),this.idx=1,de(this,ve(t,a=>void 0!==a))}}class Re extends ft{constructor(t){super(t.definition),this.idx=1,de(this,ve(t,a=>void 0!==a))}}class Se extends ft{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,de(this,ve(t,a=>void 0!==a))}}class Oe{constructor(t){this.idx=1,de(this,ve(t,a=>void 0!==a))}accept(t){t.visit(this)}}function jt(o){function t(a){return(0,k.A)(a,jt)}if(o instanceof De){const a={type:"NonTerminal",name:o.nonTerminalName,idx:o.idx};return(0,R.A)(o.label)&&(a.label=o.label),a}if(o instanceof I)return{type:"Alternative",definition:t(o.definition)};if(o instanceof G)return{type:"Option",idx:o.idx,definition:t(o.definition)};if(o instanceof z)return{type:"RepetitionMandatory",idx:o.idx,definition:t(o.definition)};if(o instanceof me)return{type:"RepetitionMandatoryWithSeparator",idx:o.idx,separator:jt(new Oe({terminalType:o.separator})),definition:t(o.definition)};if(o instanceof Re)return{type:"RepetitionWithSeparator",idx:o.idx,separator:jt(new Oe({terminalType:o.separator})),definition:t(o.definition)};if(o instanceof oe)return{type:"Repetition",idx:o.idx,definition:t(o.definition)};if(o instanceof Se)return{type:"Alternation",idx:o.idx,definition:t(o.definition)};if(o instanceof Oe){const a={type:"Terminal",name:o.terminalType.name,label:be(o.terminalType),idx:o.idx};(0,R.A)(o.label)&&(a.terminalLabel=o.label);const u=o.terminalType.PATTERN;return o.terminalType.PATTERN&&(a.pattern=_e(u)?u.source:u),a}if(o instanceof Qe)return{type:"Rule",name:o.name,orgText:o.orgText,definition:t(o.definition)};throw Error("non exhaustive match")}class ht{visit(t){const a=t;switch(a.constructor){case De:return this.visitNonTerminal(a);case I:return this.visitAlternative(a);case G:return this.visitOption(a);case z:return this.visitRepetitionMandatory(a);case me:return this.visitRepetitionMandatoryWithSeparator(a);case Re:return this.visitRepetitionWithSeparator(a);case oe:return this.visitRepetition(a);case Se:return this.visitAlternation(a);case Oe:return this.visitTerminal(a);case Qe:return this.visitRule(a);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}var hn=g(3071),_t=g(9617);const Vt=function pn(o,t){var a;return(0,_t.A)(o,function(u,d,f){return!(a=t(u,d,f))}),!!a};var Xe=g(3744),Ot=g(7357);const Lt=function Nn(o,t,a){var u=(0,Xe.A)(o)?hn.A:Vt;return a&&(0,Ot.A)(o,t,a)&&(t=void 0),u(o,(0,ne.A)(t,3))};var Zt=g(539),Pt=Math.max;const We=function $n(o,t,a,u){o=(0,N.A)(o)?o:(0,P.A)(o),a=a&&!u?(0,T.A)(a):0;var d=o.length;return a<0&&(a=Pt(d+a,0)),(0,R.A)(o)?a<=d&&o.indexOf(t,a)>-1:!!d&&(0,Zt.A)(o,t,a)>-1},It=function On(o,t){for(var a=-1,u=null==o?0:o.length;++a<u;)if(!t(o[a],a,o))return!1;return!0},Gt=function Ln(o,t){var a=!0;return(0,_t.A)(o,function(u,d,f){return a=!!t(u,d,f)}),a},et=function Pn(o,t,a){var u=(0,Xe.A)(o)?It:Gt;return a&&(0,Ot.A)(o,t,a)&&(t=void 0),u(o,(0,ne.A)(t,3))};function Tt(o,t=[]){return o instanceof G||o instanceof oe||o instanceof Re||(o instanceof Se?Lt(o.definition,u=>Tt(u,t)):!(o instanceof De&&We(t,o))&&o instanceof ft&&(o instanceof De&&t.push(o),et(o.definition,u=>Tt(u,t))))}function it(o){if(o instanceof De)return"SUBRULE";if(o instanceof G)return"OPTION";if(o instanceof Se)return"OR";if(o instanceof z)return"AT_LEAST_ONE";if(o instanceof me)return"AT_LEAST_ONE_SEP";if(o instanceof Re)return"MANY_SEP";if(o instanceof oe)return"MANY";if(o instanceof Oe)return"CONSUME";throw Error("non exhaustive match")}class Ht{walk(t,a=[]){(0,y.A)(t.definition,(u,d)=>{const f=p(t.definition,d+1);if(u instanceof De)this.walkProdRef(u,f,a);else if(u instanceof Oe)this.walkTerminal(u,f,a);else if(u instanceof I)this.walkFlat(u,f,a);else if(u instanceof G)this.walkOption(u,f,a);else if(u instanceof z)this.walkAtLeastOne(u,f,a);else if(u instanceof me)this.walkAtLeastOneSep(u,f,a);else if(u instanceof Re)this.walkManySep(u,f,a);else if(u instanceof oe)this.walkMany(u,f,a);else{if(!(u instanceof Se))throw Error("non exhaustive match");this.walkOr(u,f,a)}})}walkTerminal(t,a,u){}walkProdRef(t,a,u){}walkFlat(t,a,u){const d=a.concat(u);this.walk(t,d)}walkOption(t,a,u){const d=a.concat(u);this.walk(t,d)}walkAtLeastOne(t,a,u){const d=[new G({definition:t.definition})].concat(a,u);this.walk(t,d)}walkAtLeastOneSep(t,a,u){const d=xt(t,a,u);this.walk(t,d)}walkMany(t,a,u){const d=[new G({definition:t.definition})].concat(a,u);this.walk(t,d)}walkManySep(t,a,u){const d=xt(t,a,u);this.walk(t,d)}walkOr(t,a,u){const d=a.concat(u);(0,y.A)(t.definition,f=>{const v=new I({definition:[f]});this.walk(v,d)})}}function xt(o,t,a){return[new G({definition:[new Oe({terminalType:o.separator})].concat(o.definition)})].concat(t,a)}var mn=g(6485);const qt=function Ct(o){return o&&o.length?(0,mn.A)(o):[]};var ce=g(2383);function Le(o){if(o instanceof De)return Le(o.referencedRule);if(o instanceof Oe)return function lt(o){return[o.terminalType]}(o);if(function wn(o){return o instanceof I||o instanceof G||o instanceof oe||o instanceof z||o instanceof me||o instanceof Re||o instanceof Oe||o instanceof Qe}(o))return function at(o){let t=[];const a=o.definition;let f,u=0,d=a.length>u,v=!0;for(;d&&v;)f=a[u],v=Tt(f),t=t.concat(Le(f)),u+=1,d=a.length>u;return qt(t)}(o);if(function Mn(o){return o instanceof Se}(o))return function ot(o){const t=(0,k.A)(o.definition,a=>Le(a));return qt((0,ce.A)(t))}(o);throw Error("non exhaustive match")}class en extends Ht{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,a,u){}walkProdRef(t,a,u){const d=function tn(o,t){return o.name+t+"_~IN~_"}(t.referencedRule,t.idx)+this.topProd.name,f=a.concat(u),C=Le(new I({definition:f}));this.follows[d]=C}}var ct=g(5113),zt=g(550),wt=g(9311),gn=g(1861),we=g(7295);const bn=function ut(o,t){return((0,Xe.A)(o)?gn.A:we.A)(o,function H(o){if("function"!=typeof o)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!o.call(this);case 1:return!o.call(this,t[0]);case 2:return!o.call(this,t[0],t[1]);case 3:return!o.call(this,t[0],t[1],t[2])}return!o.apply(this,t)}}((0,ne.A)(t,3)))};var Xt=g(129),Ii=Math.max;const Jn=function cs(o,t,a){var u=null==o?0:o.length;if(!u)return-1;var d=null==a?0:(0,T.A)(a);return d<0&&(d=Ii(u+d,0)),(0,Zt.A)(o,t,d)};var yt=g(8209),vt=g(1207),ds=g(8587),Zn=g(3854),yn=g(6106),Bt=g(5934);var qn=g(4367),Dn=g(363),Tn=g(8388);const vn=(0,Dn.A)(function(o,t){return(0,Tn.A)(o)?function dt(o,t,a,u){var d=-1,f=Zn.A,v=!0,C=o.length,$=[],U=t.length;if(!C)return $;a&&(t=(0,V.A)(t,(0,Ee.A)(a))),u?(f=yn.A,v=!1):t.length>=200&&(f=Bt.A,v=!1,t=new ds.A(t));e:for(;++d<C;){var X=o[d],ee=null==a?X:a(X);if(X=u||0!==X?X:0,v&&ee==ee){for(var pe=U;pe--;)if(t[pe]===ee)continue e;$.push(X)}else f(t,ee,u)||$.push(X)}return $}(o,(0,qn.A)(t,1,Tn.A,!0)):[]}),En=function er(o){for(var t=-1,a=null==o?0:o.length,u=0,d=[];++t<a;){var f=o[t];f&&(d[u++]=f)}return d},Et=function pa(o){return o&&o.length?o[0]:void 0};var nn=g(1511);function Rn(o){console&&console.error&&console.error(`Error: ${o}`)}function Sr(o){console&&console.warn&&console.warn(`Warning: ${o}`)}let _n={};const Fn=new zt.H;function tr(o){const t=o.toString();if(_n.hasOwnProperty(t))return _n[t];{const a=Fn.pattern(t);return _n[t]=a,a}}const fs="Complement Sets are not supported for first char optimization",Gn='Unable to use "first char" lexer optimizations:\n';function Ci(o,t=!1){try{const a=tr(o);return nr(a.value,{},a.flags.ignoreCase)}catch(a){if(a.message===fs)t&&Sr(`${Gn}\tUnable to optimize: < ${o.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let u="";t&&(u="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Rn(`${Gn}\n\tFailed parsing: < ${o.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+u)}}return[]}function nr(o,t,a){switch(o.type){case"Disjunction":for(let d=0;d<o.value.length;d++)nr(o.value[d],t,a);break;case"Alternative":const u=o.value;for(let d=0;d<u.length;d++){const f=u[d];switch(f.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const v=f;switch(v.type){case"Character":Bn(v.value,t,a);break;case"Set":if(!0===v.complement)throw Error(fs);(0,y.A)(v.value,$=>{if("number"==typeof $)Bn($,t,a);else{const U=$;if(!0===a)for(let X=U.from;X<=U.to;X++)Bn(X,t,a);else{for(let X=U.from;X<=U.to&&X<M;X++)Bn(X,t,a);if(U.to>=M){const ee=U.to,pe=Wt(U.from>=M?U.from:M),ge=Wt(ee);for(let Pe=pe;Pe<=ge;Pe++)t[Pe]=Pe}}}});break;case"Group":nr(v.value,t,a);break;default:throw Error("Non Exhaustive Match")}const C=void 0!==v.quantifier&&0===v.quantifier.atLeast;if("Group"===v.type&&!1===rr(v)||"Group"!==v.type&&!1===C)break}break;default:throw Error("non exhaustive match!")}return(0,P.A)(t)}function Bn(o,t,a){const u=Wt(o);t[u]=u,!0===a&&function hs(o,t){const a=String.fromCharCode(o),u=a.toUpperCase();if(u!==a){const d=Wt(u.charCodeAt(0));t[d]=d}else{const d=a.toLowerCase();if(d!==a){const f=Wt(d.charCodeAt(0));t[f]=f}}}(o,t)}function Wn(o,t){return(0,nn.A)(o.value,a=>{if("number"==typeof a)return We(t,a);{const u=a;return void 0!==(0,nn.A)(t,d=>u.from<=d&&d<=u.to)}})}function rr(o){const t=o.quantifier;return!(!t||0!==t.atLeast)||!!o.value&&((0,Xe.A)(o.value)?et(o.value,rr):rr(o.value))}class ps extends zt.z{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}super.visitChildren(t)}}visitCharacter(t){We(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?void 0===Wn(t,this.targetCharCodes)&&(this.found=!0):void 0!==Wn(t,this.targetCharCodes)&&(this.found=!0)}}function sr(o,t){if(t instanceof RegExp){const a=tr(t),u=new ps(o);return u.visit(a),u.found}return void 0!==(0,nn.A)(t,a=>We(o,a.charCodeAt(0)))}const rn="PATTERN",In="defaultMode",ir="modes";let ar="boolean"==typeof new RegExp("(?:)").sticky;const As=/[^\\][$]/,Es=/[^\\[][\^]|^\^/;function or(o){return new RegExp(`^(?:${o.source})`,o.ignoreCase?"i":"")}function Or(o){return new RegExp(`${o.source}`,o.ignoreCase?"iy":"y")}function $s(o){const t=o.PATTERN;if(_e(t))return!1;if((0,Xt.A)(t))return!0;if((0,L.A)(t,"exec"))return!0;if((0,R.A)(t))return!1;throw Error("non exhaustive match")}function Os(o){return!(!(0,R.A)(o)||1!==o.length)&&o.charCodeAt(0)}const Ls={test:function(o){const t=o.length;for(let a=this.lastIndex;a<t;a++){const u=o.charCodeAt(a);if(10===u)return this.lastIndex=a+1,!0;if(13===u)return this.lastIndex=10===o.charCodeAt(a+1)?a+2:a+1,!0}return!1},lastIndex:0};function Lr(o,t){if((0,L.A)(o,"LINE_BREAKS"))return!1;if(_e(o.PATTERN)){try{sr(t,o.PATTERN)}catch(a){return{issue:Ye.IDENTIFY_TERMINATOR,errMsg:a.message}}return!1}if((0,R.A)(o.PATTERN))return!1;if($s(o))return{issue:Ye.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function ma(o,t){if(t.issue===Ye.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${o.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Ye.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${o.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function Pr(o){return(0,k.A)(o,a=>(0,R.A)(a)?a.charCodeAt(0):a)}function wr(o,t,a){void 0===o[t]?o[t]=[a]:o[t].push(a)}const M=256;let lr=[];function Wt(o){return o<M?o:lr[o]}var ur=g(7003),Je=g(3565),sn=g(6165);function cr(o){const t=(new Date).getTime(),a=o();return{time:(new Date).getTime()-t,value:a}}function an(o,t){const a=o.tokenTypeIdx;return a===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[a]}function Kn(o,t){return o.tokenTypeIdx===t.tokenTypeIdx}let br=1;const Dr={};function jn(o){const t=function Li(o){let t=(0,b.A)(o),a=o,u=!0;for(;u;){a=En((0,ce.A)((0,k.A)(a,f=>f.CATEGORIES)));const d=vn(a,t);t=t.concat(d),(0,B.A)(d)?u=!1:a=d}return t}(o);(function Ps(o){(0,y.A)(o,t=>{on(t)||(Dr[br]=t,t.tokenTypeIdx=br++),tt(t)&&!(0,Xe.A)(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),tt(t)||(t.CATEGORIES=[]),function Ms(o){return(0,L.A)(o,"categoryMatches")}(t)||(t.categoryMatches=[]),function Mi(o){return(0,L.A)(o,"categoryMatchesMap")}(t)||(t.categoryMatchesMap={})})})(t),function wi(o){(0,y.A)(o,t=>{ws([],t)})}(t),function Pi(o){(0,y.A)(o,t=>{t.categoryMatches=[],(0,y.A)(t.categoryMatchesMap,(a,u)=>{t.categoryMatches.push(Dr[u].tokenTypeIdx)})})}(t),(0,y.A)(t,a=>{a.isParent=a.categoryMatches.length>0})}function ws(o,t){(0,y.A)(o,a=>{t.categoryMatchesMap[a.tokenTypeIdx]=!0}),(0,y.A)(t.CATEGORIES,a=>{const u=o.concat(t);We(u,a)||ws(u,a)})}function on(o){return(0,L.A)(o,"tokenTypeIdx")}function tt(o){return(0,L.A)(o,"CATEGORIES")}function ln(o){return(0,L.A)(o,"tokenTypeIdx")}const bs={buildUnableToPopLexerModeMessage:o=>`Unable to pop Lexer Mode after encountering Token ->${o.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(o,t,a,u,d)=>`unexpected character: ->${o.charAt(t)}<- at offset: ${t}, skipped ${a} characters.`};var Ye=function(o){return o[o.MISSING_PATTERN=0]="MISSING_PATTERN",o[o.INVALID_PATTERN=1]="INVALID_PATTERN",o[o.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",o[o.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",o[o.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",o[o.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",o[o.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",o[o.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",o[o.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",o[o.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",o[o.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",o[o.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",o[o.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",o[o.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",o[o.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",o[o.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",o[o.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",o[o.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE",o}(Ye||{});const Vn={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:bs,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Vn);let nt=(()=>{class o{constructor(a,u=Vn){if(this.lexerDefinition=a,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(f,v)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const C=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${C}--\x3e <${f}>`);const{time:$,value:U}=cr(v),X=$>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&X(`${C}<-- <${f}> time: ${$}ms`),this.traceInitIndent--,U}return v()},"boolean"==typeof u)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=de({},Vn,u);const d=this.config.traceInitPerf;!0===d?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof d&&(this.traceInitMaxIdent=d,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let f,v=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Vn.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Ls;else if(this.config.lineTerminatorCharacters===Vn.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(u.safeMode&&u.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),(0,Xe.A)(a)?f={modes:{defaultMode:(0,b.A)(a)},defaultMode:In}:(v=!1,f=(0,b.A)(a))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function ks(o){const u=[];return(0,L.A)(o,In)||u.push({message:"A MultiMode Lexer cannot be initialized without a <"+In+"> property in its definition\n",type:Ye.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,L.A)(o,ir)||u.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:Ye.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,L.A)(o,ir)&&(0,L.A)(o,In)&&!(0,L.A)(o.modes,o.defaultMode)&&u.push({message:`A MultiMode Lexer cannot be initialized with a ${In}: <${o.defaultMode}>which does not exist\n`,type:Ye.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,L.A)(o,ir)&&(0,y.A)(o.modes,(d,f)=>{(0,y.A)(d,(v,C)=>{if((0,ct.A)(v))u.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${f}> at index: <${C}>\n`,type:Ye.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,L.A)(v,"LONGER_ALT")){const $=(0,Xe.A)(v.LONGER_ALT)?v.LONGER_ALT:[v.LONGER_ALT];(0,y.A)($,U=>{!(0,ct.A)(U)&&!We(d,U)&&u.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${U.name}> on token <${v.name}> outside of mode <${f}>\n`,type:Ye.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),u}(f))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(function Ss(o,t,a){const u=[];let d=!1;const f=En((0,ce.A)((0,P.A)(o.modes))),v=bn(f,$=>$[rn]===nt.NA),C=Pr(a);return t&&(0,y.A)(v,$=>{const U=Lr($,C);if(!1!==U){const ee={message:ma($,U),type:U.issue,tokenType:$};u.push(ee)}else(0,L.A)($,"LINE_BREAKS")?!0===$.LINE_BREAKS&&(d=!0):sr(C,$.PATTERN)&&(d=!0)}),t&&!d&&u.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:Ye.NO_LINE_BREAKS_FLAGS}),u}(f,this.trackStartLines,this.config.lineTerminatorCharacters))})),f.modes=f.modes?f.modes:{},(0,y.A)(f.modes,($,U)=>{f.modes[U]=bn($,X=>(0,ct.A)(X))});const C=(0,F.A)(f.modes);if((0,y.A)(f.modes,($,U)=>{this.TRACE_INIT(`Mode: <${U}> processing`,()=>{if(this.modes.push(U),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function Ni(o,t){let a=[];const u=function gs(o){const t=(0,vt.A)(o,d=>!(0,L.A)(d,rn)),a=(0,k.A)(t,d=>({message:"Token Type: ->"+d.name+"<- missing static 'PATTERN' property",type:Ye.MISSING_PATTERN,tokenTypes:[d]}));return{errors:a,valid:vn(o,t)}}(o);a=a.concat(u.errors);const d=function ys(o){const t=(0,vt.A)(o,d=>{const f=d[rn];return!(_e(f)||(0,Xt.A)(f)||(0,L.A)(f,"exec")||(0,R.A)(f))}),a=(0,k.A)(t,d=>({message:"Token Type: ->"+d.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Ye.INVALID_PATTERN,tokenTypes:[d]}));return{errors:a,valid:vn(o,t)}}(u.valid),f=d.valid;return a=a.concat(d.errors),a=a.concat(function Nr(o){let t=[];const a=(0,vt.A)(o,u=>_e(u[rn]));return t=t.concat(function Ts(o){class t extends zt.z{constructor(){super(...arguments),this.found=!1}visitEndAnchor(f){this.found=!0}}const a=(0,vt.A)(o,d=>{const f=d.PATTERN;try{const v=tr(f),C=new t;return C.visit(v),C.found}catch{return As.test(f.source)}});return(0,k.A)(a,d=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+d.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Ye.EOI_ANCHOR_FOUND,tokenTypes:[d]}))}(a)),t=t.concat(function $i(o){class t extends zt.z{constructor(){super(...arguments),this.found=!1}visitStartAnchor(f){this.found=!0}}const a=(0,vt.A)(o,d=>{const f=d.PATTERN;try{const v=tr(f),C=new t;return C.visit(v),C.found}catch{return Es.test(f.source)}});return(0,k.A)(a,d=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+d.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Ye.SOI_ANCHOR_FOUND,tokenTypes:[d]}))}(a)),t=t.concat(function Oi(o){const t=(0,vt.A)(o,u=>{const d=u[rn];return d instanceof RegExp&&(d.multiline||d.global)});return(0,k.A)(t,u=>({message:"Token Type: ->"+u.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Ye.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[u]}))}(a)),t=t.concat(function Rs(o){const t=[];let a=(0,k.A)(o,f=>(0,yt.A)(o,(v,C)=>(f.PATTERN.source===C.PATTERN.source&&!We(t,C)&&C.PATTERN!==nt.NA&&(t.push(C),v.push(C)),v),[]));a=En(a);const u=(0,vt.A)(a,f=>f.length>1);return(0,k.A)(u,f=>{const v=(0,k.A)(f,$=>$.name);return{message:`The same RegExp pattern ->${Et(f).PATTERN}<-has been used in all of the following Token Types: ${v.join(", ")} <-`,type:Ye.DUPLICATE_PATTERNS_FOUND,tokenTypes:f}})}(a)),t=t.concat(function vs(o){const t=(0,vt.A)(o,u=>u.PATTERN.test(""));return(0,k.A)(t,u=>({message:"Token Type: ->"+u.name+"<- static 'PATTERN' must not match an empty string",type:Ye.EMPTY_MATCH_PATTERN,tokenTypes:[u]}))}(a)),t}(f)),a=a.concat(function _s(o){const t=(0,vt.A)(o,u=>{if(!(0,L.A)(u,"GROUP"))return!1;const d=u.GROUP;return d!==nt.SKIPPED&&d!==nt.NA&&!(0,R.A)(d)});return(0,k.A)(t,u=>({message:"Token Type: ->"+u.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Ye.INVALID_GROUP_TYPE_FOUND,tokenTypes:[u]}))}(f)),a=a.concat(function Is(o,t){const a=(0,vt.A)(o,d=>void 0!==d.PUSH_MODE&&!We(t,d.PUSH_MODE));return(0,k.A)(a,d=>({message:`Token Type: ->${d.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${d.PUSH_MODE}<-which does not exist`,type:Ye.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[d]}))}(f,t)),a=a.concat(function xs(o){const t=[],a=(0,yt.A)(o,(u,d,f)=>{const v=d.PATTERN;return v===nt.NA||((0,R.A)(v)?u.push({str:v,idx:f,tokenType:d}):_e(v)&&function $r(o){return void 0===(0,nn.A)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],a=>-1!==o.source.indexOf(a))}(v)&&u.push({str:v.source,idx:f,tokenType:d})),u},[]);return(0,y.A)(o,(u,d)=>{(0,y.A)(a,({str:f,idx:v,tokenType:C})=>{d<v&&function Cs(o,t){if(_e(t)){const a=t.exec(o);return null!==a&&0===a.index}if((0,Xt.A)(t))return t(o,0,[],{});if((0,L.A)(t,"exec"))return t.exec(o,0,[],{});if("string"==typeof t)return t===o;throw Error("non exhaustive match")}(f,u.PATTERN)&&t.push({message:`Token: ->${C.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${u.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`,type:Ye.UNREACHABLE_PATTERN,tokenTypes:[u,C]})})}),t}(f)),a}($,C))}),(0,B.A)(this.lexerDefinitionErrors)){let X;jn($),this.TRACE_INIT("analyzeTokenTypes",()=>{X=function ms(o,t){const a=(t=(0,wt.A)(t,{useSticky:ar,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(ye,ie)=>ie()})).tracer;let u;a("initCharCodeToOptimizedIndexMap",()=>{!function Mr(){if((0,B.A)(lr)){lr=new Array(65536);for(let o=0;o<65536;o++)lr[o]=o>255?255+~~(o/255):o}}()}),a("Reject Lexer.NA",()=>{u=bn(o,ye=>ye[rn]===nt.NA)});let f,v,C,$,U,X,ee,pe,ge,Pe,$e,d=!1;a("Transform Patterns",()=>{d=!1,f=(0,k.A)(u,ye=>{const ie=ye[rn];if(_e(ie)){const Ne=ie.source;return 1!==Ne.length||"^"===Ne||"$"===Ne||"."===Ne||ie.ignoreCase?2!==Ne.length||"\\"!==Ne[0]||We(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],Ne[1])?t.useSticky?Or(ie):or(ie):Ne[1]:Ne}if((0,Xt.A)(ie))return d=!0,{exec:ie};if("object"==typeof ie)return d=!0,ie;if("string"==typeof ie){if(1===ie.length)return ie;{const Ne=ie.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),rt=new RegExp(Ne);return t.useSticky?Or(rt):or(rt)}}throw Error("non exhaustive match")})}),a("misc mapping",()=>{v=(0,k.A)(u,ye=>ye.tokenTypeIdx),C=(0,k.A)(u,ye=>{const ie=ye.GROUP;if(ie!==nt.SKIPPED){if((0,R.A)(ie))return ie;if((0,ct.A)(ie))return!1;throw Error("non exhaustive match")}}),$=(0,k.A)(u,ye=>{const ie=ye.LONGER_ALT;if(ie)return(0,Xe.A)(ie)?(0,k.A)(ie,rt=>Jn(u,rt)):[Jn(u,ie)]}),U=(0,k.A)(u,ye=>ye.PUSH_MODE),X=(0,k.A)(u,ye=>(0,L.A)(ye,"POP_MODE"))}),a("Line Terminator Handling",()=>{const ye=Pr(t.lineTerminatorCharacters);ee=(0,k.A)(u,ie=>!1),"onlyOffset"!==t.positionTracking&&(ee=(0,k.A)(u,ie=>(0,L.A)(ie,"LINE_BREAKS")?!!ie.LINE_BREAKS:!1===Lr(ie,ye)&&sr(ye,ie.PATTERN)))}),a("Misc Mapping #2",()=>{pe=(0,k.A)(u,$s),ge=(0,k.A)(f,Os),Pe=(0,yt.A)(u,(ye,ie)=>{const Ne=ie.GROUP;return(0,R.A)(Ne)&&Ne!==nt.SKIPPED&&(ye[Ne]=[]),ye},{}),$e=(0,k.A)(f,(ye,ie)=>({pattern:f[ie],longerAlt:$[ie],canLineTerminator:ee[ie],isCustom:pe[ie],short:ge[ie],group:C[ie],push:U[ie],pop:X[ie],tokenTypeIdx:v[ie],tokenType:u[ie]}))});let Ue=!0,xe=[];return t.safeMode||a("First Char Optimization",()=>{xe=(0,yt.A)(u,(ye,ie,Ne)=>{if("string"==typeof ie.PATTERN){const Ge=Wt(ie.PATTERN.charCodeAt(0));wr(ye,Ge,$e[Ne])}else if((0,Xe.A)(ie.START_CHARS_HINT)){let rt;(0,y.A)(ie.START_CHARS_HINT,Ge=>{const is=Wt("string"==typeof Ge?Ge.charCodeAt(0):Ge);rt!==is&&(rt=is,wr(ye,is,$e[Ne]))})}else if(_e(ie.PATTERN))if(ie.PATTERN.unicode)Ue=!1,t.ensureOptimizations&&Rn(`${Gn}\tUnable to analyze < ${ie.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const rt=Ci(ie.PATTERN,t.ensureOptimizations);(0,B.A)(rt)&&(Ue=!1),(0,y.A)(rt,Ge=>{wr(ye,Ge,$e[Ne])})}else t.ensureOptimizations&&Rn(`${Gn}\tTokenType: <${ie.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),Ue=!1;return ye},[])}),{emptyGroups:Pe,patternIdxToConfig:$e,charCodeToPatternIdxToConfig:xe,hasCustom:d,canBeOptimized:Ue}}($,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:u.positionTracking,ensureOptimizations:u.ensureOptimizations,safeMode:u.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[U]=X.patternIdxToConfig,this.charCodeToPatternIdxToConfig[U]=X.charCodeToPatternIdxToConfig,this.emptyGroups=de({},this.emptyGroups,X.emptyGroups),this.hasCustom=X.hasCustom||this.hasCustom,this.canModeBeOptimized[U]=X.canBeOptimized}})}),this.defaultMode=f.defaultMode,!(0,B.A)(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const U=(0,k.A)(this.lexerDefinitionErrors,X=>X.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+U)}(0,y.A)(this.lexerDefinitionWarning,$=>{Sr($.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(ar?(this.chopInput=ur.A,this.match=this.matchWithTest):(this.updateLastIndex=Je.A,this.match=this.matchWithExec),v&&(this.handleModes=Je.A),!1===this.trackStartLines&&(this.computeNewColumn=ur.A),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=Je.A),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const $=(0,yt.A)(this.canModeBeOptimized,(U,X,ee)=>(!1===X&&U.push(ee),U),[]);if(u.ensureOptimizations&&!(0,B.A)($))throw Error(`Lexer Modes: < ${$.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{!function xi(){_n={}}()}),this.TRACE_INIT("toFastProperties",()=>{W(this)})})}tokenize(a,u=this.defaultMode){if(!(0,B.A)(this.lexerDefinitionErrors)){const f=(0,k.A)(this.lexerDefinitionErrors,v=>v.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+f)}return this.tokenizeInternal(a,u)}tokenizeInternal(a,u){let d,f,v,C,$,U,X,ee,pe,ge,Pe,$e,Ue,ye,ie;const Ne=a,rt=Ne.length;let Ge=0,ss=0;const is=this.hasCustom?0:Math.floor(a.length/10),xr=new Array(is),da=[];let as=this.trackStartLines?1:void 0,Cn=this.trackStartLines?1:void 0;const os=function Ns(o){const t={},a=(0,F.A)(o);return(0,y.A)(a,u=>{if(!(0,Xe.A)(o[u]))throw Error("non exhaustive match");t[u]=[]}),t}(this.emptyGroups),Ba=this.trackStartLines,fa=this.config.lineTerminatorsPattern;let Ri=0,kn=[],ls=[];const _i=[],Ca=[];let us;function ka(){return kn}function Sa(gt){const Ft=Wt(gt),Cr=ls[Ft];return void 0===Cr?Ca:Cr}Object.freeze(Ca);const Wa=gt=>{if(1===_i.length&&void 0===gt.tokenType.PUSH_MODE){const Ft=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(gt);da.push({offset:gt.startOffset,line:gt.startLine,column:gt.startColumn,length:gt.image.length,message:Ft})}else{_i.pop();const Ft=(0,sn.A)(_i);kn=this.patternIdxToConfig[Ft],ls=this.charCodeToPatternIdxToConfig[Ft],Ri=kn.length,us=ls&&this.canModeBeOptimized[Ft]&&!1===this.config.safeMode?Sa:ka}};function Na(gt){_i.push(gt),ls=this.charCodeToPatternIdxToConfig[gt],kn=this.patternIdxToConfig[gt],Ri=kn.length,Ri=kn.length,us=ls&&this.canModeBeOptimized[gt]&&!1===this.config.safeMode?Sa:ka}let Kt;Na.call(this,u);const $a=this.config.recoveryEnabled;for(;Ge<rt;){U=null;const gt=Ne.charCodeAt(Ge),Ft=us(gt),Cr=Ft.length;for(d=0;d<Cr;d++){Kt=Ft[d];const Nt=Kt.pattern;X=null;const dn=Kt.short;if(!1!==dn?gt===dn&&(U=Nt):!0===Kt.isCustom?(ie=Nt.exec(Ne,Ge,xr,os),null!==ie?(U=ie[0],void 0!==ie.payload&&(X=ie.payload)):U=null):(this.updateLastIndex(Nt,Ge),U=this.match(Nt,a,Ge)),null!==U){if($=Kt.longerAlt,void 0!==$){const Sn=$.length;for(v=0;v<Sn;v++){const fn=kn[$[v]],Yn=fn.pattern;if(ee=null,!0===fn.isCustom?(ie=Yn.exec(Ne,Ge,xr,os),null!==ie?(C=ie[0],void 0!==ie.payload&&(ee=ie.payload)):C=null):(this.updateLastIndex(Yn,Ge),C=this.match(Yn,a,Ge)),C&&C.length>U.length){U=C,X=ee,Kt=fn;break}}}break}}if(null!==U){if(pe=U.length,ge=Kt.group,void 0!==ge&&(Pe=Kt.tokenTypeIdx,$e=this.createTokenInstance(U,Ge,Pe,Kt.tokenType,as,Cn,pe),this.handlePayload($e,X),!1===ge?ss=this.addToken(xr,ss,$e):os[ge].push($e)),a=this.chopInput(a,pe),Ge+=pe,Cn=this.computeNewColumn(Cn,pe),!0===Ba&&!0===Kt.canLineTerminator){let dn,Sn,Nt=0;fa.lastIndex=0;do{dn=fa.test(U),!0===dn&&(Sn=fa.lastIndex-1,Nt++)}while(!0===dn);0!==Nt&&(as+=Nt,Cn=pe-Sn,this.updateTokenEndLineColumnLocation($e,ge,Sn,Nt,as,Cn,pe))}this.handleModes(Kt,Wa,Na,$e)}else{const Nt=Ge,dn=as,Sn=Cn;let fn=!1===$a;for(;!1===fn&&Ge<rt;)for(a=this.chopInput(a,1),Ge++,f=0;f<Ri;f++){const Yn=kn[f],ha=Yn.pattern,Oa=Yn.short;if(!1!==Oa?Ne.charCodeAt(Ge)===Oa&&(fn=!0):!0===Yn.isCustom?fn=null!==ha.exec(Ne,Ge,xr,os):(this.updateLastIndex(ha,Ge),fn=null!==ha.exec(a)),!0===fn)break}if(Ue=Ge-Nt,Cn=this.computeNewColumn(Cn,Ue),ye=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(Ne,Nt,Ue,dn,Sn),da.push({offset:Nt,line:dn,column:Sn,length:Ue,message:ye}),!1===$a)break}}return this.hasCustom||(xr.length=ss),{tokens:xr,groups:os,errors:da}}handleModes(a,u,d,f){if(!0===a.pop){const v=a.push;u(f),void 0!==v&&d.call(this,v)}else void 0!==a.push&&d.call(this,a.push)}chopInput(a,u){return a.substring(u)}updateLastIndex(a,u){a.lastIndex=u}updateTokenEndLineColumnLocation(a,u,d,f,v,C,$){let U,X;void 0!==u&&(U=d===$-1,X=U?-1:0,1===f&&!0===U||(a.endLine=v+X,a.endColumn=C-1-X))}computeNewColumn(a,u){return a+u}createOffsetOnlyToken(a,u,d,f){return{image:a,startOffset:u,tokenTypeIdx:d,tokenType:f}}createStartOnlyToken(a,u,d,f,v,C){return{image:a,startOffset:u,startLine:v,startColumn:C,tokenTypeIdx:d,tokenType:f}}createFullToken(a,u,d,f,v,C,$){return{image:a,startOffset:u,endOffset:u+$-1,startLine:v,endLine:v,startColumn:C,endColumn:C+$-1,tokenTypeIdx:d,tokenType:f}}addTokenUsingPush(a,u,d){return a.push(d),u}addTokenUsingMemberAccess(a,u,d){return a[u]=d,++u}handlePayloadNoCustom(a,u){}handlePayloadWithCustom(a,u){null!==u&&(a.payload=u)}matchWithTest(a,u,d){return!0===a.test(u)?u.substring(d,a.lastIndex):null}matchWithExec(a,u){const d=a.exec(u);return null!==d?d[0]:null}}return o.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",o.NA=/NOT_APPLICABLE/,o})();function xn(o){return Ds(o)?o.LABEL:o.name}function Ds(o){return(0,R.A)(o.LABEL)&&""!==o.LABEL}const Ur="categories",Gr="push_mode",Fs="pop_mode",fr="longer_alt",Gs="line_breaks",Bs="start_chars_hint";function Ws(o){return function bi(o){const t=o.pattern,a={};if(a.name=o.name,(0,ct.A)(t)||(a.PATTERN=t),(0,L.A)(o,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return(0,L.A)(o,Ur)&&(a.CATEGORIES=o[Ur]),jn([a]),(0,L.A)(o,"label")&&(a.LABEL=o.label),(0,L.A)(o,"group")&&(a.GROUP=o.group),(0,L.A)(o,Fs)&&(a.POP_MODE=o[Fs]),(0,L.A)(o,Gr)&&(a.PUSH_MODE=o[Gr]),(0,L.A)(o,fr)&&(a.LONGER_ALT=o[fr]),(0,L.A)(o,Gs)&&(a.LINE_BREAKS=o[Gs]),(0,L.A)(o,Bs)&&(a.START_CHARS_HINT=o[Bs]),a}(o)}const Qt=Ws({name:"EOF",pattern:nt.NA});function Ie(o,t,a,u,d,f,v,C){return{image:t,startOffset:a,endOffset:u,startLine:d,endLine:f,startColumn:v,endColumn:C,tokenTypeIdx:o.tokenTypeIdx,tokenType:o}}function je(o,t){return an(o,t)}jn([Qt]);const Fe={buildMismatchTokenMessage:({expected:o,actual:t})=>`Expecting ${Ds(o)?`--\x3e ${xn(o)} <--`:`token of type --\x3e ${o.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:o})=>"Redundant input, expecting EOF but found: "+o.image,buildNoViableAltMessage({expectedPathsPerAlt:o,actual:t,customUserDescription:u}){const f="Expecting: ",C="\nbut found: '"+Et(t).image+"'";if(u)return f+u+C;{const $=(0,yt.A)(o,(pe,ge)=>pe.concat(ge),[]),U=(0,k.A)($,pe=>`[${(0,k.A)(pe,ge=>xn(ge)).join(", ")}]`);return f+`one of these possible Token sequences:\n${(0,k.A)(U,(pe,ge)=>`  ${ge+1}. ${pe}`).join("\n")}`+C}},buildEarlyExitMessage({expectedIterationPaths:o,actual:t,customUserDescription:a}){const d="Expecting: ",v="\nbut found: '"+Et(t).image+"'";return a?d+a+v:d+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${(0,k.A)(o,U=>`[${(0,k.A)(U,X=>xn(X)).join(",")}]`).join(" ,")}>`+v}};Object.freeze(Fe);const Di={buildRuleNotFoundError:(o,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+o.name+"<-"},bt={buildDuplicateFoundError(o,t){const u=o.name,d=Et(t),f=d.idx,v=it(d),C=function a(X){return X instanceof Oe?X.terminalType.name:X instanceof De?X.nonTerminalName:""}(d);let U=`->${v}${f>0?f:""}<- ${C?`with argument: ->${C}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${u}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return U=U.replace(/[ \t]+/g," "),U=U.replace(/\s\s+/g,"\n"),U},buildNamespaceConflictError:o=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${o.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(o){const t=(0,k.A)(o.prefixPath,d=>xn(d)).join(", "),a=0===o.alternation.idx?"":o.alternation.idx;return`Ambiguous alternatives: <${o.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${a}> inside <${o.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(o){const t=(0,k.A)(o.prefixPath,d=>xn(d)).join(", "),a=0===o.alternation.idx?"":o.alternation.idx;let u=`Ambiguous Alternatives Detected: <${o.ambiguityIndices.join(" ,")}> in <OR${a}> inside <${o.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return u+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",u},buildEmptyRepetitionError(o){let t=it(o.repetition);return 0!==o.repetition.idx&&(t+=o.repetition.idx),`The repetition <${t}> within Rule <${o.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:o=>"deprecated",buildEmptyAlternationError:o=>`Ambiguous empty alternative: <${o.emptyChoiceIdx+1}> in <OR${o.alternation.idx}> inside <${o.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:o=>`An Alternation cannot have more than 256 alternatives:\n<OR${o.alternation.idx}> inside <${o.topLevelRule.name}> Rule.\n has ${o.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(o){const t=o.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${t} --\x3e ${(0,k.A)(o.leftRecursionPath,f=>f.name).concat([t]).join(" --\x3e ")}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:o=>"deprecated",buildDuplicateRuleNameError(o){let t;return t=o.topLevelRule instanceof Qe?o.topLevelRule.name:o.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${o.grammarName}<-`}};class Ui extends ht{constructor(t,a){super(),this.nameToTopRule=t,this.errMsgProvider=a,this.errors=[]}resolveRefs(){(0,y.A)((0,P.A)(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const a=this.nameToTopRule[t.nonTerminalName];if(a)t.referencedRule=a;else{const u=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:u,type:Rt.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}var kt=g(9150),hr=g(1827);const At=function pr(o,t,a,u){for(var d=-1,f=null==o?0:o.length;++d<f;){var v=o[d];t(u,v,a(v),o)}return u},Wr=function Br(o,t,a,u){return(0,_t.A)(o,function(d,f,v){t(u,d,a(d),v)}),u};var js=Object.prototype.hasOwnProperty;const Hs=function Hn(o,t){return function(a,u){var d=(0,Xe.A)(a)?At:Wr,f=t?t():{};return d(a,o,(0,ne.A)(u,2),f)}}(function(o,t,a){js.call(o,a)?o[a].push(t):(0,hr.A)(o,a,[t])}),pt=function Fi(o,t,a){var u=null==o?0:o.length;return u?(t=a||void 0===t?1:(0,T.A)(t),E(o,0,(t=u-t)<0?0:t)):[]};class He extends Ht{constructor(t,a){super(),this.topProd=t,this.path=a,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,b.A)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,b.A)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,a=[]){this.found||super.walk(t,a)}walkProdRef(t,a,u){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const d=a.concat(u);this.updateExpectedNext(),this.walk(t.referencedRule,d)}}updateExpectedNext(){(0,B.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class Gi extends He{constructor(t,a){super(t,a),this.path=a,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,a,u){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const d=a.concat(u),f=new I({definition:d});this.possibleTokTypes=Le(f),this.found=!0}}}class mr extends Ht{constructor(t,a){super(),this.topRule=t,this.occurrence=a,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Vr extends mr{walkMany(t,a,u){if(t.idx===this.occurrence){const d=Et(a.concat(u));this.result.isEndOfRule=void 0===d,d instanceof Oe&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkMany(t,a,u)}}class zs extends mr{walkManySep(t,a,u){if(t.idx===this.occurrence){const d=Et(a.concat(u));this.result.isEndOfRule=void 0===d,d instanceof Oe&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkManySep(t,a,u)}}class Bi extends mr{walkAtLeastOne(t,a,u){if(t.idx===this.occurrence){const d=Et(a.concat(u));this.result.isEndOfRule=void 0===d,d instanceof Oe&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkAtLeastOne(t,a,u)}}class Xs extends mr{walkAtLeastOneSep(t,a,u){if(t.idx===this.occurrence){const d=Et(a.concat(u));this.result.isEndOfRule=void 0===d,d instanceof Oe&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkAtLeastOneSep(t,a,u)}}function Dt(o,t,a=[]){a=(0,b.A)(a);let u=[],d=0;function v(C){const $=Dt(function f(C){return C.concat(p(o,d+1))}(C),t,a);return u.concat($)}for(;a.length<t&&d<o.length;){const C=o[d];if(C instanceof I)return v(C.definition);if(C instanceof De)return v(C.definition);if(C instanceof G)u=v(C.definition);else{if(C instanceof z)return v(C.definition.concat([new oe({definition:C.definition})]));if(C instanceof me)return v([new I({definition:C.definition}),new oe({definition:[new Oe({terminalType:C.separator})].concat(C.definition)})]);if(C instanceof Re){const $=C.definition.concat([new oe({definition:[new Oe({terminalType:C.separator})].concat(C.definition)})]);u=v($)}else if(C instanceof oe){const $=C.definition.concat([new oe({definition:C.definition})]);u=v($)}else{if(C instanceof Se)return(0,y.A)(C.definition,$=>{!1===(0,B.A)($.definition)&&(u=v($.definition))}),u;if(!(C instanceof Oe))throw Error("non exhaustive match");a.push(C.terminalType)}}d++}return u.push({partialPath:a,suffixDef:p(o,d)}),u}function Ys(o,t,a,u){const d="EXIT_NONE_TERMINAL",f=[d],v="EXIT_ALTERNATIVE";let C=!1;const $=t.length,U=$-u-1,X=[],ee=[];for(ee.push({idx:-1,def:o,ruleStack:[],occurrenceStack:[]});!(0,B.A)(ee);){const pe=ee.pop();if(pe===v){C&&(0,sn.A)(ee).idx<=U&&ee.pop();continue}const ge=pe.def,Pe=pe.idx,$e=pe.ruleStack,Ue=pe.occurrenceStack;if((0,B.A)(ge))continue;const xe=ge[0];if(xe===d){const ye={idx:Pe,def:p(ge),ruleStack:pt($e),occurrenceStack:pt(Ue)};ee.push(ye)}else if(xe instanceof Oe)if(Pe<$-1){const ye=Pe+1;if(a(t[ye],xe.terminalType)){const Ne={idx:ye,def:p(ge),ruleStack:$e,occurrenceStack:Ue};ee.push(Ne)}}else{if(Pe!==$-1)throw Error("non exhaustive match");X.push({nextTokenType:xe.terminalType,nextTokenOccurrence:xe.idx,ruleStack:$e,occurrenceStack:Ue}),C=!0}else if(xe instanceof De){const ye=(0,b.A)($e);ye.push(xe.nonTerminalName);const ie=(0,b.A)(Ue);ie.push(xe.idx);const Ne={idx:Pe,def:xe.definition.concat(f,p(ge)),ruleStack:ye,occurrenceStack:ie};ee.push(Ne)}else if(xe instanceof G){const ye={idx:Pe,def:p(ge),ruleStack:$e,occurrenceStack:Ue};ee.push(ye),ee.push(v);const ie={idx:Pe,def:xe.definition.concat(p(ge)),ruleStack:$e,occurrenceStack:Ue};ee.push(ie)}else if(xe instanceof z){const ye=new oe({definition:xe.definition,idx:xe.idx}),ie=xe.definition.concat([ye],p(ge));ee.push({idx:Pe,def:ie,ruleStack:$e,occurrenceStack:Ue})}else if(xe instanceof me){const ye=new Oe({terminalType:xe.separator}),ie=new oe({definition:[ye].concat(xe.definition),idx:xe.idx}),Ne=xe.definition.concat([ie],p(ge));ee.push({idx:Pe,def:Ne,ruleStack:$e,occurrenceStack:Ue})}else if(xe instanceof Re){const ye={idx:Pe,def:p(ge),ruleStack:$e,occurrenceStack:Ue};ee.push(ye),ee.push(v);const ie=new Oe({terminalType:xe.separator}),Ne=new oe({definition:[ie].concat(xe.definition),idx:xe.idx}),rt=xe.definition.concat([Ne],p(ge));ee.push({idx:Pe,def:rt,ruleStack:$e,occurrenceStack:Ue})}else if(xe instanceof oe){const ye={idx:Pe,def:p(ge),ruleStack:$e,occurrenceStack:Ue};ee.push(ye),ee.push(v);const ie=new oe({definition:xe.definition,idx:xe.idx}),Ne=xe.definition.concat([ie],p(ge));ee.push({idx:Pe,def:Ne,ruleStack:$e,occurrenceStack:Ue})}else if(xe instanceof Se)for(let ye=xe.definition.length-1;ye>=0;ye--){const Ne={idx:Pe,def:xe.definition[ye].definition.concat(p(ge)),ruleStack:$e,occurrenceStack:Ue};ee.push(Ne),ee.push(v)}else if(xe instanceof I)ee.push({idx:Pe,def:xe.definition.concat(p(ge)),ruleStack:$e,occurrenceStack:Ue});else{if(!(xe instanceof Qe))throw Error("non exhaustive match");ee.push(gr(xe,Pe,$e,Ue))}}return X}function gr(o,t,a,u){const d=(0,b.A)(a);d.push(o.name);const f=(0,b.A)(u);return f.push(1),{idx:t,def:o.definition,ruleStack:d,occurrenceStack:f}}var ze=function(o){return o[o.OPTION=0]="OPTION",o[o.REPETITION=1]="REPETITION",o[o.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",o[o.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",o[o.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",o[o.ALTERNATION=5]="ALTERNATION",o}(ze||{});function Hr(o){if(o instanceof G||"Option"===o)return ze.OPTION;if(o instanceof oe||"Repetition"===o)return ze.REPETITION;if(o instanceof z||"RepetitionMandatory"===o)return ze.REPETITION_MANDATORY;if(o instanceof me||"RepetitionMandatoryWithSeparator"===o)return ze.REPETITION_MANDATORY_WITH_SEPARATOR;if(o instanceof Re||"RepetitionWithSeparator"===o)return ze.REPETITION_WITH_SEPARATOR;if(o instanceof Se||"Alternation"===o)return ze.ALTERNATION;throw Error("non exhaustive match")}function Qs(o){const{occurrence:t,rule:a,prodType:u,maxLookahead:d}=o,f=Hr(u);return f===ze.ALTERNATION?yr(t,a,d):Ar(t,a,f,d)}function Js(o,t,a,u){const d=o.length,f=et(o,v=>et(v,C=>1===C.length));if(t)return function(v){const C=(0,k.A)(v,$=>$.GATE);for(let $=0;$<d;$++){const U=o[$],X=U.length,ee=C[$];if(void 0===ee||!1!==ee.call(this))e:for(let pe=0;pe<X;pe++){const ge=U[pe],Pe=ge.length;for(let $e=0;$e<Pe;$e++){const Ue=this.LA($e+1);if(!1===a(Ue,ge[$e]))continue e}return $}}};if(f&&!u){const v=(0,k.A)(o,$=>(0,ce.A)($)),C=(0,yt.A)(v,($,U,X)=>((0,y.A)(U,ee=>{(0,L.A)($,ee.tokenTypeIdx)||($[ee.tokenTypeIdx]=X),(0,y.A)(ee.categoryMatches,pe=>{(0,L.A)($,pe)||($[pe]=X)})}),$),{});return function(){const $=this.LA(1);return C[$.tokenTypeIdx]}}return function(){for(let v=0;v<d;v++){const C=o[v],$=C.length;e:for(let U=0;U<$;U++){const X=C[U],ee=X.length;for(let pe=0;pe<ee;pe++){const ge=this.LA(pe+1);if(!1===a(ge,X[pe]))continue e}return v}}}}function Ki(o,t,a){const u=et(o,f=>1===f.length),d=o.length;if(u&&!a){const f=(0,ce.A)(o);if(1===f.length&&(0,B.A)(f[0].categoryMatches)){const C=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===C}}{const v=(0,yt.A)(f,(C,$,U)=>(C[$.tokenTypeIdx]=!0,(0,y.A)($.categoryMatches,X=>{C[X]=!0}),C),[]);return function(){const C=this.LA(1);return!0===v[C.tokenTypeIdx]}}}return function(){e:for(let f=0;f<d;f++){const v=o[f],C=v.length;for(let $=0;$<C;$++){const U=this.LA($+1);if(!1===t(U,v[$]))continue e}return!0}return!1}}class Zs extends Ht{constructor(t,a,u){super(),this.topProd=t,this.targetOccurrence=a,this.targetProdType=u}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,a,u,d){return t.idx===this.targetOccurrence&&this.targetProdType===a&&(this.restDef=u.concat(d),!0)}walkOption(t,a,u){this.checkIsTarget(t,ze.OPTION,a,u)||super.walkOption(t,a,u)}walkAtLeastOne(t,a,u){this.checkIsTarget(t,ze.REPETITION_MANDATORY,a,u)||super.walkOption(t,a,u)}walkAtLeastOneSep(t,a,u){this.checkIsTarget(t,ze.REPETITION_MANDATORY_WITH_SEPARATOR,a,u)||super.walkOption(t,a,u)}walkMany(t,a,u){this.checkIsTarget(t,ze.REPETITION,a,u)||super.walkOption(t,a,u)}walkManySep(t,a,u){this.checkIsTarget(t,ze.REPETITION_WITH_SEPARATOR,a,u)||super.walkOption(t,a,u)}}class ji extends ht{constructor(t,a,u){super(),this.targetOccurrence=t,this.targetProdType=a,this.targetRef=u,this.result=[]}checkIsTarget(t,a){t.idx===this.targetOccurrence&&this.targetProdType===a&&(void 0===this.targetRef||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,ze.OPTION)}visitRepetition(t){this.checkIsTarget(t,ze.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,ze.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,ze.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,ze.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,ze.ALTERNATION)}}function qs(o){const t=new Array(o);for(let a=0;a<o;a++)t[a]=[];return t}function zr(o){let t=[""];for(let a=0;a<o.length;a++){const u=o[a],d=[];for(let f=0;f<t.length;f++){const v=t[f];d.push(v+"_"+u.tokenTypeIdx);for(let C=0;C<u.categoryMatches.length;C++)d.push(v+"_"+u.categoryMatches[C])}t=d}return t}function Vi(o,t,a){for(let u=0;u<o.length;u++){if(u===a)continue;const d=o[u];for(let f=0;f<t.length;f++)if(!0===d[t[f]])return!1}return!0}function Xr(o,t){const a=(0,k.A)(o,v=>Dt([v],1)),u=qs(a.length),d=(0,k.A)(a,v=>{const C={};return(0,y.A)(v,$=>{const U=zr($.partialPath);(0,y.A)(U,X=>{C[X]=!0})}),C});let f=a;for(let v=1;v<=t;v++){const C=f;f=qs(C.length);for(let $=0;$<C.length;$++){const U=C[$];for(let X=0;X<U.length;X++){const ee=U[X].partialPath,pe=U[X].suffixDef,ge=zr(ee);if(Vi(d,ge,$)||(0,B.A)(pe)||ee.length===t){const $e=u[$];if(!1===un($e,ee)){$e.push(ee);for(let Ue=0;Ue<ge.length;Ue++)d[$][ge[Ue]]=!0}}else{const $e=Dt(pe,v+1,ee);f[$]=f[$].concat($e),(0,y.A)($e,Ue=>{const xe=zr(Ue.partialPath);(0,y.A)(xe,ye=>{d[$][ye]=!0})})}}}}return u}function yr(o,t,a,u){const d=new ji(o,ze.ALTERNATION,u);return t.accept(d),Xr(d.result,a)}function Ar(o,t,a,u){const d=new ji(o,a);t.accept(d);const f=d.result,C=new Zs(t,o,a).startWalking();return Xr([new I({definition:f}),new I({definition:C})],u)}function un(o,t){e:for(let a=0;a<o.length;a++){const u=o[a];if(u.length===t.length){for(let d=0;d<u.length;d++){const f=t[d],v=u[d];if(0==(f===v||void 0!==v.categoryMatchesMap[f.tokenTypeIdx]))continue e}return!0}}return!1}function ei(o){return et(o,t=>et(t,a=>et(a,u=>(0,B.A)(u.categoryMatches))))}function Xi(o){return`${it(o)}_#_${o.idx}_#_${St(o)}`}function St(o){return o instanceof Oe?o.terminalType.name:o instanceof De?o.nonTerminalName:""}class Yi extends ht{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function ti(o,t,a,u=[]){const d=[],f=Tr(t.definition);if((0,B.A)(f))return[];{const v=o.name;We(f,o)&&d.push({message:a.buildLeftRecursionError({topLevelRule:o,leftRecursionPath:u}),type:Rt.LEFT_RECURSION,ruleName:v});const $=vn(f,u.concat([o])),U=(0,kt.A)($,X=>{const ee=(0,b.A)(u);return ee.push(X),ti(o,X,a,ee)});return d.concat(U)}}function Tr(o){let t=[];if((0,B.A)(o))return t;const a=Et(o);if(a instanceof De)t.push(a.referencedRule);else if(a instanceof I||a instanceof G||a instanceof z||a instanceof me||a instanceof Re||a instanceof oe)t=t.concat(Tr(a.definition));else if(a instanceof Se)t=(0,ce.A)((0,k.A)(a.definition,f=>Tr(f.definition)));else if(!(a instanceof Oe))throw Error("non exhaustive match");if(Tt(a)&&o.length>1){const f=p(o);return t.concat(Tr(f))}return t}class cn extends ht{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}class ea extends ht{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}const si="MismatchedTokenException",Jr="NoViableAltException",Zr="EarlyExitException",ii="NotAllInputParsedException",ai=[si,Jr,Zr,ii];function vr(o){return We(ai,o.name)}Object.freeze(ai);class Er extends Error{constructor(t,a){super(t),this.token=a,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class oi extends Er{constructor(t,a,u){super(t,a),this.previousToken=u,this.name=si}}class qr extends Er{constructor(t,a,u){super(t,a),this.previousToken=u,this.name=Jr}}class aa extends Er{constructor(t,a){super(t,a),this.name=ii}}class oa extends Er{constructor(t,a,u){super(t,a),this.previousToken=u,this.name=Zr}}const es={},li="InRuleRecoveryException";class ui extends Error{constructor(t){super(t),this.name=li}}function ci(o,t,a,u,d,f,v){const C=this.getKeyForAutomaticLookahead(u,d);let $=this.firstAfterRepMap[C];if(void 0===$){const pe=this.getCurrRuleFullName();$=new f(this.getGAstProductions()[pe],d).startWalking(),this.firstAfterRepMap[C]=$}let U=$.token,X=$.occurrence;1===this.RULE_STACK.length&&$.isEndOfRule&&void 0===U&&(U=Qt,X=1),void 0!==U&&void 0!==X&&this.shouldInRepetitionRecoveryBeTried(U,X,v)&&this.tryInRepetitionRecovery(o,t,a,U)}function ns(o,t,a){return a|t|o}class mi{constructor(t){var a;this.maxLookahead=null!==(a=t?.maxLookahead)&&void 0!==a?a:Jt.maxLookahead}validate(t){const a=this.validateNoLeftRecursion(t.rules);if((0,B.A)(a)){const u=this.validateEmptyOrAlternatives(t.rules),d=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),f=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...a,...u,...d,...f]}return a}validateNoLeftRecursion(t){return(0,kt.A)(t,a=>ti(a,a,bt))}validateEmptyOrAlternatives(t){return(0,kt.A)(t,a=>function Zi(o,t){const a=new cn;return o.accept(a),(0,kt.A)(a.alternations,f=>{const v=pt(f.definition);return(0,kt.A)(v,(C,$)=>{const U=Ys([C],[],an,1);return(0,B.A)(U)?[{message:t.buildEmptyAlternationError({topLevelRule:o,alternation:f,emptyChoiceIdx:$}),type:Rt.NONE_LAST_EMPTY_ALT,ruleName:o.name,occurrence:f.idx,alternative:$+1}]:[]})})}(a,bt))}validateAmbiguousAlternationAlternatives(t,a){return(0,kt.A)(t,u=>function qi(o,t,a){const u=new cn;o.accept(u);let d=u.alternations;return d=bn(d,v=>!0===v.ignoreAmbiguities),(0,kt.A)(d,v=>{const U=yr(v.idx,o,v.maxLookahead||t,v),X=function ra(o,t,a,u){const d=[],f=(0,yt.A)(o,(C,$,U)=>(!0===t.definition[U].ignoreAmbiguities||(0,y.A)($,X=>{const ee=[U];(0,y.A)(o,(pe,ge)=>{U!==ge&&un(pe,X)&&!0!==t.definition[ge].ignoreAmbiguities&&ee.push(ge)}),ee.length>1&&!un(d,X)&&(d.push(X),C.push({alts:ee,path:X}))}),C),[]);return(0,k.A)(f,C=>{const $=(0,k.A)(C.alts,X=>X+1);return{message:u.buildAlternationAmbiguityError({topLevelRule:a,alternation:t,ambiguityIndices:$,prefixPath:C.path}),type:Rt.AMBIGUOUS_ALTS,ruleName:a.name,occurrence:t.idx,alternatives:C.alts}})}(U,v,o,a),ee=function sa(o,t,a,u){const d=(0,yt.A)(o,(v,C,$)=>{const U=(0,k.A)(C,X=>({idx:$,path:X}));return v.concat(U)},[]);return En((0,kt.A)(d,v=>{if(!0===t.definition[v.idx].ignoreAmbiguities)return[];const $=v.idx,U=v.path,X=(0,vt.A)(d,pe=>!0!==t.definition[pe.idx].ignoreAmbiguities&&pe.idx<$&&function Yr(o,t){return o.length<t.length&&et(o,(a,u)=>{const d=t[u];return a===d||d.categoryMatchesMap[a.tokenTypeIdx]})}(pe.path,U));return(0,k.A)(X,pe=>{const ge=[pe.idx+1,$+1],Pe=0===t.idx?"":t.idx;return{message:u.buildAlternationPrefixAmbiguityError({topLevelRule:a,alternation:t,ambiguityIndices:ge,prefixPath:pe.path}),type:Rt.AMBIGUOUS_PREFIX_ALTS,ruleName:a.name,occurrence:Pe,alternatives:ge}})}))}(U,v,o,a);return X.concat(ee)})}(u,a,bt))}validateSomeNonEmptyLookaheadPath(t,a){return function na(o,t,a){const u=[];return(0,y.A)(o,d=>{const f=new ea;d.accept(f),(0,y.A)(f.allProductions,C=>{const $=Hr(C),pe=Ar(C.idx,d,$,C.maxLookahead||t)[0];if((0,B.A)((0,ce.A)(pe))){const ge=a.buildEmptyRepetitionError({topLevelRule:d,repetition:C});u.push({message:ge,type:Rt.NO_NON_EMPTY_LOOKAHEAD,ruleName:d.name})}})}),u}(t,a,bt)}buildLookaheadForAlternation(t){return function Wi(o,t,a,u,d,f){const v=yr(o,t,a);return f(v,u,ei(v)?Kn:an,d)}(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,Js)}buildLookaheadForOptional(t){return function ya(o,t,a,u,d,f){const v=Ar(o,t,d,a),C=ei(v)?Kn:an;return f(v[0],C,u)}(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,Hr(t.prodType),Ki)}}const Ir=new class va extends ht{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}};function gi(o,t){!0===isNaN(o.startOffset)?(o.startOffset=t.startOffset,o.endOffset=t.endOffset):o.endOffset<t.endOffset&&(o.endOffset=t.endOffset)}function yi(o,t){!0===isNaN(o.startOffset)?(o.startOffset=t.startOffset,o.startColumn=t.startColumn,o.startLine=t.startLine,o.endOffset=t.endOffset,o.endColumn=t.endColumn,o.endLine=t.endLine):o.endOffset<t.endOffset&&(o.endOffset=t.endOffset,o.endColumn=t.endColumn,o.endLine=t.endLine)}function r(o,t){Object.defineProperty(o,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function s(o,t){const a=(0,F.A)(o),u=a.length;for(let d=0;d<u;d++){const v=o[a[d]],C=v.length;for(let $=0;$<C;$++){const U=v[$];void 0===U.tokenTypeIdx&&this[U.name](U.children,t)}}}var h=function(o){return o[o.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",o[o.MISSING_METHOD=1]="MISSING_METHOD",o}(h||{}),Z=g(554);const mt={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(mt);const Ra=Math.pow(2,8)-1,_a=Ws({name:"RECORDING_PHASE_TOKEN",pattern:nt.NA});jn([_a]);const Ia=Ie(_a,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Ia);const La={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function rs(o,t,a,u=!1){Ai(a);const d=(0,sn.A)(this.recordingProdStack),f=(0,Xt.A)(t)?t:t.DEF,v=new o({definition:[],idx:a});return u&&(v.separator=t.SEP),(0,L.A)(t,"MAX_LOOKAHEAD")&&(v.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(v),f.call(this),d.definition.push(v),this.recordingProdStack.pop(),mt}function wa(o,t){Ai(t);const a=(0,sn.A)(this.recordingProdStack),u=!1===(0,Xe.A)(o),d=!1===u?o:o.DEF,f=new Se({definition:[],idx:t,ignoreAmbiguities:u&&!0===o.IGNORE_AMBIGUITIES});(0,L.A)(o,"MAX_LOOKAHEAD")&&(f.maxLookahead=o.MAX_LOOKAHEAD);const v=Lt(d,C=>(0,Xt.A)(C.GATE));return f.hasPredicates=v,a.definition.push(f),(0,y.A)(d,C=>{const $=new I({definition:[]});f.definition.push($),(0,L.A)(C,"IGNORE_AMBIGUITIES")?$.ignoreAmbiguities=C.IGNORE_AMBIGUITIES:(0,L.A)(C,"GATE")&&($.ignoreAmbiguities=!0),this.recordingProdStack.push($),C.ALT.call(this),this.recordingProdStack.pop()}),mt}function xa(o){return 0===o?"":`${o}`}function Ai(o){if(o<0||o>Ra){const t=new Error(`Invalid DSL Method idx value: <${o}>\n\tIdx value must be a none negative value smaller than ${Ra+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const Ti=Ie(Qt,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Ti);const Jt=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Fe,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),vi=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Rt=function(o){return o[o.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",o[o.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",o[o.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",o[o.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",o[o.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",o[o.LEFT_RECURSION=5]="LEFT_RECURSION",o[o.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",o[o.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",o[o.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",o[o.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",o[o.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",o[o.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",o[o.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",o[o.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION",o}(Rt||{});function Da(o=void 0){return function(){return o}}let ca=(()=>{class o{static performSelfAnalysis(a){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let a;this.selfAnalysisDone=!0;const u=this.className;this.TRACE_INIT("toFastProps",()=>{W(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),(0,y.A)(this.definedRulesNames,f=>{const C=this[f].originalGrammarAction;let $;this.TRACE_INIT(`${f} Rule`,()=>{$=this.topLevelRuleRecord(f,C)}),this.gastProductionsCache[f]=$})}finally{this.disableRecording()}});let d=[];if(this.TRACE_INIT("Grammar Resolving",()=>{d=function ri(o){const t=(0,wt.A)(o,{errMsgProvider:Di}),a={};return(0,y.A)(o.rules,u=>{a[u.name]=u}),function Ks(o,t){const a=new Ui(o,t);return a.resolveRefs(),a.errors}(a,t.errMsgProvider)}({rules:(0,P.A)(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(d)}),this.TRACE_INIT("Grammar Validations",()=>{if((0,B.A)(d)&&!1===this.skipValidations){const f=function ia(o){return function zi(o,t,a,u){const d=(0,kt.A)(o,$=>function Qr(o,t){const a=new Yi;o.accept(a);const d=Hs(a.allProductions,Xi),f=ve(d,C=>C.length>1);return(0,k.A)((0,P.A)(f),C=>{const $=Et(C),U=t.buildDuplicateFoundError(o,C),X=it($),ee={message:U,type:Rt.DUPLICATE_PRODUCTIONS,ruleName:o.name,dslName:X,occurrence:$.idx},pe=St($);return pe&&(ee.parameter=pe),ee})}($,a)),f=function ni(o,t,a){const u=[],d=(0,k.A)(t,f=>f.name);return(0,y.A)(o,f=>{const v=f.name;if(We(d,v)){const C=a.buildNamespaceConflictError(f);u.push({message:C,type:Rt.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:v})}}),u}(o,t,a),v=(0,kt.A)(o,$=>function ta(o,t){const a=new cn;return o.accept(a),(0,kt.A)(a.alternations,f=>f.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:o,alternation:f}),type:Rt.TOO_MANY_ALTS,ruleName:o.name,occurrence:f.idx}]:[])}($,a)),C=(0,kt.A)(o,$=>function Qi(o,t,a,u){const d=[];if((0,yt.A)(t,(v,C)=>C.name===o.name?v+1:v,0)>1){const v=u.buildDuplicateRuleNameError({topLevelRule:o,grammarName:a});d.push({message:v,type:Rt.DUPLICATE_RULE_NAME,ruleName:o.name})}return d}($,o,u,a));return d.concat(f,v,C)}((o=(0,wt.A)(o,{errMsgProvider:bt})).rules,o.tokenTypes,o.errMsgProvider,o.grammarName)}({rules:(0,P.A)(this.gastProductionsCache),tokenTypes:(0,P.A)(this.tokensMap),errMsgProvider:bt,grammarName:u}),v=function Hi(o){const t=o.lookaheadStrategy.validate({rules:o.rules,tokenTypes:o.tokenTypes,grammarName:o.grammarName});return(0,k.A)(t,a=>Object.assign({type:Rt.CUSTOM_LOOKAHEAD_VALIDATION},a))}({lookaheadStrategy:this.lookaheadStrategy,rules:(0,P.A)(this.gastProductionsCache),tokenTypes:(0,P.A)(this.tokensMap),grammarName:u});this.definitionErrors=this.definitionErrors.concat(f,v)}}),(0,B.A)(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const f=function kr(o){const t={};return(0,y.A)(o,a=>{const u=new en(a).startWalking();de(t,u)}),t}((0,P.A)(this.gastProductionsCache));this.resyncFollows=f}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var f,v;null===(v=(f=this.lookaheadStrategy).initialize)||void 0===v||v.call(f,{rules:(0,P.A)(this.gastProductionsCache)}),this.preComputeLookaheadFunctions((0,P.A)(this.gastProductionsCache))})),!o.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,B.A)(this.definitionErrors))throw a=(0,k.A)(this.definitionErrors,f=>f.message),new Error(`Parser Definition Errors detected:\n ${a.join("\n-------------------------------\n")}`)})}constructor(a,u){this.definitionErrors=[],this.selfAnalysisDone=!1;const d=this;if(d.initErrorHandler(u),d.initLexerAdapter(),d.initLooksAhead(u),d.initRecognizerEngine(a,u),d.initRecoverable(u),d.initTreeBuilder(u),d.initContentAssist(),d.initGastRecorder(u),d.initPerformanceTracer(u),(0,L.A)(u,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,L.A)(u,"skipValidations")?u.skipValidations:Jt.skipValidations}}return o.DEFER_DEFINITION_ERRORS_HANDLING=!1,o})();!function ba(o,t){t.forEach(a=>{const u=a.prototype;Object.getOwnPropertyNames(u).forEach(d=>{if("constructor"===d)return;const f=Object.getOwnPropertyDescriptor(u,d);f&&(f.get||f.set)?Object.defineProperty(o.prototype,d,f):o.prototype[d]=a.prototype[d]})})}(ca,[class la{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,L.A)(t,"recoveryEnabled")?t.recoveryEnabled:Jt.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=ci)}getTokenToInsert(t){const a=Ie(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return a.isInsertedInRecovery=!0,a}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,a,u,d){const f=this.findReSyncTokenType(),v=this.exportLexerState(),C=[];let $=!1;const U=this.LA(1);let X=this.LA(1);const ee=()=>{const pe=this.LA(0),ge=this.errorMessageProvider.buildMismatchTokenMessage({expected:d,actual:U,previous:pe,ruleName:this.getCurrRuleFullName()}),Pe=new oi(ge,U,this.LA(0));Pe.resyncedTokens=pt(C),this.SAVE_ERROR(Pe)};for(;!$;){if(this.tokenMatcher(X,d))return void ee();if(u.call(this))return ee(),void t.apply(this,a);this.tokenMatcher(X,f)?$=!0:(X=this.SKIP_TOKEN(),this.addToResyncTokens(X,C))}this.importLexerState(v)}shouldInRepetitionRecoveryBeTried(t,a,u){return!(!1===u||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,a)))}getFollowsForInRuleRecovery(t,a){const u=this.getCurrentGrammarPath(t,a);return this.getNextPossibleTokenTypes(u)}tryInRuleRecovery(t,a){if(this.canRecoverWithSingleTokenInsertion(t,a))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const u=this.SKIP_TOKEN();return this.consumeToken(),u}throw new ui("sad sad panda")}canPerformInRuleRecovery(t,a){return this.canRecoverWithSingleTokenInsertion(t,a)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,a){if(!this.canTokenTypeBeInsertedInRecovery(t)||(0,B.A)(a))return!1;const u=this.LA(1);return void 0!==(0,nn.A)(a,f=>this.tokenMatcher(u,f))}canRecoverWithSingleTokenDeletion(t){return!!this.canTokenTypeBeDeletedInRecovery(t)&&this.tokenMatcher(this.LA(2),t)}isInCurrentRuleReSyncSet(t){const a=this.getCurrFollowKey(),u=this.getFollowSetFromFollowKey(a);return We(u,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let a=this.LA(1),u=2;for(;;){const d=(0,nn.A)(t,f=>je(a,f));if(void 0!==d)return d;a=this.LA(u),u++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return es;const t=this.getLastExplicitRuleShortName(),a=this.getLastExplicitRuleOccurrenceIndex(),u=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:a,inRule:this.shortRuleNameToFullName(u)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,a=this.RULE_OCCURRENCE_STACK;return(0,k.A)(t,(u,d)=>0===d?es:{ruleName:this.shortRuleNameToFullName(u),idxInCallingRule:a[d],inRule:this.shortRuleNameToFullName(t[d-1])})}flattenFollowSet(){const t=(0,k.A)(this.buildFullFollowKeyStack(),a=>this.getFollowSetFromFollowKey(a));return(0,ce.A)(t)}getFollowSetFromFollowKey(t){return t===es?[Qt]:this.resyncFollows[t.ruleName+t.idxInCallingRule+"_~IN~_"+t.inRule]}addToResyncTokens(t,a){return this.tokenMatcher(t,Qt)||a.push(t),a}reSyncTo(t){const a=[];let u=this.LA(1);for(;!1===this.tokenMatcher(u,t);)u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a);return pt(a)}attemptInRepetitionRecovery(t,a,u,d,f,v,C){}getCurrentGrammarPath(t,a){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,b.A)(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:a}}getHumanReadableRuleStack(){return(0,k.A)(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}},class Ta{initLooksAhead(t){this.dynamicTokensEnabled=(0,L.A)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:Jt.dynamicTokensEnabled,this.maxLookahead=(0,L.A)(t,"maxLookahead")?t.maxLookahead:Jt.maxLookahead,this.lookaheadStrategy=(0,L.A)(t,"lookaheadStrategy")?t.lookaheadStrategy:new mi({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){(0,y.A)(t,a=>{this.TRACE_INIT(`${a.name} Rule Lookahead`,()=>{const{alternation:u,repetition:d,option:f,repetitionMandatory:v,repetitionMandatoryWithSeparator:C,repetitionWithSeparator:$}=function ua(o){Ir.reset(),o.accept(Ir);const t=Ir.dslMethods;return Ir.reset(),t}(a);(0,y.A)(u,U=>{const X=0===U.idx?"":U.idx;this.TRACE_INIT(`${it(U)}${X}`,()=>{const ee=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:U.idx,rule:a,maxLookahead:U.maxLookahead||this.maxLookahead,hasPredicates:U.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),pe=ns(this.fullRuleNameToShort[a.name],256,U.idx);this.setLaFuncCache(pe,ee)})}),(0,y.A)(d,U=>{this.computeLookaheadFunc(a,U.idx,768,"Repetition",U.maxLookahead,it(U))}),(0,y.A)(f,U=>{this.computeLookaheadFunc(a,U.idx,512,"Option",U.maxLookahead,it(U))}),(0,y.A)(v,U=>{this.computeLookaheadFunc(a,U.idx,1024,"RepetitionMandatory",U.maxLookahead,it(U))}),(0,y.A)(C,U=>{this.computeLookaheadFunc(a,U.idx,1536,"RepetitionMandatoryWithSeparator",U.maxLookahead,it(U))}),(0,y.A)($,U=>{this.computeLookaheadFunc(a,U.idx,1280,"RepetitionWithSeparator",U.maxLookahead,it(U))})})})}computeLookaheadFunc(t,a,u,d,f,v){this.TRACE_INIT(`${v}${0===a?"":a}`,()=>{const C=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:a,rule:t,maxLookahead:f||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:d}),$=ns(this.fullRuleNameToShort[t.name],u,a);this.setLaFuncCache($,C)})}getKeyForAutomaticLookahead(t,a){return ns(this.getLastExplicitRuleShortName(),t,a)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,a){this.lookAheadFuncsCache.set(t,a)}},class j{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=(0,L.A)(t,"nodeLocationTracking")?t.nodeLocationTracking:Jt.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=yi,this.setNodeLocationFromNode=yi,this.cstPostRule=Je.A,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Je.A,this.setNodeLocationFromNode=Je.A,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=gi,this.setNodeLocationFromNode=gi,this.cstPostRule=Je.A,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Je.A,this.setNodeLocationFromNode=Je.A,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`);this.setNodeLocationFromToken=Je.A,this.setNodeLocationFromNode=Je.A,this.cstPostRule=Je.A,this.setInitialNodeLocation=Je.A}else this.cstInvocationStateUpdate=Je.A,this.cstFinallyStateUpdate=Je.A,this.cstPostTerminal=Je.A,this.cstPostNonTerminal=Je.A,this.cstPostRule=Je.A}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const a=this.LA(1);t.location={startOffset:a.startOffset,startLine:a.startLine,startColumn:a.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const a={name:t,children:Object.create(null)};this.setInitialNodeLocation(a),this.CST_STACK.push(a)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const a=this.LA(0),u=t.location;u.startOffset<=a.startOffset?(u.endOffset=a.endOffset,u.endLine=a.endLine,u.endColumn=a.endColumn):(u.startOffset=NaN,u.startLine=NaN,u.startColumn=NaN)}cstPostRuleOnlyOffset(t){const a=this.LA(0),u=t.location;u.startOffset<=a.startOffset?u.endOffset=a.endOffset:u.startOffset=NaN}cstPostTerminal(t,a){const u=this.CST_STACK[this.CST_STACK.length-1];(function i(o,t,a){void 0===o.children[a]?o.children[a]=[t]:o.children[a].push(t)})(u,a,t),this.setNodeLocationFromToken(u.location,a)}cstPostNonTerminal(t,a){const u=this.CST_STACK[this.CST_STACK.length-1];(function e(o,t,a){void 0===o.children[t]?o.children[t]=[a]:o.children[t].push(a)})(u,a,t),this.setNodeLocationFromNode(u.location,t.location)}getBaseCstVisitorConstructor(){if((0,ct.A)(this.baseCstVisitorConstructor)){const t=function l(o,t){const a=function(){};r(a,o+"BaseSemantics");const u={visit:function(d,f){if((0,Xe.A)(d)&&(d=d[0]),!(0,ct.A)(d))return this[d.name](d.children,f)},validateVisitor:function(){const d=function _(o,t){return function O(o,t){const a=(0,vt.A)(t,d=>!1===(0,Xt.A)(o[d])),u=(0,k.A)(a,d=>({msg:`Missing visitor method: <${d}> on ${o.constructor.name} CST Visitor.`,type:h.MISSING_METHOD,methodName:d}));return En(u)}(o,t)}(this,t);if(!(0,B.A)(d)){const f=(0,k.A)(d,v=>v.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${f.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(a.prototype=u).constructor=a,a._RULE_NAMES=t,a}(this.className,(0,F.A)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if((0,ct.A)(this.baseCstVisitorWithDefaultsConstructor)){const t=function c(o,t,a){const u=function(){};r(u,o+"BaseSemanticsWithDefaults");const d=Object.create(a.prototype);return(0,y.A)(t,f=>{d[f]=s}),(u.prototype=d).constructor=u,u}(this.className,(0,F.A)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}},class te{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Ti}LA(t){const a=this.currIdx+t;return a<0||this.tokVectorLength<=a?Ti:this.tokVector[a]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class Me{initRecognizerEngine(t,a){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Kn,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,L.A)(a,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,Xe.A)(t)){if((0,B.A)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,Xe.A)(t))this.tokensMap=(0,yt.A)(t,(f,v)=>(f[v.name]=v,f),{});else if((0,L.A)(t,"modes")&&et((0,ce.A)((0,P.A)(t.modes)),ln)){const f=(0,ce.A)((0,P.A)(t.modes)),v=qt(f);this.tokensMap=(0,yt.A)(v,(C,$)=>(C[$.name]=$,C),{})}else{if(!(0,Z.A)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,b.A)(t)}this.tokensMap.EOF=Qt;const u=(0,L.A)(t,"modes")?(0,ce.A)((0,P.A)(t.modes)):(0,P.A)(t),d=et(u,f=>(0,B.A)(f.categoryMatches));this.tokenMatcher=d?Kn:an,jn((0,P.A)(this.tokensMap))}defineRule(t,a,u){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const d=(0,L.A)(u,"resyncEnabled")?u.resyncEnabled:vi.resyncEnabled,f=(0,L.A)(u,"recoveryValueFunc")?u.recoveryValueFunc:vi.recoveryValueFunc,v=this.ruleShortNameIdx<<12;let C;return this.ruleShortNameIdx++,this.shortRuleNameToFull[v]=t,this.fullRuleNameToShort[t]=v,C=!0===this.outputCst?function(...X){try{this.ruleInvocationStateUpdate(v,t,this.subruleIdx),a.apply(this,X);const ee=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(ee),ee}catch(ee){return this.invokeRuleCatch(ee,d,f)}finally{this.ruleFinallyStateUpdate()}}:function(...X){try{return this.ruleInvocationStateUpdate(v,t,this.subruleIdx),a.apply(this,X)}catch(ee){return this.invokeRuleCatch(ee,d,f)}finally{this.ruleFinallyStateUpdate()}},Object.assign(C,{ruleName:t,originalGrammarAction:a})}invokeRuleCatch(t,a,u){const d=1===this.RULE_STACK.length,f=a&&!this.isBackTracking()&&this.recoveryEnabled;if(vr(t)){const v=t;if(f){const C=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(C)){if(v.resyncedTokens=this.reSyncTo(C),this.outputCst){const $=this.CST_STACK[this.CST_STACK.length-1];return $.recoveredNode=!0,$}return u(t)}if(this.outputCst){const $=this.CST_STACK[this.CST_STACK.length-1];$.recoveredNode=!0,v.partialCstResult=$}throw v}if(d)return this.moveToTerminatedState(),u(t);throw v}throw t}optionInternal(t,a){const u=this.getKeyForAutomaticLookahead(512,a);return this.optionInternalLogic(t,a,u)}optionInternalLogic(t,a,u){let f,d=this.getLaFuncFromCache(u);if("function"!=typeof t){f=t.DEF;const v=t.GATE;if(void 0!==v){const C=d;d=()=>v.call(this)&&C.call(this)}}else f=t;if(!0===d.call(this))return f.call(this)}atLeastOneInternal(t,a){const u=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,a,u)}atLeastOneInternalLogic(t,a,u){let f,d=this.getLaFuncFromCache(u);if("function"!=typeof a){f=a.DEF;const v=a.GATE;if(void 0!==v){const C=d;d=()=>v.call(this)&&C.call(this)}}else f=a;if(!0!==d.call(this))throw this.raiseEarlyExitException(t,ze.REPETITION_MANDATORY,a.ERR_MSG);{let v=this.doSingleRepetition(f);for(;!0===d.call(this)&&!0===v;)v=this.doSingleRepetition(f)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,a],d,1024,t,Bi)}atLeastOneSepFirstInternal(t,a){const u=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,a,u)}atLeastOneSepFirstInternalLogic(t,a,u){const d=a.DEF,f=a.SEP;if(!0!==this.getLaFuncFromCache(u).call(this))throw this.raiseEarlyExitException(t,ze.REPETITION_MANDATORY_WITH_SEPARATOR,a.ERR_MSG);{d.call(this);const C=()=>this.tokenMatcher(this.LA(1),f);for(;!0===this.tokenMatcher(this.LA(1),f);)this.CONSUME(f),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,f,C,d,Xs],C,1536,t,Xs)}}manyInternal(t,a){const u=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,a,u)}manyInternalLogic(t,a,u){let f,d=this.getLaFuncFromCache(u);if("function"!=typeof a){f=a.DEF;const C=a.GATE;if(void 0!==C){const $=d;d=()=>C.call(this)&&$.call(this)}}else f=a;let v=!0;for(;!0===d.call(this)&&!0===v;)v=this.doSingleRepetition(f);this.attemptInRepetitionRecovery(this.manyInternal,[t,a],d,768,t,Vr,v)}manySepFirstInternal(t,a){const u=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,a,u)}manySepFirstInternalLogic(t,a,u){const d=a.DEF,f=a.SEP;if(!0===this.getLaFuncFromCache(u).call(this)){d.call(this);const C=()=>this.tokenMatcher(this.LA(1),f);for(;!0===this.tokenMatcher(this.LA(1),f);)this.CONSUME(f),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,f,C,d,zs],C,1280,t,zs)}}repetitionSepSecondInternal(t,a,u,d,f){for(;u();)this.CONSUME(a),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,a,u,d,f],u,1536,t,f)}doSingleRepetition(t){const a=this.getLexerPosition();return t.call(this),this.getLexerPosition()>a}orInternal(t,a){const u=this.getKeyForAutomaticLookahead(256,a),d=(0,Xe.A)(t)?t:t.DEF,v=this.getLaFuncFromCache(u).call(this,d);if(void 0!==v)return d[v].ALT.call(this);this.raiseNoAltException(a,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const t=this.LA(1),a=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new aa(a,t))}}subruleInternal(t,a,u){let d;try{const f=void 0!==u?u.ARGS:void 0;return this.subruleIdx=a,d=t.apply(this,f),this.cstPostNonTerminal(d,void 0!==u&&void 0!==u.LABEL?u.LABEL:t.ruleName),d}catch(f){throw this.subruleInternalError(f,u,t.ruleName)}}subruleInternalError(t,a,u){throw vr(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==a&&void 0!==a.LABEL?a.LABEL:u),delete t.partialCstResult),t}consumeInternal(t,a,u){let d;try{const f=this.LA(1);!0===this.tokenMatcher(f,t)?(this.consumeToken(),d=f):this.consumeInternalError(t,f,u)}catch(f){d=this.consumeInternalRecovery(t,a,f)}return this.cstPostTerminal(void 0!==u&&void 0!==u.LABEL?u.LABEL:t.name,d),d}consumeInternalError(t,a,u){let d;const f=this.LA(0);throw d=void 0!==u&&u.ERR_MSG?u.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:a,previous:f,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new oi(d,a,f))}consumeInternalRecovery(t,a,u){if(!this.recoveryEnabled||"MismatchedTokenException"!==u.name||this.isBackTracking())throw u;{const d=this.getFollowsForInRuleRecovery(t,a);try{return this.tryInRuleRecovery(t,d)}catch(f){throw f.name===li?u:f}}}saveRecogState(){const t=this.errors,a=(0,b.A)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:a,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,a,u){this.RULE_OCCURRENCE_STACK.push(u),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(a)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Qt)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class se{ACTION(t){return t.call(this)}consume(t,a,u){return this.consumeInternal(a,t,u)}subrule(t,a,u){return this.subruleInternal(a,t,u)}option(t,a){return this.optionInternal(a,t)}or(t,a){return this.orInternal(a,t)}many(t,a){return this.manyInternal(t,a)}atLeastOne(t,a){return this.atLeastOneInternal(t,a)}CONSUME(t,a){return this.consumeInternal(t,0,a)}CONSUME1(t,a){return this.consumeInternal(t,1,a)}CONSUME2(t,a){return this.consumeInternal(t,2,a)}CONSUME3(t,a){return this.consumeInternal(t,3,a)}CONSUME4(t,a){return this.consumeInternal(t,4,a)}CONSUME5(t,a){return this.consumeInternal(t,5,a)}CONSUME6(t,a){return this.consumeInternal(t,6,a)}CONSUME7(t,a){return this.consumeInternal(t,7,a)}CONSUME8(t,a){return this.consumeInternal(t,8,a)}CONSUME9(t,a){return this.consumeInternal(t,9,a)}SUBRULE(t,a){return this.subruleInternal(t,0,a)}SUBRULE1(t,a){return this.subruleInternal(t,1,a)}SUBRULE2(t,a){return this.subruleInternal(t,2,a)}SUBRULE3(t,a){return this.subruleInternal(t,3,a)}SUBRULE4(t,a){return this.subruleInternal(t,4,a)}SUBRULE5(t,a){return this.subruleInternal(t,5,a)}SUBRULE6(t,a){return this.subruleInternal(t,6,a)}SUBRULE7(t,a){return this.subruleInternal(t,7,a)}SUBRULE8(t,a){return this.subruleInternal(t,8,a)}SUBRULE9(t,a){return this.subruleInternal(t,9,a)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,a,u=vi){if(We(this.definedRulesNames,t)){const v={message:bt.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:Rt.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(v)}this.definedRulesNames.push(t);const d=this.defineRule(t,a,u);return this[t]=d,d}OVERRIDE_RULE(t,a,u=vi){const d=function Ji(o,t,a){const u=[];let d;return We(t,o)||(d=`Invalid rule override, rule: ->${o}<- cannot be overridden in the grammar: ->${a}<-as it is not defined in any of the super grammars `,u.push({message:d,type:Rt.INVALID_RULE_OVERRIDE,ruleName:o})),u}(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(d);const f=this.defineRule(t,a,u);return this[t]=f,f}BACKTRACK(t,a){return function(){this.isBackTrackingStack.push(1);const u=this.saveRecogState();try{return t.apply(this,a),!0}catch(d){if(vr(d))return!1;throw d}finally{this.reloadRecogState(u),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return function $t(o){return(0,k.A)(o,jt)}((0,P.A)(this.gastProductionsCache))}},class Be{initErrorHandler(t){this._errors=[],this.errorMessageProvider=(0,L.A)(t,"errorMessageProvider")?t.errorMessageProvider:Jt.errorMessageProvider}SAVE_ERROR(t){if(vr(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,b.A)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return(0,b.A)(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,a,u){const d=this.getCurrRuleFullName(),C=Ar(t,this.getGAstProductions()[d],a,this.maxLookahead)[0],$=[];for(let X=1;X<=this.maxLookahead;X++)$.push(this.LA(X));const U=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:C,actual:$,previous:this.LA(0),customUserDescription:u,ruleName:d});throw this.SAVE_ERROR(new oa(U,this.LA(1),this.LA(0)))}raiseNoAltException(t,a){const u=this.getCurrRuleFullName(),f=yr(t,this.getGAstProductions()[u],this.maxLookahead),v=[];for(let U=1;U<=this.maxLookahead;U++)v.push(this.LA(U));const C=this.LA(0),$=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:f,actual:v,previous:C,customUserDescription:a,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new qr($,this.LA(1),C))}},class Ze{initContentAssist(){}computeContentAssist(t,a){const u=this.gastProductionsCache[t];if((0,ct.A)(u))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return Ys([u],a,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const a=Et(t.ruleStack),d=this.getGAstProductions()[a];return new Gi(d,t).startWalking()}},class Pa{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const a=t>0?t:"";this[`CONSUME${a}`]=function(u,d){return this.consumeInternalRecord(u,t,d)},this[`SUBRULE${a}`]=function(u,d){return this.subruleInternalRecord(u,t,d)},this[`OPTION${a}`]=function(u){return this.optionInternalRecord(u,t)},this[`OR${a}`]=function(u){return this.orInternalRecord(u,t)},this[`MANY${a}`]=function(u){this.manyInternalRecord(t,u)},this[`MANY_SEP${a}`]=function(u){this.manySepFirstInternalRecord(t,u)},this[`AT_LEAST_ONE${a}`]=function(u){this.atLeastOneInternalRecord(t,u)},this[`AT_LEAST_ONE_SEP${a}`]=function(u){this.atLeastOneSepFirstInternalRecord(t,u)}}this.consume=function(t,a,u){return this.consumeInternalRecord(a,t,u)},this.subrule=function(t,a,u){return this.subruleInternalRecord(a,t,u)},this.option=function(t,a){return this.optionInternalRecord(a,t)},this.or=function(t,a){return this.orInternalRecord(a,t)},this.many=function(t,a){this.manyInternalRecord(t,a)},this.atLeastOne=function(t,a){this.atLeastOneInternalRecord(t,a)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let a=0;a<10;a++){const u=a>0?a:"";delete t[`CONSUME${u}`],delete t[`SUBRULE${u}`],delete t[`OPTION${u}`],delete t[`OR${u}`],delete t[`MANY${u}`],delete t[`MANY_SEP${u}`],delete t[`AT_LEAST_ONE${u}`],delete t[`AT_LEAST_ONE_SEP${u}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,a){return()=>!0}LA_RECORD(t){return Ti}topLevelRuleRecord(t,a){try{const u=new Qe({definition:[],name:t});return u.name=t,this.recordingProdStack.push(u),a.call(this),this.recordingProdStack.pop(),u}catch(u){if(!0!==u.KNOWN_RECORDER_ERROR)try{u.message=u.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch{throw u}throw u}}optionInternalRecord(t,a){return rs.call(this,G,t,a)}atLeastOneInternalRecord(t,a){rs.call(this,z,a,t)}atLeastOneSepFirstInternalRecord(t,a){rs.call(this,me,a,t,!0)}manyInternalRecord(t,a){rs.call(this,oe,a,t)}manySepFirstInternalRecord(t,a){rs.call(this,Re,a,t,!0)}orInternalRecord(t,a){return wa.call(this,t,a)}subruleInternalRecord(t,a,u){if(Ai(a),!t||!1===(0,L.A)(t,"ruleName")){const C=new Error(`<SUBRULE${xa(a)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw C.KNOWN_RECORDER_ERROR=!0,C}const d=(0,sn.A)(this.recordingProdStack),v=new De({idx:a,nonTerminalName:t.ruleName,label:u?.LABEL,referencedRule:void 0});return d.definition.push(v),this.outputCst?La:mt}consumeInternalRecord(t,a,u){if(Ai(a),!on(t)){const v=new Error(`<CONSUME${xa(a)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw v.KNOWN_RECORDER_ERROR=!0,v}const d=(0,sn.A)(this.recordingProdStack),f=new Oe({idx:a,terminalType:t,label:u?.LABEL});return d.definition.push(f),Ia}},class Ma{initPerformanceTracer(t){if((0,L.A)(t,"traceInitPerf")){const a=t.traceInitPerf,u="number"==typeof a;this.traceInitMaxIdent=u?a:1/0,this.traceInitPerf=u?a>0:a}else this.traceInitMaxIdent=0,this.traceInitPerf=Jt.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,a){if(!0===this.traceInitPerf){this.traceInitIndent++;const u=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${u}--\x3e <${t}>`);const{time:d,value:f}=cr(a),v=d>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&v(`${u}<-- <${t}> time: ${d}ms`),this.traceInitIndent--,f}return a()}}]);class Ua extends ca{constructor(t,a=Jt){const u=(0,b.A)(a);u.outputCst=!1,super(t,u)}}},7668:(Ce,Q,g)=>{g.d(Q,{mR:()=>Ct,dg:()=>xt,jE:()=>Pn,Tm:()=>mn,eZ:()=>et,e5:()=>It,sr:()=>On,AM:()=>Ln,KX:()=>Gt,YP:()=>wn,K2:()=>A});var y=g(4910),P=g(6024),B=g(8143),k=g(9990),L=g(7050),b=g(6489);const W={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},K={AstReflection:()=>new k.QX};function T(ce){var Le;const at=function E(){const ce=(0,B.WQ)((0,P.u)(L.D),K),Le=(0,B.WQ)((0,P.t)({shared:ce}),W);return ce.ServiceRegistry.register(Le),Le}(),ot=at.serializer.JsonSerializer.deserialize(ce);return at.shared.workspace.LangiumDocumentFactory.fromModel(ot,b.r.parse(`memory://${null!==(Le=ot.name)&&void 0!==Le?Le:"grammar"}.langium`)),ot}var x=g(8650),p=g(1037),R=Object.defineProperty,A=(ce,Le)=>R(ce,"name",{value:Le,configurable:!0}),S="Statement",m="Architecture";A(function N(ce){return oe.isInstance(ce,m)},"isArchitecture");var w="Axis",F="Branch";A(function D(ce){return oe.isInstance(ce,F)},"isBranch");var J="Checkout",le="CherryPicking",de="Commit";A(function V(ce){return oe.isInstance(ce,de)},"isCommit");var ne="Curve",fe="Edge",Ae="Entry",ke="GitGraph";A(function ve(ce){return oe.isInstance(ce,ke)},"isGitGraph");var Ve="Group",q="Info";A(function Y(ce){return oe.isInstance(ce,q)},"isInfo");var ue="Junction",ae="Merge";A(function Ee(ce){return oe.isInstance(ce,ae)},"isMerge");var Te="Option",he="Packet";A(function st(ce){return oe.isInstance(ce,he)},"isPacket");var _e="PacketBlock";A(function be(ce){return oe.isInstance(ce,_e)},"isPacketBlock");var qe="Pie";A(function ft(ce){return oe.isInstance(ce,qe)},"isPie");var De="PieSection";A(function Qe(ce){return oe.isInstance(ce,De)},"isPieSection");var Re,Oe,jt,hn,pn,Xe,I="Radar",G="Service",z="Direction",me=class extends y.kD{static{A(this,"MermaidAstReflection")}getAllTypes(){return[m,w,F,J,le,de,ne,z,fe,Ae,ke,Ve,q,ue,ae,Te,he,_e,qe,De,I,G,S]}computeIsSubtype(ce,Le){switch(ce){case F:case J:case le:case de:case ae:return this.isSubtype(S,Le);case z:return this.isSubtype(ke,Le);default:return!1}}getReferenceType(ce){const Le=`${ce.container.$type}:${ce.property}`;if("Entry:axis"===Le)return w;throw new Error(`${Le} is not a valid reference id.`)}getTypeMetaData(ce){switch(ce){case m:return{name:m,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case w:return{name:w,properties:[{name:"label"},{name:"name"}]};case F:return{name:F,properties:[{name:"name"},{name:"order"}]};case J:return{name:J,properties:[{name:"branch"}]};case le:return{name:le,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case de:return{name:de,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case ne:return{name:ne,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case fe:return{name:fe,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case Ae:return{name:Ae,properties:[{name:"axis"},{name:"value"}]};case ke:return{name:ke,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case Ve:return{name:Ve,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case q:return{name:q,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case ue:return{name:ue,properties:[{name:"id"},{name:"in"}]};case ae:return{name:ae,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case Te:return{name:Te,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case he:return{name:he,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case _e:return{name:_e,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case qe:return{name:qe,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case De:return{name:De,properties:[{name:"label"},{name:"value"}]};case I:return{name:I,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case G:return{name:G,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case z:return{name:z,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:ce,properties:[]}}}},oe=new me,Se=A(()=>Re??(Re=T('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"InfoGrammar"),$t=A(()=>Oe??(Oe=T('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PacketGrammar"),ht=A(()=>jt??(jt=T('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PieGrammar"),_t=A(()=>hn??(hn=T('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),Vt=A(()=>pn??(pn=T('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),Ot=A(()=>Xe??(Xe=T('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}')),"RadarGrammar"),Nn={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Lt={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Zt={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Pt={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},$n={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},We={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},On={AstReflection:A(()=>new me,"AstReflection")},It={Grammar:A(()=>Se(),"Grammar"),LanguageMetaData:A(()=>Nn,"LanguageMetaData"),parser:{}},Ln={Grammar:A(()=>$t(),"Grammar"),LanguageMetaData:A(()=>Lt,"LanguageMetaData"),parser:{}},Gt={Grammar:A(()=>ht(),"Grammar"),LanguageMetaData:A(()=>Zt,"LanguageMetaData"),parser:{}},Pn={Grammar:A(()=>_t(),"Grammar"),LanguageMetaData:A(()=>Pt,"LanguageMetaData"),parser:{}},et={Grammar:A(()=>Vt(),"Grammar"),LanguageMetaData:A(()=>$n,"LanguageMetaData"),parser:{}},wn={Grammar:A(()=>Ot(),"Grammar"),LanguageMetaData:A(()=>We,"LanguageMetaData"),parser:{}},Ht={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},xt=class extends x.d{static{A(this,"AbstractMermaidValueConverter")}runConverter(ce,Le,at){let ot=this.runCommonConverter(ce,Le,at);return void 0===ot&&(ot=this.runCustomConverter(ce,Le,at)),void 0===ot?super.runConverter(ce,Le,at):ot}runCommonConverter(ce,Le,at){const ot=Ht[ce.name];if(void 0===ot)return;const lt=ot.exec(Le);if(null!==lt){if(void 0!==lt[1])return lt[1].trim().replace(/[\t ]{2,}/gm," ");if(void 0!==lt[2])return lt[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n")}}},mn=class extends xt{static{A(this,"CommonValueConverter")}runCustomConverter(ce,Le,at){}},Ct=class extends p.Q{static{A(this,"AbstractMermaidTokenBuilder")}constructor(ce){super(),this.keywords=new Set(ce)}buildKeywordTokens(ce,Le,at){const ot=super.buildKeywordTokens(ce,Le,at);return ot.forEach(lt=>{this.keywords.has(lt.name)&&void 0!==lt.PATTERN&&(lt.PATTERN=new RegExp(lt.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),ot}};(class extends Ct{static{A(this,"CommonTokenBuilder")}})},7858:(Ce,Q,g)=>{g.d(Q,{A:()=>T});var y=g(4501),P=g(1984),B=g(9697),k=g(8606),L=g(554),b=g(4662);const K=function W(x,p,R,A){if(!(0,L.A)(x))return x;for(var S=-1,m=(p=(0,B.A)(p,x)).length,N=m-1,w=x;null!=w&&++S<m;){var F=(0,b.A)(p[S]),D=R;if("__proto__"===F||"constructor"===F||"prototype"===F)return x;if(S!=N){var J=w[F];void 0===(D=A?A(J,F,w):void 0)&&(D=(0,L.A)(J)?J:(0,k.A)(p[S+1])?[]:{})}(0,P.A)(w,F,D),w=w[F]}return x},T=function E(x,p,R){for(var A=-1,S=p.length,m={};++A<S;){var N=p[A],w=(0,y.A)(x,N);R(w,N)&&K(m,(0,B.A)(N,x),w)}return m}},8143:(Ce,Q,g)=>{function P(E,T,x,p,R,A,S,m,N){return L([E,T,x,p,R,A,S,m,N].reduce(K,{}))}g.d(Q,{WQ:()=>P});const B=Symbol("isProxy");function L(E,T){const x=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(p,R)=>R===B||W(p,R,E,T||x),getOwnPropertyDescriptor:(p,R)=>(W(p,R,E,T||x),Object.getOwnPropertyDescriptor(p,R)),has:(p,R)=>R in E,ownKeys:()=>[...Object.getOwnPropertyNames(E)]});return x}const b=Symbol();function W(E,T,x,p){if(T in E){if(E[T]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:E[T]});if(E[T]===b)throw new Error('Cycle detected. Please make "'+String(T)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return E[T]}if(T in x){const R=x[T];E[T]=b;try{E[T]="function"==typeof R?R(p):L(R,p)}catch(A){throw E[T]=A instanceof Error?A:void 0,A}return E[T]}}function K(E,T){if(T)for(const[x,p]of Object.entries(T))if(void 0!==p){const R=E[x];E[x]=null!==R&&null!==p&&"object"==typeof R&&"object"==typeof p?K(R,p):p}return E}},8573:(Ce,Q,g)=>{g.d(Q,{p:()=>b,v:()=>W});var y=g(7668),P=g(7050),B=g(8143),k=g(6024),L=class extends y.mR{static{(0,y.K2)(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},b={parser:{TokenBuilder:(0,y.K2)(()=>new L,"TokenBuilder"),ValueConverter:(0,y.K2)(()=>new y.Tm,"ValueConverter")}};function W(K=P.D){const E=(0,B.WQ)((0,k.u)(K),y.sr),T=(0,B.WQ)((0,k.t)({shared:E}),y.e5,b);return E.ServiceRegistry.register(T),{shared:E,Info:T}}(0,y.K2)(W,"createInfoServices")},8650:(Ce,Q,g)=>{g.d(Q,{d:()=>B});var k,y=g(9990),P=g(9843);class B{convert(b,W){let K=W.grammarSource;if((0,y._c)(K)&&(K=(0,P.g4)(K)),(0,y.$g)(K)){const E=K.rule.ref;if(!E)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(E,b,W)}return b}runConverter(b,W,K){var E;switch(b.name.toUpperCase()){case"INT":return k.convertInt(W);case"STRING":return k.convertString(W);case"ID":return k.convertID(W)}switch(null===(E=(0,P.P3)(b))||void 0===E?void 0:E.toLowerCase()){case"number":return k.convertNumber(W);case"boolean":return k.convertBoolean(W);case"bigint":return k.convertBigint(W);case"date":return k.convertDate(W);default:return W}}}!function(L){function W(A){switch(A){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return A}}L.convertString=function b(A){let S="";for(let m=1;m<A.length-1;m++){const N=A.charAt(m);S+="\\"===N?W(A.charAt(++m)):N}return S},L.convertID=function K(A){return"^"===A.charAt(0)?A.substring(1):A},L.convertInt=function E(A){return parseInt(A)},L.convertBigint=function T(A){return BigInt(A)},L.convertDate=function x(A){return new Date(A)},L.convertNumber=function p(A){return Number(A)},L.convertBoolean=function R(A){return"true"===A.toLowerCase()}}(k||(k={}))},8745:(Ce,Q,g)=>{Object.defineProperty(Q,"__esModule",{value:!0}),Q.Emitter=Q.Event=void 0;const y=g(5001);var P;!function(L){const b={dispose(){}};L.None=function(){return b}}(P||(Q.Event=P={}));class B{add(b,W=null,K){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(b),this._contexts.push(W),Array.isArray(K)&&K.push({dispose:()=>this.remove(b,W)})}remove(b,W=null){if(!this._callbacks)return;let K=!1;for(let E=0,T=this._callbacks.length;E<T;E++)if(this._callbacks[E]===b){if(this._contexts[E]===W)return this._callbacks.splice(E,1),void this._contexts.splice(E,1);K=!0}if(K)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...b){if(!this._callbacks)return[];const W=[],K=this._callbacks.slice(0),E=this._contexts.slice(0);for(let T=0,x=K.length;T<x;T++)try{W.push(K[T].apply(E[T],b))}catch(p){(0,y.default)().console.error(p)}return W}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class k{constructor(b){this._options=b}get event(){return this._event||(this._event=(b,W,K)=>{this._callbacks||(this._callbacks=new B),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(b,W);const E={dispose:()=>{this._callbacks&&(this._callbacks.remove(b,W),E.dispose=k._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(K)&&K.push(E),E}),this._event}fire(b){this._callbacks&&this._callbacks.invoke.call(this._callbacks,b)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Q.Emitter=k,k._noop=function(){}},8816:(Ce,Q,g)=>{g.d(Q,{B5:()=>k,Rf:()=>L,Td:()=>b,Vj:()=>W,fq:()=>y,iD:()=>K});class y{constructor(T,x){this.startFn=T,this.nextFn=x}iterator(){const T={state:this.startFn(),next:()=>this.nextFn(T.state),[Symbol.iterator]:()=>T};return T}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const T=this.iterator();let x=0,p=T.next();for(;!p.done;)x++,p=T.next();return x}toArray(){const T=[],x=this.iterator();let p;do{p=x.next(),void 0!==p.value&&T.push(p.value)}while(!p.done);return T}toSet(){return new Set(this)}toMap(T,x){const p=this.map(R=>[T?T(R):R,x?x(R):R]);return new Map(p)}toString(){return this.join()}concat(T){return new y(()=>({first:this.startFn(),firstDone:!1,iterator:T[Symbol.iterator]()}),x=>{let p;if(!x.firstDone){do{if(p=this.nextFn(x.first),!p.done)return p}while(!p.done);x.firstDone=!0}do{if(p=x.iterator.next(),!p.done)return p}while(!p.done);return L})}join(T=","){const x=this.iterator();let R,p="",A=!1;do{R=x.next(),R.done||(A&&(p+=T),p+="string"==typeof(E=R.value)?E:typeof E>"u"?"undefined":"function"==typeof E.toString?E.toString():Object.prototype.toString.call(E)),A=!0}while(!R.done);var E;return p}indexOf(T,x=0){const p=this.iterator();let R=0,A=p.next();for(;!A.done;){if(R>=x&&A.value===T)return R;A=p.next(),R++}return-1}every(T){const x=this.iterator();let p=x.next();for(;!p.done;){if(!T(p.value))return!1;p=x.next()}return!0}some(T){const x=this.iterator();let p=x.next();for(;!p.done;){if(T(p.value))return!0;p=x.next()}return!1}forEach(T){const x=this.iterator();let p=0,R=x.next();for(;!R.done;)T(R.value,p),R=x.next(),p++}map(T){return new y(this.startFn,x=>{const{done:p,value:R}=this.nextFn(x);return p?L:{done:!1,value:T(R)}})}filter(T){return new y(this.startFn,x=>{let p;do{if(p=this.nextFn(x),!p.done&&T(p.value))return p}while(!p.done);return L})}nonNullable(){return this.filter(T=>null!=T)}reduce(T,x){const p=this.iterator();let R=x,A=p.next();for(;!A.done;)R=void 0===R?A.value:T(R,A.value),A=p.next();return R}reduceRight(T,x){return this.recursiveReduce(this.iterator(),T,x)}recursiveReduce(T,x,p){const R=T.next();if(R.done)return p;const A=this.recursiveReduce(T,x,p);return void 0===A?R.value:x(A,R.value)}find(T){const x=this.iterator();let p=x.next();for(;!p.done;){if(T(p.value))return p.value;p=x.next()}}findIndex(T){const x=this.iterator();let p=0,R=x.next();for(;!R.done;){if(T(R.value))return p;R=x.next(),p++}return-1}includes(T){const x=this.iterator();let p=x.next();for(;!p.done;){if(p.value===T)return!0;p=x.next()}return!1}flatMap(T){return new y(()=>({this:this.startFn()}),x=>{do{if(x.iterator){const A=x.iterator.next();if(!A.done)return A;x.iterator=void 0}const{done:p,value:R}=this.nextFn(x.this);if(!p){const A=T(R);if(!B(A))return{done:!1,value:A};x.iterator=A[Symbol.iterator]()}}while(x.iterator);return L})}flat(T){if(void 0===T&&(T=1),T<=0)return this;const x=T>1?this.flat(T-1):this;return new y(()=>({this:x.startFn()}),p=>{do{if(p.iterator){const S=p.iterator.next();if(!S.done)return S;p.iterator=void 0}const{done:R,value:A}=x.nextFn(p.this);if(!R){if(!B(A))return{done:!1,value:A};p.iterator=A[Symbol.iterator]()}}while(p.iterator);return L})}head(){const x=this.iterator().next();if(!x.done)return x.value}tail(T=1){return new y(()=>{const x=this.startFn();for(let p=0;p<T;p++)if(this.nextFn(x).done)return x;return x},this.nextFn)}limit(T){return new y(()=>({size:0,state:this.startFn()}),x=>(x.size++,x.size>T?L:this.nextFn(x.state)))}distinct(T){return new y(()=>({set:new Set,internalState:this.startFn()}),x=>{let p;do{if(p=this.nextFn(x.internalState),!p.done){const R=T?T(p.value):p.value;if(!x.set.has(R))return x.set.add(R),p}}while(!p.done);return L})}exclude(T,x){const p=new Set;for(const R of T){const A=x?x(R):R;p.add(A)}return this.filter(R=>{const A=x?x(R):R;return!p.has(A)})}}function B(E){return!!E&&"function"==typeof E[Symbol.iterator]}const k=new y(()=>{},()=>L),L=Object.freeze({done:!0,value:void 0});function b(...E){if(1===E.length){const T=E[0];if(T instanceof y)return T;if(B(T))return new y(()=>T[Symbol.iterator](),x=>x.next());if("number"==typeof T.length)return new y(()=>({index:0}),x=>x.index<T.length?{done:!1,value:T[x.index++]}:L)}return E.length>1?new y(()=>({collIndex:0,arrIndex:0}),T=>{do{if(T.iterator){const x=T.iterator.next();if(!x.done)return x;T.iterator=void 0}if(T.array){if(T.arrIndex<T.array.length)return{done:!1,value:T.array[T.arrIndex++]};T.array=void 0,T.arrIndex=0}if(T.collIndex<E.length){const x=E[T.collIndex++];B(x)?T.iterator=x[Symbol.iterator]():x&&"number"==typeof x.length&&(T.array=x)}}while(T.iterator||T.array||T.collIndex<E.length);return L}):k}class W extends y{constructor(T,x,p){super(()=>({iterators:p?.includeRoot?[[T][Symbol.iterator]()]:[x(T)[Symbol.iterator]()],pruned:!1}),R=>{for(R.pruned&&(R.iterators.pop(),R.pruned=!1);R.iterators.length>0;){const S=R.iterators[R.iterators.length-1].next();if(!S.done)return R.iterators.push(x(S.value)[Symbol.iterator]()),S;R.iterators.pop()}return L})}iterator(){const T={state:this.startFn(),next:()=>this.nextFn(T.state),prune:()=>{T.state.pruned=!0},[Symbol.iterator]:()=>T};return T}}var K,E;(E=K||(K={})).sum=function T(A){return A.reduce((S,m)=>S+m,0)},E.product=function x(A){return A.reduce((S,m)=>S*m,0)},E.min=function p(A){return A.reduce((S,m)=>Math.min(S,m))},E.max=function R(A){return A.reduce((S,m)=>Math.max(S,m))}},9103:(Ce,Q,g)=>{g.d(Q,{A:()=>k});var y=g(9617),P=g(1287);const k=function B(L,b){var W=-1,K=(0,P.A)(L)?Array(L.length):[];return(0,y.A)(L,function(E,T,x){K[++W]=b(E,T,x)}),K}},9150:(Ce,Q,g)=>{g.d(Q,{A:()=>k});var y=g(4367),P=g(6327);const k=function B(L,b){return(0,y.A)((0,P.A)(L,b),1)}},9186:(Ce,Q,g)=>{g.d(Q,{DM:()=>R,OP:()=>S,SD:()=>k,Uo:()=>T,VN:()=>E,XG:()=>L,YE:()=>W,cQ:()=>K,jm:()=>x});var y=g(4910),P=g(8816),B=g(1512);function k(w){for(const[F,D]of Object.entries(w))F.startsWith("$")||(Array.isArray(D)?D.forEach((J,le)=>{(0,y.ng)(J)&&(J.$container=w,J.$containerProperty=F,J.$containerIndex=le)}):(0,y.ng)(D)&&(D.$container=w,D.$containerProperty=F))}function L(w,F){let D=w;for(;D;){if(F(D))return D;D=D.$container}}function W(w){const D=K(w).$document;if(!D)throw new Error("AST node has no document.");return D}function K(w){for(;w.$container;)w=w.$container;return w}function E(w,F){if(!w)throw new Error("Node must be an AstNode.");const D=F?.range;return new P.fq(()=>({keys:Object.keys(w),keyIndex:0,arrayIndex:0}),J=>{for(;J.keyIndex<J.keys.length;){const le=J.keys[J.keyIndex];if(!le.startsWith("$")){const de=w[le];if((0,y.ng)(de)){if(J.keyIndex++,p(de,D))return{done:!1,value:de}}else if(Array.isArray(de)){for(;J.arrayIndex<de.length;){const ne=de[J.arrayIndex++];if((0,y.ng)(ne)&&p(ne,D))return{done:!1,value:ne}}J.arrayIndex=0}}J.keyIndex++}return P.Rf})}function T(w,F){if(!w)throw new Error("Root node must be an AstNode.");return new P.Vj(w,D=>E(D,F))}function x(w,F){if(!w)throw new Error("Root node must be an AstNode.");return F?.range&&!p(w,F.range)?new P.Vj(w,()=>[]):new P.Vj(w,D=>E(D,F),{includeRoot:!0})}function p(w,F){var D;if(!F)return!0;const J=null===(D=w.$cstNode)||void 0===D?void 0:D.range;return!!J&&(0,B.r4)(J,F)}function R(w){return new P.fq(()=>({keys:Object.keys(w),keyIndex:0,arrayIndex:0}),F=>{for(;F.keyIndex<F.keys.length;){const D=F.keys[F.keyIndex];if(!D.startsWith("$")){const J=w[D];if((0,y.A_)(J))return F.keyIndex++,{done:!1,value:{reference:J,container:w,property:D}};if(Array.isArray(J)){for(;F.arrayIndex<J.length;){const le=F.arrayIndex++,de=J[le];if((0,y.A_)(de))return{done:!1,value:{reference:de,container:w,property:D,index:le}}}F.arrayIndex=0}}F.keyIndex++}return P.Rf})}function S(w,F){const D=w.getTypeMetaData(F.$type),J=F;for(const le of D.properties)void 0!==le.defaultValue&&void 0===J[le.name]&&(J[le.name]=m(le.defaultValue))}function m(w){return Array.isArray(w)?[...w.map(m)]:w}},9311:(Ce,Q,g)=>{g.d(Q,{A:()=>K});var y=g(363),P=g(1319),B=g(7357),k=g(133),L=Object.prototype,b=L.hasOwnProperty;const K=(0,y.A)(function(E,T){E=Object(E);var x=-1,p=T.length,R=p>2?T[2]:void 0;for(R&&(0,B.A)(T[0],T[1],R)&&(p=1);++x<p;)for(var A=T[x],S=(0,k.A)(A),m=-1,N=S.length;++m<N;){var w=S[m],F=E[w];(void 0===F||(0,P.A)(F,L[w])&&!b.call(E,w))&&(E[w]=A[w])}return E})},9843:(Ce,Q,g)=>{g.d(Q,{Bd:()=>R,P3:()=>ae,PV:()=>Ve,Rp:()=>F,S:()=>Ee,SS:()=>N,U5:()=>D,Uz:()=>q,Xq:()=>fe,YV:()=>E,eb:()=>p,g4:()=>x,qO:()=>A});var y=g(2671),P=g(9990),B=g(4910),k=g(9186),L=g(1512),b=g(1021);function E(I,G){const z=new Set,me=function W(I){return I.rules.find(G=>P.s7(G)&&G.entry)}(I);if(!me)return new Set(I.rules);const oe=[me].concat(function K(I){return I.rules.filter(G=>P.rE(G)&&G.hidden)}(I));for(const Se of oe)T(Se,z,G);const Re=new Set;for(const Se of I.rules)(z.has(Se.name)||P.rE(Se)&&Se.hidden)&&Re.add(Se);return Re}function T(I,G,z){G.add(I.name),(0,k.Uo)(I).forEach(me=>{if(P.$g(me)||z&&P.lF(me)){const oe=me.rule.ref;oe&&!G.has(oe.name)&&T(oe,G,z)}})}function x(I){if(I.terminal)return I.terminal;if(I.type.ref){const G=D(I.type.ref);return G?.terminal}}function p(I){return I.hidden&&!(0,b.Yv)(Ee(I))}function R(I,G){return I&&G?S(I,G,I.astNode,!0):[]}function A(I,G,z){if(!I||!G)return;const me=S(I,G,I.astNode,!0);return 0!==me.length?me[z=void 0!==z?Math.max(0,Math.min(z,me.length-1)):0]:void 0}function S(I,G,z,me){if(!me){const oe=(0,k.XG)(I.grammarSource,P.wh);if(oe&&oe.feature===G)return[I]}return(0,B.mD)(I)&&I.astNode===z?I.content.flatMap(oe=>S(oe,G,z,!1)):[]}function N(I,G,z){if(!I)return;const me=function w(I,G,z){if(I.astNode!==z)return[];if(P.wb(I.grammarSource)&&I.grammarSource.value===G)return[I];const me=(0,L.NS)(I).iterator();let oe;const Re=[];do{if(oe=me.next(),!oe.done){const Se=oe.value;Se.astNode===z?P.wb(Se.grammarSource)&&Se.grammarSource.value===G&&Re.push(Se):me.prune()}}while(!oe.done);return Re}(I,G,I?.astNode);return 0!==me.length?me[z=void 0!==z?Math.max(0,Math.min(z,me.length-1)):0]:void 0}function F(I){var G;const z=I.astNode;for(;z===(null===(G=I.container)||void 0===G?void 0:G.astNode);){const me=(0,k.XG)(I.grammarSource,P.wh);if(me)return me;I=I.container}}function D(I){let G=I;return P.SP(G)&&(P.ve(G.$container)?G=G.$container.$container:P.s7(G.$container)?G=G.$container:(0,y.d)(G.$container)),J(I,G,new Map)}function J(I,G,z){var me;function oe(Re,Se){let Oe;return(0,k.XG)(Re,P.wh)||(Oe=J(Se,Se,z)),z.set(I,Oe),Oe}if(z.has(I))return z.get(I);z.set(I,void 0);for(const Re of(0,k.Uo)(G)){if(P.wh(Re)&&"name"===Re.feature.toLowerCase())return z.set(I,Re),Re;if(P.$g(Re)&&P.s7(Re.rule.ref))return oe(Re,Re.rule.ref);if(P.D8(Re)&&null!==(me=Re.typeRef)&&void 0!==me&&me.ref)return oe(Re,Re.typeRef.ref)}}function fe(I){return Ae(I,new Set)}function Ae(I,G){if(G.has(I))return!0;G.add(I);for(const z of(0,k.Uo)(I))if(P.$g(z)){if(!z.rule.ref||P.s7(z.rule.ref)&&!Ae(z.rule.ref,G))return!1}else{if(P.wh(z))return!1;if(P.ve(z))return!1}return!!I.definition}function Ve(I){if(I.inferredType)return I.inferredType.name;if(I.dataType)return I.dataType;if(I.returnType){const G=I.returnType.ref;if(G){if(P.s7(G))return G.name;if(P.S2(G)||P.Xj(G))return G.name}}}function q(I){var G;if(P.s7(I))return fe(I)?I.name:null!==(G=Ve(I))&&void 0!==G?G:I.name;if(P.S2(I)||P.Xj(I)||P.fG(I))return I.name;if(P.ve(I)){const z=function Y(I){var G;return I.inferredType?I.inferredType.name:null!==(G=I.type)&&void 0!==G&&G.ref?q(I.type.ref):void 0}(I);if(z)return z}else if(P.SP(I))return I.name;throw new Error("Cannot get name of Unknown Type")}function ae(I){var G,z,me;return P.rE(I)?null!==(z=null===(G=I.type)||void 0===G?void 0:G.name)&&void 0!==z?z:"string":null!==(me=Ve(I))&&void 0!==me?me:I.name}function Ee(I){const G={s:!1,i:!1,u:!1},z=he(I.definition,G),me=Object.entries(G).filter(([,oe])=>oe).map(([oe])=>oe).join("");return new RegExp(z,me)}const Te=/[\s\S]/.source;function he(I,G){if(P.Fy(I))return function st(I){return Qe(I.elements.map(G=>he(G)).join("|"),{cardinality:I.cardinality,lookahead:I.lookahead})}(I);if(P.O4(I))return function _e(I){return Qe(I.elements.map(G=>he(G)).join(""),{cardinality:I.cardinality,lookahead:I.lookahead})}(I);if(P.Bg(I))return function ft(I){return Qe(I.right?`[${De(I.left)}-${De(I.right)}]`:De(I.left),{cardinality:I.cardinality,lookahead:I.lookahead,wrap:!1})}(I);if(P.lF(I)){const z=I.rule.ref;if(!z)throw new Error("Missing rule reference.");return Qe(he(z.definition),{cardinality:I.cardinality,lookahead:I.lookahead})}if(P.GL(I))return function qe(I){return Qe(`(?!${he(I.terminal)})${Te}*?`,{cardinality:I.cardinality,lookahead:I.lookahead})}(I);if(P.Mz(I))return function be(I){return Qe(`${Te}*?${he(I.terminal)}`,{cardinality:I.cardinality,lookahead:I.lookahead})}(I);if(P.vd(I)){const z=I.regex.lastIndexOf("/"),me=I.regex.substring(1,z),oe=I.regex.substring(z+1);return G&&(G.i=oe.includes("i"),G.s=oe.includes("s"),G.u=oe.includes("u")),Qe(me,{cardinality:I.cardinality,lookahead:I.lookahead,wrap:!1})}if(P.z2(I))return Qe(Te,{cardinality:I.cardinality,lookahead:I.lookahead});throw new Error(`Invalid terminal element: ${I?.$type}`)}function De(I){return(0,b.Nt)(I.value)}function Qe(I,G){var z;return(!1!==G.wrap||G.lookahead)&&(I=`(${null!==(z=G.lookahead)&&void 0!==z?z:""}${I})`),G.cardinality?`${I}${G.cardinality}`:I}},9990:(Ce,Q,g)=>{g.d(Q,{$g:()=>Le,Bg:()=>Ln,Ct:()=>st,Cz:()=>le,D8:()=>Oe,FO:()=>wn,Fy:()=>ot,GL:()=>mn,IZ:()=>Mn,Mz:()=>zt,O4:()=>Qn,QX:()=>we,RP:()=>fe,S2:()=>ae,SP:()=>Y,TF:()=>Qe,Tu:()=>V,Xj:()=>pn,_c:()=>Pn,cY:()=>Ke,fG:()=>Re,jp:()=>$n,lF:()=>kr,r1:()=>m,rE:()=>hn,s7:()=>G,vd:()=>qt,ve:()=>Zt,wb:()=>Ht,wh:()=>On,z2:()=>gn});var y=g(4910);const B="AbstractRule",L="AbstractType",W="Condition",x="TypeDefinition",R="ValueLiteral",S="AbstractElement";function m(H){return re.isInstance(H,S)}const N="ArrayLiteral",F="ArrayType",J="BooleanLiteral";function le(H){return re.isInstance(H,J)}const de="Conjunction";function V(H){return re.isInstance(H,de)}const ne="Disjunction";function fe(H){return re.isInstance(H,ne)}const Ae="Grammar",ve="GrammarImport",q="InferredType";function Y(H){return re.isInstance(H,q)}const ue="Interface";function ae(H){return re.isInstance(H,ue)}const Ee="NamedArgument",he="Negation";function st(H){return re.isInstance(H,he)}const _e="NumberLiteral",qe="Parameter",De="ParameterReference";function Qe(H){return re.isInstance(H,De)}const I="ParserRule";function G(H){return re.isInstance(H,I)}const z="ReferenceType",oe="ReturnType";function Re(H){return re.isInstance(H,oe)}const Se="SimpleType";function Oe(H){return re.isInstance(H,Se)}const $t="StringLiteral",ht="TerminalRule";function hn(H){return re.isInstance(H,ht)}const _t="Type";function pn(H){return re.isInstance(H,_t)}const Vt="TypeAttribute",Ot="UnionType",Lt="Action";function Zt(H){return re.isInstance(H,Lt)}const Pt="Alternatives";function $n(H){return re.isInstance(H,Pt)}const We="Assignment";function On(H){return re.isInstance(H,We)}const It="CharacterRange";function Ln(H){return re.isInstance(H,It)}const Gt="CrossReference";function Pn(H){return re.isInstance(H,Gt)}const et="EndOfFile";function wn(H){return re.isInstance(H,et)}const Tt="Group";function Mn(H){return re.isInstance(H,Tt)}const it="Keyword";function Ht(H){return re.isInstance(H,it)}const xt="NegatedToken";function mn(H){return re.isInstance(H,xt)}const Ct="RegexToken";function qt(H){return re.isInstance(H,Ct)}const ce="RuleCall";function Le(H){return re.isInstance(H,ce)}const at="TerminalAlternatives";function ot(H){return re.isInstance(H,at)}const lt="TerminalGroup";function Qn(H){return re.isInstance(H,lt)}const en="TerminalRuleCall";function kr(H){return re.isInstance(H,en)}const tn="UnorderedGroup";function Ke(H){return re.isInstance(H,tn)}const ct="UntilToken";function zt(H){return re.isInstance(H,ct)}const wt="Wildcard";function gn(H){return re.isInstance(H,wt)}class we extends y.kD{getAllTypes(){return[S,B,L,Lt,Pt,N,F,We,J,It,W,de,Gt,ne,et,Ae,ve,Tt,q,ue,it,Ee,xt,he,_e,qe,De,I,z,Ct,oe,ce,Se,$t,at,lt,ht,en,_t,Vt,x,Ot,tn,ct,R,wt]}computeIsSubtype(Mt,ut){switch(Mt){case Lt:case Pt:case We:case It:case Gt:case et:case Tt:case it:case xt:case Ct:case ce:case at:case lt:case en:case tn:case ct:case wt:return this.isSubtype(S,ut);case N:case _e:case $t:return this.isSubtype(R,ut);case F:case z:case Se:case Ot:return this.isSubtype(x,ut);case J:return this.isSubtype(W,ut)||this.isSubtype(R,ut);case de:case ne:case he:case De:return this.isSubtype(W,ut);case q:case ue:case _t:return this.isSubtype(L,ut);case I:return this.isSubtype(B,ut)||this.isSubtype(L,ut);case ht:return this.isSubtype(B,ut);default:return!1}}getReferenceType(Mt){const ut=`${Mt.container.$type}:${Mt.property}`;switch(ut){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return L;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return B;case"Grammar:usedGrammars":return Ae;case"NamedArgument:parameter":case"ParameterReference:parameter":return qe;case"TerminalRuleCall:rule":return ht;default:throw new Error(`${ut} is not a valid reference id.`)}}getTypeMetaData(Mt){switch(Mt){case S:return{name:S,properties:[{name:"cardinality"},{name:"lookahead"}]};case N:return{name:N,properties:[{name:"elements",defaultValue:[]}]};case F:return{name:F,properties:[{name:"elementType"}]};case J:return{name:J,properties:[{name:"true",defaultValue:!1}]};case de:return{name:de,properties:[{name:"left"},{name:"right"}]};case ne:return{name:ne,properties:[{name:"left"},{name:"right"}]};case Ae:return{name:Ae,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case ve:return{name:ve,properties:[{name:"path"}]};case q:return{name:q,properties:[{name:"name"}]};case ue:return{name:ue,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case Ee:return{name:Ee,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case he:return{name:he,properties:[{name:"value"}]};case _e:return{name:_e,properties:[{name:"value"}]};case qe:return{name:qe,properties:[{name:"name"}]};case De:return{name:De,properties:[{name:"parameter"}]};case I:return{name:I,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case z:return{name:z,properties:[{name:"referenceType"}]};case oe:return{name:oe,properties:[{name:"name"}]};case Se:return{name:Se,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case $t:return{name:$t,properties:[{name:"value"}]};case ht:return{name:ht,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case _t:return{name:_t,properties:[{name:"name"},{name:"type"}]};case Vt:return{name:Vt,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Ot:return{name:Ot,properties:[{name:"types",defaultValue:[]}]};case Lt:return{name:Lt,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case Pt:return{name:Pt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case We:return{name:We,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case It:return{name:It,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case Gt:return{name:Gt,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case et:return{name:et,properties:[{name:"cardinality"},{name:"lookahead"}]};case Tt:return{name:Tt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case it:return{name:it,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case xt:return{name:xt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Ct:return{name:Ct,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case ce:return{name:ce,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case at:return{name:at,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case lt:return{name:lt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case en:return{name:en,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case tn:return{name:tn,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case ct:return{name:ct,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case wt:return{name:wt,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:Mt,properties:[]}}}}const re=new we}}]);